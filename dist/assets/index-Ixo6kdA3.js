(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();function yl(t,e){const n=new Set(t.split(","));return e?s=>n.has(s.toLowerCase()):s=>n.has(s)}const ge={},vs=[],ht=()=>{},lg=()=>!1,Qr=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),bl=t=>t.startsWith("onUpdate:"),Me=Object.assign,wl=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},cg=Object.prototype.hasOwnProperty,se=(t,e)=>cg.call(t,e),G=Array.isArray,Es=t=>Fi(t)==="[object Map]",Pf=t=>Fi(t)==="[object Set]",ug=t=>Fi(t)==="[object RegExp]",z=t=>typeof t=="function",we=t=>typeof t=="string",Us=t=>typeof t=="symbol",Ee=t=>t!==null&&typeof t=="object",Lf=t=>(Ee(t)||z(t))&&z(t.then)&&z(t.catch),Mf=Object.prototype.toString,Fi=t=>Mf.call(t),hg=t=>Fi(t).slice(8,-1),kf=t=>Fi(t)==="[object Object]",Cl=t=>we(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,fr=yl(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Xr=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},fg=/-(\w)/g,Lt=Xr(t=>t.replace(fg,(e,n)=>n?n.toUpperCase():"")),dg=/\B([A-Z])/g,js=Xr(t=>t.replace(dg,"-$1").toLowerCase()),Jr=Xr(t=>t.charAt(0).toUpperCase()+t.slice(1)),Lo=Xr(t=>t?`on${Jr(t)}`:""),_n=(t,e)=>!Object.is(t,e),ys=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},Er=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},Aa=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let Qc;const $f=()=>Qc||(Qc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Tl(t){if(G(t)){const e={};for(let n=0;n<t.length;n++){const s=t[n],i=we(s)?gg(s):Tl(s);if(i)for(const r in i)e[r]=i[r]}return e}else if(we(t)||Ee(t))return t}const pg=/;(?![^(]*\))/g,_g=/:([^]+)/,mg=/\/\*[^]*?\*\//g;function gg(t){const e={};return t.replace(mg,"").split(pg).forEach(n=>{if(n){const s=n.split(_g);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e}function Vi(t){let e="";if(we(t))e=t;else if(G(t))for(let n=0;n<t.length;n++){const s=Vi(t[n]);s&&(e+=s+" ")}else if(Ee(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const vg="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Eg=yl(vg);function Ff(t){return!!t||t===""}const ct=t=>we(t)?t:t==null?"":G(t)||Ee(t)&&(t.toString===Mf||!z(t.toString))?JSON.stringify(t,Vf,2):String(t),Vf=(t,e)=>e&&e.__v_isRef?Vf(t,e.value):Es(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[s,i],r)=>(n[Mo(s,r)+" =>"]=i,n),{})}:Pf(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>Mo(n))}:Us(e)?Mo(e):Ee(e)&&!G(e)&&!kf(e)?String(e):e,Mo=(t,e="")=>{var n;return Us(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};let Nt;class yg{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Nt,!e&&Nt&&(this.index=(Nt.scopes||(Nt.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=Nt;try{return Nt=this,e()}finally{Nt=n}}}on(){Nt=this}off(){Nt=this.parent}stop(e){if(this._active){let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.scopes)for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function bg(t,e=Nt){e&&e.active&&e.effects.push(t)}let Fn;class Sl{constructor(e,n,s,i){this.fn=e,this.trigger=n,this.scheduler=s,this.active=!0,this.deps=[],this._dirtyLevel=3,this._trackId=0,this._runnings=0,this._queryings=0,this._depsLength=0,bg(this,i)}get dirty(){if(this._dirtyLevel===1){this._dirtyLevel=0,this._queryings++,es();for(const e of this.deps)if(e.computed&&(wg(e.computed),this._dirtyLevel>=2))break;ts(),this._queryings--}return this._dirtyLevel>=2}set dirty(e){this._dirtyLevel=e?3:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let e=ln,n=Fn;try{return ln=!0,Fn=this,this._runnings++,Xc(this),this.fn()}finally{Jc(this),this._runnings--,Fn=n,ln=e}}stop(){var e;this.active&&(Xc(this),Jc(this),(e=this.onStop)==null||e.call(this),this.active=!1)}}function wg(t){return t.value}function Xc(t){t._trackId++,t._depsLength=0}function Jc(t){if(t.deps&&t.deps.length>t._depsLength){for(let e=t._depsLength;e<t.deps.length;e++)Bf(t.deps[e],t);t.deps.length=t._depsLength}}function Bf(t,e){const n=t.get(e);n!==void 0&&e._trackId!==n&&(t.delete(e),t.size===0&&t.cleanup())}let ln=!0,Ia=0;const Hf=[];function es(){Hf.push(ln),ln=!1}function ts(){const t=Hf.pop();ln=t===void 0?!0:t}function Al(){Ia++}function Il(){for(Ia--;!Ia&&Na.length;)Na.shift()()}function Wf(t,e,n){if(e.get(t)!==t._trackId){e.set(t,t._trackId);const s=t.deps[t._depsLength];s!==e?(s&&Bf(s,t),t.deps[t._depsLength++]=e):t._depsLength++}}const Na=[];function Uf(t,e,n){Al();for(const s of t.keys())if(!(!s.allowRecurse&&s._runnings)&&s._dirtyLevel<e&&(!s._runnings||e!==2)){const i=s._dirtyLevel;s._dirtyLevel=e,i===0&&(!s._queryings||e!==2)&&(s.trigger(),s.scheduler&&Na.push(s.scheduler))}Il()}const jf=(t,e)=>{const n=new Map;return n.cleanup=t,n.computed=e,n},Oa=new WeakMap,Vn=Symbol(""),Ra=Symbol("");function Qe(t,e,n){if(ln&&Fn){let s=Oa.get(t);s||Oa.set(t,s=new Map);let i=s.get(n);i||s.set(n,i=jf(()=>s.delete(n))),Wf(Fn,i)}}function Wt(t,e,n,s,i,r){const o=Oa.get(t);if(!o)return;let a=[];if(e==="clear")a=[...o.values()];else if(n==="length"&&G(t)){const l=Number(s);o.forEach((c,u)=>{(u==="length"||!Us(u)&&u>=l)&&a.push(c)})}else switch(n!==void 0&&a.push(o.get(n)),e){case"add":G(t)?Cl(n)&&a.push(o.get("length")):(a.push(o.get(Vn)),Es(t)&&a.push(o.get(Ra)));break;case"delete":G(t)||(a.push(o.get(Vn)),Es(t)&&a.push(o.get(Ra)));break;case"set":Es(t)&&a.push(o.get(Vn));break}Al();for(const l of a)l&&Uf(l,3);Il()}const Cg=yl("__proto__,__v_isRef,__isVue"),Kf=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Us)),Zc=Tg();function Tg(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const s=ae(this);for(let r=0,o=this.length;r<o;r++)Qe(s,"get",r+"");const i=s[e](...n);return i===-1||i===!1?s[e](...n.map(ae)):i}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){es(),Al();const s=ae(this)[e].apply(this,n);return Il(),ts(),s}}),t}function Sg(t){const e=ae(this);return Qe(e,"has",t),e.hasOwnProperty(t)}class Gf{constructor(e=!1,n=!1){this._isReadonly=e,this._shallow=n}get(e,n,s){const i=this._isReadonly,r=this._shallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return r;if(n==="__v_raw")return s===(i?r?Fg:Qf:r?Yf:qf).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(s)?e:void 0;const o=G(e);if(!i){if(o&&se(Zc,n))return Reflect.get(Zc,n,s);if(n==="hasOwnProperty")return Sg}const a=Reflect.get(e,n,s);return(Us(n)?Kf.has(n):Cg(n))||(i||Qe(e,"get",n),r)?a:De(a)?o&&Cl(n)?a:a.value:Ee(a)?i?Jf(a):eo(a):a}}class zf extends Gf{constructor(e=!1){super(!1,e)}set(e,n,s,i){let r=e[n];if(!this._shallow){const l=As(r);if(!yr(s)&&!As(s)&&(r=ae(r),s=ae(s)),!G(e)&&De(r)&&!De(s))return l?!1:(r.value=s,!0)}const o=G(e)&&Cl(n)?Number(n)<e.length:se(e,n),a=Reflect.set(e,n,s,i);return e===ae(i)&&(o?_n(s,r)&&Wt(e,"set",n,s):Wt(e,"add",n,s)),a}deleteProperty(e,n){const s=se(e,n);e[n];const i=Reflect.deleteProperty(e,n);return i&&s&&Wt(e,"delete",n,void 0),i}has(e,n){const s=Reflect.has(e,n);return(!Us(n)||!Kf.has(n))&&Qe(e,"has",n),s}ownKeys(e){return Qe(e,"iterate",G(e)?"length":Vn),Reflect.ownKeys(e)}}class Ag extends Gf{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const Ig=new zf,Ng=new Ag,Og=new zf(!0),Nl=t=>t,Zr=t=>Reflect.getPrototypeOf(t);function Xi(t,e,n=!1,s=!1){t=t.__v_raw;const i=ae(t),r=ae(e);n||(_n(e,r)&&Qe(i,"get",e),Qe(i,"get",r));const{has:o}=Zr(i),a=s?Nl:n?Dl:wi;if(o.call(i,e))return a(t.get(e));if(o.call(i,r))return a(t.get(r));t!==i&&t.get(e)}function Ji(t,e=!1){const n=this.__v_raw,s=ae(n),i=ae(t);return e||(_n(t,i)&&Qe(s,"has",t),Qe(s,"has",i)),t===i?n.has(t):n.has(t)||n.has(i)}function Zi(t,e=!1){return t=t.__v_raw,!e&&Qe(ae(t),"iterate",Vn),Reflect.get(t,"size",t)}function eu(t){t=ae(t);const e=ae(this);return Zr(e).has.call(e,t)||(e.add(t),Wt(e,"add",t,t)),this}function tu(t,e){e=ae(e);const n=ae(this),{has:s,get:i}=Zr(n);let r=s.call(n,t);r||(t=ae(t),r=s.call(n,t));const o=i.call(n,t);return n.set(t,e),r?_n(e,o)&&Wt(n,"set",t,e):Wt(n,"add",t,e),this}function nu(t){const e=ae(this),{has:n,get:s}=Zr(e);let i=n.call(e,t);i||(t=ae(t),i=n.call(e,t)),s&&s.call(e,t);const r=e.delete(t);return i&&Wt(e,"delete",t,void 0),r}function su(){const t=ae(this),e=t.size!==0,n=t.clear();return e&&Wt(t,"clear",void 0,void 0),n}function er(t,e){return function(s,i){const r=this,o=r.__v_raw,a=ae(o),l=e?Nl:t?Dl:wi;return!t&&Qe(a,"iterate",Vn),o.forEach((c,u)=>s.call(i,l(c),l(u),r))}}function tr(t,e,n){return function(...s){const i=this.__v_raw,r=ae(i),o=Es(r),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,c=i[t](...s),u=n?Nl:e?Dl:wi;return!e&&Qe(r,"iterate",l?Ra:Vn),{next(){const{value:h,done:f}=c.next();return f?{value:h,done:f}:{value:a?[u(h[0]),u(h[1])]:u(h),done:f}},[Symbol.iterator](){return this}}}}function en(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function Rg(){const t={get(r){return Xi(this,r)},get size(){return Zi(this)},has:Ji,add:eu,set:tu,delete:nu,clear:su,forEach:er(!1,!1)},e={get(r){return Xi(this,r,!1,!0)},get size(){return Zi(this)},has:Ji,add:eu,set:tu,delete:nu,clear:su,forEach:er(!1,!0)},n={get(r){return Xi(this,r,!0)},get size(){return Zi(this,!0)},has(r){return Ji.call(this,r,!0)},add:en("add"),set:en("set"),delete:en("delete"),clear:en("clear"),forEach:er(!0,!1)},s={get(r){return Xi(this,r,!0,!0)},get size(){return Zi(this,!0)},has(r){return Ji.call(this,r,!0)},add:en("add"),set:en("set"),delete:en("delete"),clear:en("clear"),forEach:er(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(r=>{t[r]=tr(r,!1,!1),n[r]=tr(r,!0,!1),e[r]=tr(r,!1,!0),s[r]=tr(r,!0,!0)}),[t,n,e,s]}const[Dg,xg,Pg,Lg]=Rg();function Ol(t,e){const n=e?t?Lg:Pg:t?xg:Dg;return(s,i,r)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?s:Reflect.get(se(n,i)&&i in s?n:s,i,r)}const Mg={get:Ol(!1,!1)},kg={get:Ol(!1,!0)},$g={get:Ol(!0,!1)},qf=new WeakMap,Yf=new WeakMap,Qf=new WeakMap,Fg=new WeakMap;function Vg(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Bg(t){return t.__v_skip||!Object.isExtensible(t)?0:Vg(hg(t))}function eo(t){return As(t)?t:Rl(t,!1,Ig,Mg,qf)}function Xf(t){return Rl(t,!1,Og,kg,Yf)}function Jf(t){return Rl(t,!0,Ng,$g,Qf)}function Rl(t,e,n,s,i){if(!Ee(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const r=i.get(t);if(r)return r;const o=Bg(t);if(o===0)return t;const a=new Proxy(t,o===2?s:n);return i.set(t,a),a}function bs(t){return As(t)?bs(t.__v_raw):!!(t&&t.__v_isReactive)}function As(t){return!!(t&&t.__v_isReadonly)}function yr(t){return!!(t&&t.__v_isShallow)}function Zf(t){return bs(t)||As(t)}function ae(t){const e=t&&t.__v_raw;return e?ae(e):t}function ed(t){return Er(t,"__v_skip",!0),t}const wi=t=>Ee(t)?eo(t):t,Dl=t=>Ee(t)?Jf(t):t;class td{constructor(e,n,s,i){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new Sl(()=>e(this._value),()=>Da(this,1)),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=s}get value(){const e=ae(this);return nd(e),(!e._cacheable||e.effect.dirty)&&_n(e._value,e._value=e.effect.run())&&Da(e,2),e._value}set value(e){this._setter(e)}get _dirty(){return this.effect.dirty}set _dirty(e){this.effect.dirty=e}}function Hg(t,e,n=!1){let s,i;const r=z(t);return r?(s=t,i=ht):(s=t.get,i=t.set),new td(s,i,r||!i,n)}function nd(t){ln&&Fn&&(t=ae(t),Wf(Fn,t.dep||(t.dep=jf(()=>t.dep=void 0,t instanceof td?t:void 0))))}function Da(t,e=3,n){t=ae(t);const s=t.dep;s&&Uf(s,e)}function De(t){return!!(t&&t.__v_isRef===!0)}function Bt(t){return sd(t,!1)}function Wg(t){return sd(t,!0)}function sd(t,e){return De(t)?t:new Ug(t,e)}class Ug{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:ae(e),this._value=n?e:wi(e)}get value(){return nd(this),this._value}set value(e){const n=this.__v_isShallow||yr(e)||As(e);e=n?e:ae(e),_n(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:wi(e),Da(this,3))}}function He(t){return De(t)?t.value:t}const jg={get:(t,e,n)=>He(Reflect.get(t,e,n)),set:(t,e,n,s)=>{const i=t[e];return De(i)&&!De(n)?(i.value=n,!0):Reflect.set(t,e,n,s)}};function id(t){return bs(t)?t:new Proxy(t,jg)}function cn(t,e,n,s){let i;try{i=s?t(...s):t()}catch(r){to(r,e,n)}return i}function Ct(t,e,n,s){if(z(t)){const r=cn(t,e,n,s);return r&&Lf(r)&&r.catch(o=>{to(o,e,n)}),r}const i=[];for(let r=0;r<t.length;r++)i.push(Ct(t[r],e,n,s));return i}function to(t,e,n,s=!0){const i=e?e.vnode:null;if(e){let r=e.parent;const o=e.proxy,a=`https://vuejs.org/errors/#runtime-${n}`;for(;r;){const c=r.ec;if(c){for(let u=0;u<c.length;u++)if(c[u](t,o,a)===!1)return}r=r.parent}const l=e.appContext.config.errorHandler;if(l){cn(l,null,10,[t,o,a]);return}}Kg(t,n,i,s)}function Kg(t,e,n,s=!0){console.error(t)}let Ci=!1,xa=!1;const $e=[];let Rt=0;const ws=[];let Vt=null,Dn=0;const rd=Promise.resolve();let xl=null;function od(t){const e=xl||rd;return t?e.then(this?t.bind(this):t):e}function Gg(t){let e=Rt+1,n=$e.length;for(;e<n;){const s=e+n>>>1,i=$e[s],r=Ti(i);r<t||r===t&&i.pre?e=s+1:n=s}return e}function Pl(t){(!$e.length||!$e.includes(t,Ci&&t.allowRecurse?Rt+1:Rt))&&(t.id==null?$e.push(t):$e.splice(Gg(t.id),0,t),ad())}function ad(){!Ci&&!xa&&(xa=!0,xl=rd.then(cd))}function zg(t){const e=$e.indexOf(t);e>Rt&&$e.splice(e,1)}function qg(t){G(t)?ws.push(...t):(!Vt||!Vt.includes(t,t.allowRecurse?Dn+1:Dn))&&ws.push(t),ad()}function iu(t,e,n=Ci?Rt+1:0){for(;n<$e.length;n++){const s=$e[n];if(s&&s.pre){if(t&&s.id!==t.uid)continue;$e.splice(n,1),n--,s()}}}function ld(t){if(ws.length){const e=[...new Set(ws)];if(ws.length=0,Vt){Vt.push(...e);return}for(Vt=e,Vt.sort((n,s)=>Ti(n)-Ti(s)),Dn=0;Dn<Vt.length;Dn++)Vt[Dn]();Vt=null,Dn=0}}const Ti=t=>t.id==null?1/0:t.id,Yg=(t,e)=>{const n=Ti(t)-Ti(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function cd(t){xa=!1,Ci=!0,$e.sort(Yg);try{for(Rt=0;Rt<$e.length;Rt++){const e=$e[Rt];e&&e.active!==!1&&cn(e,null,14)}}finally{Rt=0,$e.length=0,ld(),Ci=!1,xl=null,($e.length||ws.length)&&cd()}}function Qg(t,e,...n){if(t.isUnmounted)return;const s=t.vnode.props||ge;let i=n;const r=e.startsWith("update:"),o=r&&e.slice(7);if(o&&o in s){const u=`${o==="modelValue"?"model":o}Modifiers`,{number:h,trim:f}=s[u]||ge;f&&(i=n.map(d=>we(d)?d.trim():d)),h&&(i=n.map(Aa))}let a,l=s[a=Lo(e)]||s[a=Lo(Lt(e))];!l&&r&&(l=s[a=Lo(js(e))]),l&&Ct(l,t,6,i);const c=s[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Ct(c,t,6,i)}}function ud(t,e,n=!1){const s=e.emitsCache,i=s.get(t);if(i!==void 0)return i;const r=t.emits;let o={},a=!1;if(!z(t)){const l=c=>{const u=ud(c,e,!0);u&&(a=!0,Me(o,u))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!r&&!a?(Ee(t)&&s.set(t,null),null):(G(r)?r.forEach(l=>o[l]=null):Me(o,r),Ee(t)&&s.set(t,o),o)}function no(t,e){return!t||!Qr(e)?!1:(e=e.slice(2).replace(/Once$/,""),se(t,e[0].toLowerCase()+e.slice(1))||se(t,js(e))||se(t,e))}let it=null,hd=null;function br(t){const e=it;return it=t,hd=t&&t.type.__scopeId||null,e}function dr(t,e=it,n){if(!e||t._n)return t;const s=(...i)=>{s._d&&_u(-1);const r=br(e);let o;try{o=t(...i)}finally{br(r),s._d&&_u(1)}return o};return s._n=!0,s._c=!0,s._d=!0,s}function ko(t){const{type:e,vnode:n,proxy:s,withProxy:i,props:r,propsOptions:[o],slots:a,attrs:l,emit:c,render:u,renderCache:h,data:f,setupState:d,ctx:g,inheritAttrs:E}=t;let I,O;const b=br(t);try{if(n.shapeFlag&4){const C=i||s,P=C;I=Ot(u.call(P,C,h,r,d,f,g)),O=l}else{const C=e;I=Ot(C.length>1?C(r,{attrs:l,slots:a,emit:c}):C(r,null)),O=e.props?l:Xg(l)}}catch(C){fi.length=0,to(C,t,1),I=Ve(Si)}let N=I;if(O&&E!==!1){const C=Object.keys(O),{shapeFlag:P}=N;C.length&&P&7&&(o&&C.some(bl)&&(O=Jg(O,o)),N=jn(N,O))}return n.dirs&&(N=jn(N),N.dirs=N.dirs?N.dirs.concat(n.dirs):n.dirs),n.transition&&(N.transition=n.transition),I=N,br(b),I}const Xg=t=>{let e;for(const n in t)(n==="class"||n==="style"||Qr(n))&&((e||(e={}))[n]=t[n]);return e},Jg=(t,e)=>{const n={};for(const s in t)(!bl(s)||!(s.slice(9)in e))&&(n[s]=t[s]);return n};function Zg(t,e,n){const{props:s,children:i,component:r}=t,{props:o,children:a,patchFlag:l}=e,c=r.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return s?ru(s,o,c):!!o;if(l&8){const u=e.dynamicProps;for(let h=0;h<u.length;h++){const f=u[h];if(o[f]!==s[f]&&!no(c,f))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:s===o?!1:s?o?ru(s,o,c):!0:!!o;return!1}function ru(t,e,n){const s=Object.keys(e);if(s.length!==Object.keys(t).length)return!0;for(let i=0;i<s.length;i++){const r=s[i];if(e[r]!==t[r]&&!no(n,r))return!0}return!1}function ev({vnode:t,parent:e},n){if(n)for(;e;){const s=e.subTree;if(s.suspense&&s.suspense.activeBranch===t&&(s.el=t.el),s===t)(t=e.vnode).el=n,e=e.parent;else break}}const fd="components",dd=Symbol.for("v-ndc");function tv(t){return we(t)?nv(fd,t,!1)||t:t||dd}function nv(t,e,n=!0,s=!1){const i=it||Le;if(i){const r=i.type;if(t===fd){const a=Va(r,!1);if(a&&(a===e||a===Lt(e)||a===Jr(Lt(e))))return r}const o=ou(i[t]||r[t],e)||ou(i.appContext[t],e);return!o&&s?r:o}}function ou(t,e){return t&&(t[e]||t[Lt(e)]||t[Jr(Lt(e))])}const pd=t=>t.__isSuspense;function sv(t,e){e&&e.pendingBranch?G(t)?e.effects.push(...t):e.effects.push(t):qg(t)}const iv=Symbol.for("v-scx"),rv=()=>Ut(iv),nr={};function ci(t,e,n){return _d(t,e,n)}function _d(t,e,{immediate:n,deep:s,flush:i,once:r,onTrack:o,onTrigger:a}=ge){if(e&&r){const P=e;e=(...V)=>{P(...V),C()}}const l=Le,c=P=>s===!0?P:xn(P,s===!1?1:void 0);let u,h=!1,f=!1;if(De(t)?(u=()=>t.value,h=yr(t)):bs(t)?(u=()=>c(t),h=!0):G(t)?(f=!0,h=t.some(P=>bs(P)||yr(P)),u=()=>t.map(P=>{if(De(P))return P.value;if(bs(P))return c(P);if(z(P))return cn(P,l,2)})):z(t)?e?u=()=>cn(t,l,2):u=()=>(d&&d(),Ct(t,l,3,[g])):u=ht,e&&s){const P=u;u=()=>xn(P())}let d,g=P=>{d=N.onStop=()=>{cn(P,l,4),d=N.onStop=void 0}},E;if(ao)if(g=ht,e?n&&Ct(e,l,3,[u(),f?[]:void 0,g]):u(),i==="sync"){const P=rv();E=P.__watcherHandles||(P.__watcherHandles=[])}else return ht;let I=f?new Array(t.length).fill(nr):nr;const O=()=>{if(!(!N.active||!N.dirty))if(e){const P=N.run();(s||h||(f?P.some((V,K)=>_n(V,I[K])):_n(P,I)))&&(d&&d(),Ct(e,l,3,[P,I===nr?void 0:f&&I[0]===nr?[]:I,g]),I=P)}else N.run()};O.allowRecurse=!!e;let b;i==="sync"?b=O:i==="post"?b=()=>Pe(O,l&&l.suspense):(O.pre=!0,l&&(O.id=l.uid),b=()=>Pl(O));const N=new Sl(u,ht,b),C=()=>{N.stop(),l&&l.scope&&wl(l.scope.effects,N)};return e?n?O():I=N.run():i==="post"?Pe(N.run.bind(N),l&&l.suspense):N.run(),E&&E.push(C),C}function ov(t,e,n){const s=this.proxy,i=we(t)?t.includes(".")?md(s,t):()=>s[t]:t.bind(s,s);let r;z(e)?r=e:(r=e.handler,n=e);const o=Le;Is(this);const a=_d(i,r.bind(s),n);return o?Is(o):Hn(),a}function md(t,e){const n=e.split(".");return()=>{let s=t;for(let i=0;i<n.length&&s;i++)s=s[n[i]];return s}}function xn(t,e,n=0,s){if(!Ee(t)||t.__v_skip)return t;if(e&&e>0){if(n>=e)return t;n++}if(s=s||new Set,s.has(t))return t;if(s.add(t),De(t))xn(t.value,e,n,s);else if(G(t))for(let i=0;i<t.length;i++)xn(t[i],e,n,s);else if(Pf(t)||Es(t))t.forEach(i=>{xn(i,e,n,s)});else if(kf(t))for(const i in t)xn(t[i],e,n,s);return t}function wr(t,e){const n=it;if(n===null)return t;const s=lo(n)||n.proxy,i=t.dirs||(t.dirs=[]);for(let r=0;r<e.length;r++){let[o,a,l,c=ge]=e[r];o&&(z(o)&&(o={mounted:o,updated:o}),o.deep&&xn(a),i.push({dir:o,instance:s,value:a,oldValue:void 0,arg:l,modifiers:c}))}return t}function In(t,e,n,s){const i=t.dirs,r=e&&e.dirs;for(let o=0;o<i.length;o++){const a=i[o];r&&(a.oldValue=r[o].value);let l=a.dir[s];l&&(es(),Ct(l,n,8,[t.el,a,t,e]),ts())}}function gd(t,e){t.shapeFlag&6&&t.component?gd(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}/*! #__NO_SIDE_EFFECTS__ */function vd(t,e){return z(t)?Me({name:t.name},e,{setup:t}):t}const ui=t=>!!t.type.__asyncLoader,Ed=t=>t.type.__isKeepAlive,av={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:e}){const n=Uv(),s=n.ctx;if(!s.renderer)return()=>{const b=e.default&&e.default();return b&&b.length===1?b[0]:b};const i=new Map,r=new Set;let o=null;const a=n.suspense,{renderer:{p:l,m:c,um:u,o:{createElement:h}}}=s,f=h("div");s.activate=(b,N,C,P,V)=>{const K=b.component;c(b,N,C,0,a),l(K.vnode,b,N,C,K,a,P,b.slotScopeIds,V),Pe(()=>{K.isDeactivated=!1,K.a&&ys(K.a);const te=b.props&&b.props.onVnodeMounted;te&&lt(te,K.parent,b)},a)},s.deactivate=b=>{const N=b.component;c(b,f,null,1,a),Pe(()=>{N.da&&ys(N.da);const C=b.props&&b.props.onVnodeUnmounted;C&&lt(C,N.parent,b),N.isDeactivated=!0},a)};function d(b){$o(b),u(b,n,a,!0)}function g(b){i.forEach((N,C)=>{const P=Va(N.type);P&&(!b||!b(P))&&E(C)})}function E(b){const N=i.get(b);!o||!us(N,o)?d(N):o&&$o(o),i.delete(b),r.delete(b)}ci(()=>[t.include,t.exclude],([b,N])=>{b&&g(C=>ai(b,C)),N&&g(C=>!ai(N,C))},{flush:"post",deep:!0});let I=null;const O=()=>{I!=null&&i.set(I,Fo(n.subTree))};return io(O),bd(O),wd(()=>{i.forEach(b=>{const{subTree:N,suspense:C}=n,P=Fo(N);if(b.type===P.type&&b.key===P.key){$o(P);const V=P.component.da;V&&Pe(V,C);return}d(b)})}),()=>{if(I=null,!e.default)return null;const b=e.default(),N=b[0];if(b.length>1)return o=null,b;if(!Sr(N)||!(N.shapeFlag&4)&&!(N.shapeFlag&128))return o=null,N;let C=Fo(N);const P=C.type,V=Va(ui(C)?C.type.__asyncResolved||{}:P),{include:K,exclude:te,max:ue}=t;if(K&&(!V||!ai(K,V))||te&&V&&ai(te,V))return o=C,N;const Z=C.key==null?P:C.key,le=i.get(Z);return C.el&&(C=jn(C),N.shapeFlag&128&&(N.ssContent=C)),I=Z,le?(C.el=le.el,C.component=le.component,C.transition&&gd(C,C.transition),C.shapeFlag|=512,r.delete(Z),r.add(Z)):(r.add(Z),ue&&r.size>parseInt(ue,10)&&E(r.values().next().value)),C.shapeFlag|=256,o=C,pd(N.type)?N:C}}},lv=av;function ai(t,e){return G(t)?t.some(n=>ai(n,e)):we(t)?t.split(",").includes(e):ug(t)?t.test(e):!1}function cv(t,e){yd(t,"a",e)}function uv(t,e){yd(t,"da",e)}function yd(t,e,n=Le){const s=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(so(e,s,n),n){let i=n.parent;for(;i&&i.parent;)Ed(i.parent.vnode)&&hv(s,e,n,i),i=i.parent}}function hv(t,e,n,s){const i=so(e,t,s,!0);Cd(()=>{wl(s[e],i)},n)}function $o(t){t.shapeFlag&=-257,t.shapeFlag&=-513}function Fo(t){return t.shapeFlag&128?t.ssContent:t}function so(t,e,n=Le,s=!1){if(n){const i=n[t]||(n[t]=[]),r=e.__weh||(e.__weh=(...o)=>{if(n.isUnmounted)return;es(),Is(n);const a=Ct(e,n,t,o);return Hn(),ts(),a});return s?i.unshift(r):i.push(r),r}}const Xt=t=>(e,n=Le)=>(!ao||t==="sp")&&so(t,(...s)=>e(...s),n),fv=Xt("bm"),io=Xt("m"),dv=Xt("bu"),bd=Xt("u"),wd=Xt("bum"),Cd=Xt("um"),pv=Xt("sp"),_v=Xt("rtg"),mv=Xt("rtc");function gv(t,e=Le){so("ec",t,e)}function Td(t,e,n,s){let i;const r=n&&n[s];if(G(t)||we(t)){i=new Array(t.length);for(let o=0,a=t.length;o<a;o++)i[o]=e(t[o],o,void 0,r&&r[o])}else if(typeof t=="number"){i=new Array(t);for(let o=0;o<t;o++)i[o]=e(o+1,o,void 0,r&&r[o])}else if(Ee(t))if(t[Symbol.iterator])i=Array.from(t,(o,a)=>e(o,a,void 0,r&&r[a]));else{const o=Object.keys(t);i=new Array(o.length);for(let a=0,l=o.length;a<l;a++){const c=o[a];i[a]=e(t[c],c,a,r&&r[a])}}else i=[];return n&&(n[s]=i),i}const Pa=t=>t?kd(t)?lo(t)||t.proxy:Pa(t.parent):null,hi=Me(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Pa(t.parent),$root:t=>Pa(t.root),$emit:t=>t.emit,$options:t=>Ll(t),$forceUpdate:t=>t.f||(t.f=()=>{t.effect.dirty=!0,Pl(t.update)}),$nextTick:t=>t.n||(t.n=od.bind(t.proxy)),$watch:t=>ov.bind(t)}),Vo=(t,e)=>t!==ge&&!t.__isScriptSetup&&se(t,e),vv={get({_:t},e){const{ctx:n,setupState:s,data:i,props:r,accessCache:o,type:a,appContext:l}=t;let c;if(e[0]!=="$"){const d=o[e];if(d!==void 0)switch(d){case 1:return s[e];case 2:return i[e];case 4:return n[e];case 3:return r[e]}else{if(Vo(s,e))return o[e]=1,s[e];if(i!==ge&&se(i,e))return o[e]=2,i[e];if((c=t.propsOptions[0])&&se(c,e))return o[e]=3,r[e];if(n!==ge&&se(n,e))return o[e]=4,n[e];La&&(o[e]=0)}}const u=hi[e];let h,f;if(u)return e==="$attrs"&&Qe(t,"get",e),u(t);if((h=a.__cssModules)&&(h=h[e]))return h;if(n!==ge&&se(n,e))return o[e]=4,n[e];if(f=l.config.globalProperties,se(f,e))return f[e]},set({_:t},e,n){const{data:s,setupState:i,ctx:r}=t;return Vo(i,e)?(i[e]=n,!0):s!==ge&&se(s,e)?(s[e]=n,!0):se(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(r[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:s,appContext:i,propsOptions:r}},o){let a;return!!n[o]||t!==ge&&se(t,o)||Vo(e,o)||(a=r[0])&&se(a,o)||se(s,o)||se(hi,o)||se(i.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:se(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function au(t){return G(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let La=!0;function Ev(t){const e=Ll(t),n=t.proxy,s=t.ctx;La=!1,e.beforeCreate&&lu(e.beforeCreate,t,"bc");const{data:i,computed:r,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:h,mounted:f,beforeUpdate:d,updated:g,activated:E,deactivated:I,beforeDestroy:O,beforeUnmount:b,destroyed:N,unmounted:C,render:P,renderTracked:V,renderTriggered:K,errorCaptured:te,serverPrefetch:ue,expose:Z,inheritAttrs:le,components:Te,directives:de,filters:Je}=e;if(c&&yv(c,s,null),o)for(const q in o){const ee=o[q];z(ee)&&(s[q]=ee.bind(n))}if(i){const q=i.call(n,n);Ee(q)&&(t.data=eo(q))}if(La=!0,r)for(const q in r){const ee=r[q],xe=z(ee)?ee.bind(n,n):z(ee.get)?ee.get.bind(n,n):ht,Ze=!z(ee)&&z(ee.set)?ee.set.bind(n):ht,Ke=st({get:xe,set:Ze});Object.defineProperty(s,q,{enumerable:!0,configurable:!0,get:()=>Ke.value,set:Ce=>Ke.value=Ce})}if(a)for(const q in a)Sd(a[q],s,n,q);if(l){const q=z(l)?l.call(n):l;Reflect.ownKeys(q).forEach(ee=>{pr(ee,q[ee])})}u&&lu(u,t,"c");function ie(q,ee){G(ee)?ee.forEach(xe=>q(xe.bind(n))):ee&&q(ee.bind(n))}if(ie(fv,h),ie(io,f),ie(dv,d),ie(bd,g),ie(cv,E),ie(uv,I),ie(gv,te),ie(mv,V),ie(_v,K),ie(wd,b),ie(Cd,C),ie(pv,ue),G(Z))if(Z.length){const q=t.exposed||(t.exposed={});Z.forEach(ee=>{Object.defineProperty(q,ee,{get:()=>n[ee],set:xe=>n[ee]=xe})})}else t.exposed||(t.exposed={});P&&t.render===ht&&(t.render=P),le!=null&&(t.inheritAttrs=le),Te&&(t.components=Te),de&&(t.directives=de)}function yv(t,e,n=ht){G(t)&&(t=Ma(t));for(const s in t){const i=t[s];let r;Ee(i)?"default"in i?r=Ut(i.from||s,i.default,!0):r=Ut(i.from||s):r=Ut(i),De(r)?Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>r.value,set:o=>r.value=o}):e[s]=r}}function lu(t,e,n){Ct(G(t)?t.map(s=>s.bind(e.proxy)):t.bind(e.proxy),e,n)}function Sd(t,e,n,s){const i=s.includes(".")?md(n,s):()=>n[s];if(we(t)){const r=e[t];z(r)&&ci(i,r)}else if(z(t))ci(i,t.bind(n));else if(Ee(t))if(G(t))t.forEach(r=>Sd(r,e,n,s));else{const r=z(t.handler)?t.handler.bind(n):e[t.handler];z(r)&&ci(i,r,t)}}function Ll(t){const e=t.type,{mixins:n,extends:s}=e,{mixins:i,optionsCache:r,config:{optionMergeStrategies:o}}=t.appContext,a=r.get(e);let l;return a?l=a:!i.length&&!n&&!s?l=e:(l={},i.length&&i.forEach(c=>Cr(l,c,o,!0)),Cr(l,e,o)),Ee(e)&&r.set(e,l),l}function Cr(t,e,n,s=!1){const{mixins:i,extends:r}=e;r&&Cr(t,r,n,!0),i&&i.forEach(o=>Cr(t,o,n,!0));for(const o in e)if(!(s&&o==="expose")){const a=bv[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const bv={data:cu,props:uu,emits:uu,methods:li,computed:li,beforeCreate:Fe,created:Fe,beforeMount:Fe,mounted:Fe,beforeUpdate:Fe,updated:Fe,beforeDestroy:Fe,beforeUnmount:Fe,destroyed:Fe,unmounted:Fe,activated:Fe,deactivated:Fe,errorCaptured:Fe,serverPrefetch:Fe,components:li,directives:li,watch:Cv,provide:cu,inject:wv};function cu(t,e){return e?t?function(){return Me(z(t)?t.call(this,this):t,z(e)?e.call(this,this):e)}:e:t}function wv(t,e){return li(Ma(t),Ma(e))}function Ma(t){if(G(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Fe(t,e){return t?[...new Set([].concat(t,e))]:e}function li(t,e){return t?Me(Object.create(null),t,e):e}function uu(t,e){return t?G(t)&&G(e)?[...new Set([...t,...e])]:Me(Object.create(null),au(t),au(e??{})):e}function Cv(t,e){if(!t)return e;if(!e)return t;const n=Me(Object.create(null),t);for(const s in e)n[s]=Fe(t[s],e[s]);return n}function Ad(){return{app:null,config:{isNativeTag:lg,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Tv=0;function Sv(t,e){return function(s,i=null){z(s)||(s=Me({},s)),i!=null&&!Ee(i)&&(i=null);const r=Ad(),o=new WeakSet;let a=!1;const l=r.app={_uid:Tv++,_component:s,_props:i,_container:null,_context:r,_instance:null,version:Yv,get config(){return r.config},set config(c){},use(c,...u){return o.has(c)||(c&&z(c.install)?(o.add(c),c.install(l,...u)):z(c)&&(o.add(c),c(l,...u))),l},mixin(c){return r.mixins.includes(c)||r.mixins.push(c),l},component(c,u){return u?(r.components[c]=u,l):r.components[c]},directive(c,u){return u?(r.directives[c]=u,l):r.directives[c]},mount(c,u,h){if(!a){const f=Ve(s,i);return f.appContext=r,h===!0?h="svg":h===!1&&(h=void 0),u&&e?e(f,c):t(f,c,h),a=!0,l._container=c,c.__vue_app__=l,lo(f.component)||f.component.proxy}},unmount(){a&&(t(null,l._container),delete l._container.__vue_app__)},provide(c,u){return r.provides[c]=u,l},runWithContext(c){Tr=l;try{return c()}finally{Tr=null}}};return l}}let Tr=null;function pr(t,e){if(Le){let n=Le.provides;const s=Le.parent&&Le.parent.provides;s===n&&(n=Le.provides=Object.create(s)),n[t]=e}}function Ut(t,e,n=!1){const s=Le||it;if(s||Tr){const i=s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:Tr._context.provides;if(i&&t in i)return i[t];if(arguments.length>1)return n&&z(e)?e.call(s&&s.proxy):e}}function Av(t,e,n,s=!1){const i={},r={};Er(r,oo,1),t.propsDefaults=Object.create(null),Id(t,e,i,r);for(const o in t.propsOptions[0])o in i||(i[o]=void 0);n?t.props=s?i:Xf(i):t.type.props?t.props=i:t.props=r,t.attrs=r}function Iv(t,e,n,s){const{props:i,attrs:r,vnode:{patchFlag:o}}=t,a=ae(i),[l]=t.propsOptions;let c=!1;if((s||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let h=0;h<u.length;h++){let f=u[h];if(no(t.emitsOptions,f))continue;const d=e[f];if(l)if(se(r,f))d!==r[f]&&(r[f]=d,c=!0);else{const g=Lt(f);i[g]=ka(l,a,g,d,t,!1)}else d!==r[f]&&(r[f]=d,c=!0)}}}else{Id(t,e,i,r)&&(c=!0);let u;for(const h in a)(!e||!se(e,h)&&((u=js(h))===h||!se(e,u)))&&(l?n&&(n[h]!==void 0||n[u]!==void 0)&&(i[h]=ka(l,a,h,void 0,t,!0)):delete i[h]);if(r!==a)for(const h in r)(!e||!se(e,h))&&(delete r[h],c=!0)}c&&Wt(t,"set","$attrs")}function Id(t,e,n,s){const[i,r]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(fr(l))continue;const c=e[l];let u;i&&se(i,u=Lt(l))?!r||!r.includes(u)?n[u]=c:(a||(a={}))[u]=c:no(t.emitsOptions,l)||(!(l in s)||c!==s[l])&&(s[l]=c,o=!0)}if(r){const l=ae(n),c=a||ge;for(let u=0;u<r.length;u++){const h=r[u];n[h]=ka(i,l,h,c[h],t,!se(c,h))}}return o}function ka(t,e,n,s,i,r){const o=t[n];if(o!=null){const a=se(o,"default");if(a&&s===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&z(l)){const{propsDefaults:c}=i;n in c?s=c[n]:(Is(i),s=c[n]=l.call(null,e),Hn())}else s=l}o[0]&&(r&&!a?s=!1:o[1]&&(s===""||s===js(n))&&(s=!0))}return s}function Nd(t,e,n=!1){const s=e.propsCache,i=s.get(t);if(i)return i;const r=t.props,o={},a=[];let l=!1;if(!z(t)){const u=h=>{l=!0;const[f,d]=Nd(h,e,!0);Me(o,f),d&&a.push(...d)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!r&&!l)return Ee(t)&&s.set(t,vs),vs;if(G(r))for(let u=0;u<r.length;u++){const h=Lt(r[u]);hu(h)&&(o[h]=ge)}else if(r)for(const u in r){const h=Lt(u);if(hu(h)){const f=r[u],d=o[h]=G(f)||z(f)?{type:f}:Me({},f);if(d){const g=pu(Boolean,d.type),E=pu(String,d.type);d[0]=g>-1,d[1]=E<0||g<E,(g>-1||se(d,"default"))&&a.push(h)}}}const c=[o,a];return Ee(t)&&s.set(t,c),c}function hu(t){return t[0]!=="$"}function fu(t){const e=t&&t.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:t===null?"null":""}function du(t,e){return fu(t)===fu(e)}function pu(t,e){return G(e)?e.findIndex(n=>du(n,t)):z(e)&&du(e,t)?0:-1}const Od=t=>t[0]==="_"||t==="$stable",Ml=t=>G(t)?t.map(Ot):[Ot(t)],Nv=(t,e,n)=>{if(e._n)return e;const s=dr((...i)=>Ml(e(...i)),n);return s._c=!1,s},Rd=(t,e,n)=>{const s=t._ctx;for(const i in t){if(Od(i))continue;const r=t[i];if(z(r))e[i]=Nv(i,r,s);else if(r!=null){const o=Ml(r);e[i]=()=>o}}},Dd=(t,e)=>{const n=Ml(e);t.slots.default=()=>n},Ov=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=ae(e),Er(e,"_",n)):Rd(e,t.slots={})}else t.slots={},e&&Dd(t,e);Er(t.slots,oo,1)},Rv=(t,e,n)=>{const{vnode:s,slots:i}=t;let r=!0,o=ge;if(s.shapeFlag&32){const a=e._;a?n&&a===1?r=!1:(Me(i,e),!n&&a===1&&delete i._):(r=!e.$stable,Rd(e,i)),o=e}else e&&(Dd(t,e),o={default:1});if(r)for(const a in i)!Od(a)&&o[a]==null&&delete i[a]};function $a(t,e,n,s,i=!1){if(G(t)){t.forEach((f,d)=>$a(f,e&&(G(e)?e[d]:e),n,s,i));return}if(ui(s)&&!i)return;const r=s.shapeFlag&4?lo(s.component)||s.component.proxy:s.el,o=i?null:r,{i:a,r:l}=t,c=e&&e.r,u=a.refs===ge?a.refs={}:a.refs,h=a.setupState;if(c!=null&&c!==l&&(we(c)?(u[c]=null,se(h,c)&&(h[c]=null)):De(c)&&(c.value=null)),z(l))cn(l,a,12,[o,u]);else{const f=we(l),d=De(l);if(f||d){const g=()=>{if(t.f){const E=f?se(h,l)?h[l]:u[l]:l.value;i?G(E)&&wl(E,r):G(E)?E.includes(r)||E.push(r):f?(u[l]=[r],se(h,l)&&(h[l]=u[l])):(l.value=[r],t.k&&(u[t.k]=l.value))}else f?(u[l]=o,se(h,l)&&(h[l]=o)):d&&(l.value=o,t.k&&(u[t.k]=o))};o?(g.id=-1,Pe(g,n)):g()}}}const Pe=sv;function Dv(t){return xv(t)}function xv(t,e){const n=$f();n.__VUE__=!0;const{insert:s,remove:i,patchProp:r,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:h,nextSibling:f,setScopeId:d=ht,insertStaticContent:g}=t,E=(p,_,m,v=null,w=null,T=null,M=void 0,R=null,x=!!_.dynamicChildren)=>{if(p===_)return;p&&!us(p,_)&&(v=y(p),Ce(p,w,T,!0),p=null),_.patchFlag===-2&&(x=!1,_.dynamicChildren=null);const{type:A,ref:$,shapeFlag:H}=_;switch(A){case ro:I(p,_,m,v);break;case Si:O(p,_,m,v);break;case Ho:p==null&&b(_,m,v,M);break;case ut:Te(p,_,m,v,w,T,M,R,x);break;default:H&1?P(p,_,m,v,w,T,M,R,x):H&6?de(p,_,m,v,w,T,M,R,x):(H&64||H&128)&&A.process(p,_,m,v,w,T,M,R,x,L)}$!=null&&w&&$a($,p&&p.ref,T,_||p,!_)},I=(p,_,m,v)=>{if(p==null)s(_.el=a(_.children),m,v);else{const w=_.el=p.el;_.children!==p.children&&c(w,_.children)}},O=(p,_,m,v)=>{p==null?s(_.el=l(_.children||""),m,v):_.el=p.el},b=(p,_,m,v)=>{[p.el,p.anchor]=g(p.children,_,m,v,p.el,p.anchor)},N=({el:p,anchor:_},m,v)=>{let w;for(;p&&p!==_;)w=f(p),s(p,m,v),p=w;s(_,m,v)},C=({el:p,anchor:_})=>{let m;for(;p&&p!==_;)m=f(p),i(p),p=m;i(_)},P=(p,_,m,v,w,T,M,R,x)=>{_.type==="svg"?M="svg":_.type==="math"&&(M="mathml"),p==null?V(_,m,v,w,T,M,R,x):ue(p,_,w,T,M,R,x)},V=(p,_,m,v,w,T,M,R)=>{let x,A;const{props:$,shapeFlag:H,transition:F,dirs:j}=p;if(x=p.el=o(p.type,T,$&&$.is,$),H&8?u(x,p.children):H&16&&te(p.children,x,null,v,w,Bo(p,T),M,R),j&&In(p,null,v,"created"),K(x,p,p.scopeId,M,v),$){for(const oe in $)oe!=="value"&&!fr(oe)&&r(x,oe,null,$[oe],T,p.children,v,w,ye);"value"in $&&r(x,"value",null,$.value,T),(A=$.onVnodeBeforeMount)&&lt(A,v,p)}j&&In(p,null,v,"beforeMount");const Y=Pv(w,F);Y&&F.beforeEnter(x),s(x,_,m),((A=$&&$.onVnodeMounted)||Y||j)&&Pe(()=>{A&&lt(A,v,p),Y&&F.enter(x),j&&In(p,null,v,"mounted")},w)},K=(p,_,m,v,w)=>{if(m&&d(p,m),v)for(let T=0;T<v.length;T++)d(p,v[T]);if(w){let T=w.subTree;if(_===T){const M=w.vnode;K(p,M,M.scopeId,M.slotScopeIds,w.parent)}}},te=(p,_,m,v,w,T,M,R,x=0)=>{for(let A=x;A<p.length;A++){const $=p[A]=R?sn(p[A]):Ot(p[A]);E(null,$,_,m,v,w,T,M,R)}},ue=(p,_,m,v,w,T,M)=>{const R=_.el=p.el;let{patchFlag:x,dynamicChildren:A,dirs:$}=_;x|=p.patchFlag&16;const H=p.props||ge,F=_.props||ge;let j;if(m&&Nn(m,!1),(j=F.onVnodeBeforeUpdate)&&lt(j,m,_,p),$&&In(_,p,m,"beforeUpdate"),m&&Nn(m,!0),A?Z(p.dynamicChildren,A,R,m,v,Bo(_,w),T):M||ee(p,_,R,null,m,v,Bo(_,w),T,!1),x>0){if(x&16)le(R,_,H,F,m,v,w);else if(x&2&&H.class!==F.class&&r(R,"class",null,F.class,w),x&4&&r(R,"style",H.style,F.style,w),x&8){const Y=_.dynamicProps;for(let oe=0;oe<Y.length;oe++){const he=Y[oe],Ie=H[he],vt=F[he];(vt!==Ie||he==="value")&&r(R,he,Ie,vt,w,p.children,m,v,ye)}}x&1&&p.children!==_.children&&u(R,_.children)}else!M&&A==null&&le(R,_,H,F,m,v,w);((j=F.onVnodeUpdated)||$)&&Pe(()=>{j&&lt(j,m,_,p),$&&In(_,p,m,"updated")},v)},Z=(p,_,m,v,w,T,M)=>{for(let R=0;R<_.length;R++){const x=p[R],A=_[R],$=x.el&&(x.type===ut||!us(x,A)||x.shapeFlag&70)?h(x.el):m;E(x,A,$,null,v,w,T,M,!0)}},le=(p,_,m,v,w,T,M)=>{if(m!==v){if(m!==ge)for(const R in m)!fr(R)&&!(R in v)&&r(p,R,m[R],null,M,_.children,w,T,ye);for(const R in v){if(fr(R))continue;const x=v[R],A=m[R];x!==A&&R!=="value"&&r(p,R,A,x,M,_.children,w,T,ye)}"value"in v&&r(p,"value",m.value,v.value,M)}},Te=(p,_,m,v,w,T,M,R,x)=>{const A=_.el=p?p.el:a(""),$=_.anchor=p?p.anchor:a("");let{patchFlag:H,dynamicChildren:F,slotScopeIds:j}=_;j&&(R=R?R.concat(j):j),p==null?(s(A,m,v),s($,m,v),te(_.children,m,$,w,T,M,R,x)):H>0&&H&64&&F&&p.dynamicChildren?(Z(p.dynamicChildren,F,m,w,T,M,R),(_.key!=null||w&&_===w.subTree)&&xd(p,_,!0)):ee(p,_,m,$,w,T,M,R,x)},de=(p,_,m,v,w,T,M,R,x)=>{_.slotScopeIds=R,p==null?_.shapeFlag&512?w.ctx.activate(_,m,v,M,x):Je(_,m,v,w,T,M,x):je(p,_,x)},Je=(p,_,m,v,w,T,M)=>{const R=p.component=Wv(p,v,w);if(Ed(p)&&(R.ctx.renderer=L),jv(R),R.asyncDep){if(w&&w.registerDep(R,ie),!p.el){const x=R.subTree=Ve(Si);O(null,x,_,m)}}else ie(R,p,_,m,w,T,M)},je=(p,_,m)=>{const v=_.component=p.component;if(Zg(p,_,m))if(v.asyncDep&&!v.asyncResolved){q(v,_,m);return}else v.next=_,zg(v.update),v.effect.dirty=!0,v.update();else _.el=p.el,v.vnode=_},ie=(p,_,m,v,w,T,M)=>{const R=()=>{if(p.isMounted){let{next:$,bu:H,u:F,parent:j,vnode:Y}=p;{const os=Pd(p);if(os){$&&($.el=Y.el,q(p,$,M)),os.asyncDep.then(()=>{p.isUnmounted||R()});return}}let oe=$,he;Nn(p,!1),$?($.el=Y.el,q(p,$,M)):$=Y,H&&ys(H),(he=$.props&&$.props.onVnodeBeforeUpdate)&&lt(he,j,$,Y),Nn(p,!0);const Ie=ko(p),vt=p.subTree;p.subTree=Ie,E(vt,Ie,h(vt.el),y(vt),p,w,T),$.el=Ie.el,oe===null&&ev(p,Ie.el),F&&Pe(F,w),(he=$.props&&$.props.onVnodeUpdated)&&Pe(()=>lt(he,j,$,Y),w)}else{let $;const{el:H,props:F}=_,{bm:j,m:Y,parent:oe}=p,he=ui(_);if(Nn(p,!1),j&&ys(j),!he&&($=F&&F.onVnodeBeforeMount)&&lt($,oe,_),Nn(p,!0),H&&ne){const Ie=()=>{p.subTree=ko(p),ne(H,p.subTree,p,w,null)};he?_.type.__asyncLoader().then(()=>!p.isUnmounted&&Ie()):Ie()}else{const Ie=p.subTree=ko(p);E(null,Ie,m,v,p,w,T),_.el=Ie.el}if(Y&&Pe(Y,w),!he&&($=F&&F.onVnodeMounted)){const Ie=_;Pe(()=>lt($,oe,Ie),w)}(_.shapeFlag&256||oe&&ui(oe.vnode)&&oe.vnode.shapeFlag&256)&&p.a&&Pe(p.a,w),p.isMounted=!0,_=m=v=null}},x=p.effect=new Sl(R,ht,()=>Pl(A),p.scope),A=p.update=()=>{x.dirty&&x.run()};A.id=p.uid,Nn(p,!0),A()},q=(p,_,m)=>{_.component=p;const v=p.vnode.props;p.vnode=_,p.next=null,Iv(p,_.props,v,m),Rv(p,_.children,m),es(),iu(p),ts()},ee=(p,_,m,v,w,T,M,R,x=!1)=>{const A=p&&p.children,$=p?p.shapeFlag:0,H=_.children,{patchFlag:F,shapeFlag:j}=_;if(F>0){if(F&128){Ze(A,H,m,v,w,T,M,R,x);return}else if(F&256){xe(A,H,m,v,w,T,M,R,x);return}}j&8?($&16&&ye(A,w,T),H!==A&&u(m,H)):$&16?j&16?Ze(A,H,m,v,w,T,M,R,x):ye(A,w,T,!0):($&8&&u(m,""),j&16&&te(H,m,v,w,T,M,R,x))},xe=(p,_,m,v,w,T,M,R,x)=>{p=p||vs,_=_||vs;const A=p.length,$=_.length,H=Math.min(A,$);let F;for(F=0;F<H;F++){const j=_[F]=x?sn(_[F]):Ot(_[F]);E(p[F],j,m,null,w,T,M,R,x)}A>$?ye(p,w,T,!0,!1,H):te(_,m,v,w,T,M,R,x,H)},Ze=(p,_,m,v,w,T,M,R,x)=>{let A=0;const $=_.length;let H=p.length-1,F=$-1;for(;A<=H&&A<=F;){const j=p[A],Y=_[A]=x?sn(_[A]):Ot(_[A]);if(us(j,Y))E(j,Y,m,null,w,T,M,R,x);else break;A++}for(;A<=H&&A<=F;){const j=p[H],Y=_[F]=x?sn(_[F]):Ot(_[F]);if(us(j,Y))E(j,Y,m,null,w,T,M,R,x);else break;H--,F--}if(A>H){if(A<=F){const j=F+1,Y=j<$?_[j].el:v;for(;A<=F;)E(null,_[A]=x?sn(_[A]):Ot(_[A]),m,Y,w,T,M,R,x),A++}}else if(A>F)for(;A<=H;)Ce(p[A],w,T,!0),A++;else{const j=A,Y=A,oe=new Map;for(A=Y;A<=F;A++){const nt=_[A]=x?sn(_[A]):Ot(_[A]);nt.key!=null&&oe.set(nt.key,A)}let he,Ie=0;const vt=F-Y+1;let os=!1,zc=0;const Zs=new Array(vt);for(A=0;A<vt;A++)Zs[A]=0;for(A=j;A<=H;A++){const nt=p[A];if(Ie>=vt){Ce(nt,w,T,!0);continue}let It;if(nt.key!=null)It=oe.get(nt.key);else for(he=Y;he<=F;he++)if(Zs[he-Y]===0&&us(nt,_[he])){It=he;break}It===void 0?Ce(nt,w,T,!0):(Zs[It-Y]=A+1,It>=zc?zc=It:os=!0,E(nt,_[It],m,null,w,T,M,R,x),Ie++)}const qc=os?Lv(Zs):vs;for(he=qc.length-1,A=vt-1;A>=0;A--){const nt=Y+A,It=_[nt],Yc=nt+1<$?_[nt+1].el:v;Zs[A]===0?E(null,It,m,Yc,w,T,M,R,x):os&&(he<0||A!==qc[he]?Ke(It,m,Yc,2):he--)}}},Ke=(p,_,m,v,w=null)=>{const{el:T,type:M,transition:R,children:x,shapeFlag:A}=p;if(A&6){Ke(p.component.subTree,_,m,v);return}if(A&128){p.suspense.move(_,m,v);return}if(A&64){M.move(p,_,m,L);return}if(M===ut){s(T,_,m);for(let H=0;H<x.length;H++)Ke(x[H],_,m,v);s(p.anchor,_,m);return}if(M===Ho){N(p,_,m);return}if(v!==2&&A&1&&R)if(v===0)R.beforeEnter(T),s(T,_,m),Pe(()=>R.enter(T),w);else{const{leave:H,delayLeave:F,afterLeave:j}=R,Y=()=>s(T,_,m),oe=()=>{H(T,()=>{Y(),j&&j()})};F?F(T,Y,oe):oe()}else s(T,_,m)},Ce=(p,_,m,v=!1,w=!1)=>{const{type:T,props:M,ref:R,children:x,dynamicChildren:A,shapeFlag:$,patchFlag:H,dirs:F}=p;if(R!=null&&$a(R,null,m,p,!0),$&256){_.ctx.deactivate(p);return}const j=$&1&&F,Y=!ui(p);let oe;if(Y&&(oe=M&&M.onVnodeBeforeUnmount)&&lt(oe,_,p),$&6)tt(p.component,m,v);else{if($&128){p.suspense.unmount(m,v);return}j&&In(p,null,_,"beforeUnmount"),$&64?p.type.remove(p,_,m,w,L,v):A&&(T!==ut||H>0&&H&64)?ye(A,_,m,!1,!0):(T===ut&&H&384||!w&&$&16)&&ye(x,_,m),v&&gt(p)}(Y&&(oe=M&&M.onVnodeUnmounted)||j)&&Pe(()=>{oe&&lt(oe,_,p),j&&In(p,null,_,"unmounted")},m)},gt=p=>{const{type:_,el:m,anchor:v,transition:w}=p;if(_===ut){et(m,v);return}if(_===Ho){C(p);return}const T=()=>{i(m),w&&!w.persisted&&w.afterLeave&&w.afterLeave()};if(p.shapeFlag&1&&w&&!w.persisted){const{leave:M,delayLeave:R}=w,x=()=>M(m,T);R?R(p.el,T,x):x()}else T()},et=(p,_)=>{let m;for(;p!==_;)m=f(p),i(p),p=m;i(_)},tt=(p,_,m)=>{const{bum:v,scope:w,update:T,subTree:M,um:R}=p;v&&ys(v),w.stop(),T&&(T.active=!1,Ce(M,p,_,m)),R&&Pe(R,_),Pe(()=>{p.isUnmounted=!0},_),_&&_.pendingBranch&&!_.isUnmounted&&p.asyncDep&&!p.asyncResolved&&p.suspenseId===_.pendingId&&(_.deps--,_.deps===0&&_.resolve())},ye=(p,_,m,v=!1,w=!1,T=0)=>{for(let M=T;M<p.length;M++)Ce(p[M],_,m,v,w)},y=p=>p.shapeFlag&6?y(p.component.subTree):p.shapeFlag&128?p.suspense.next():f(p.anchor||p.el),k=(p,_,m)=>{p==null?_._vnode&&Ce(_._vnode,null,null,!0):E(_._vnode||null,p,_,null,null,null,m),iu(),ld(),_._vnode=p},L={p:E,um:Ce,m:Ke,r:gt,mt:Je,mc:te,pc:ee,pbc:Z,n:y,o:t};let B,ne;return e&&([B,ne]=e(L)),{render:k,hydrate:B,createApp:Sv(k,B)}}function Bo({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function Nn({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function Pv(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function xd(t,e,n=!1){const s=t.children,i=e.children;if(G(s)&&G(i))for(let r=0;r<s.length;r++){const o=s[r];let a=i[r];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[r]=sn(i[r]),a.el=o.el),n||xd(o,a)),a.type===ro&&(a.el=o.el)}}function Lv(t){const e=t.slice(),n=[0];let s,i,r,o,a;const l=t.length;for(s=0;s<l;s++){const c=t[s];if(c!==0){if(i=n[n.length-1],t[i]<c){e[s]=i,n.push(s);continue}for(r=0,o=n.length-1;r<o;)a=r+o>>1,t[n[a]]<c?r=a+1:o=a;c<t[n[r]]&&(r>0&&(e[s]=n[r-1]),n[r]=s)}}for(r=n.length,o=n[r-1];r-- >0;)n[r]=o,o=e[o];return n}function Pd(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Pd(e)}const Mv=t=>t.__isTeleport,ut=Symbol.for("v-fgt"),ro=Symbol.for("v-txt"),Si=Symbol.for("v-cmt"),Ho=Symbol.for("v-stc"),fi=[];let yt=null;function jt(t=!1){fi.push(yt=t?null:[])}function kv(){fi.pop(),yt=fi[fi.length-1]||null}let Ai=1;function _u(t){Ai+=t}function Ld(t){return t.dynamicChildren=Ai>0?yt||vs:null,kv(),Ai>0&&yt&&yt.push(t),t}function Bn(t,e,n,s,i,r){return Ld(ve(t,e,n,s,i,r,!0))}function mu(t,e,n,s,i){return Ld(Ve(t,e,n,s,i,!0))}function Sr(t){return t?t.__v_isVNode===!0:!1}function us(t,e){return t.type===e.type&&t.key===e.key}const oo="__vInternal",Md=({key:t})=>t??null,_r=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?we(t)||De(t)||z(t)?{i:it,r:t,k:e,f:!!n}:t:null);function ve(t,e=null,n=null,s=0,i=null,r=t===ut?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Md(e),ref:e&&_r(e),scopeId:hd,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:s,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:it};return a?(kl(l,n),r&128&&t.normalize(l)):n&&(l.shapeFlag|=we(n)?8:16),Ai>0&&!o&&yt&&(l.patchFlag>0||r&6)&&l.patchFlag!==32&&yt.push(l),l}const Ve=$v;function $v(t,e=null,n=null,s=0,i=null,r=!1){if((!t||t===dd)&&(t=Si),Sr(t)){const a=jn(t,e,!0);return n&&kl(a,n),Ai>0&&!r&&yt&&(a.shapeFlag&6?yt[yt.indexOf(t)]=a:yt.push(a)),a.patchFlag|=-2,a}if(qv(t)&&(t=t.__vccOpts),e){e=Fv(e);let{class:a,style:l}=e;a&&!we(a)&&(e.class=Vi(a)),Ee(l)&&(Zf(l)&&!G(l)&&(l=Me({},l)),e.style=Tl(l))}const o=we(t)?1:pd(t)?128:Mv(t)?64:Ee(t)?4:z(t)?2:0;return ve(t,e,n,s,i,o,r,!0)}function Fv(t){return t?Zf(t)||oo in t?Me({},t):t:null}function jn(t,e,n=!1){const{props:s,ref:i,patchFlag:r,children:o}=t,a=e?Vv(s||{},e):s;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:a,key:a&&Md(a),ref:e&&e.ref?n&&i?G(i)?i.concat(_r(e)):[i,_r(e)]:_r(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:o,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==ut?r===-1?16:r|16:r,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&jn(t.ssContent),ssFallback:t.ssFallback&&jn(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function Kn(t=" ",e=0){return Ve(ro,null,t,e)}function Ot(t){return t==null||typeof t=="boolean"?Ve(Si):G(t)?Ve(ut,null,t.slice()):typeof t=="object"?sn(t):Ve(ro,null,String(t))}function sn(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:jn(t)}function kl(t,e){let n=0;const{shapeFlag:s}=t;if(e==null)e=null;else if(G(e))n=16;else if(typeof e=="object")if(s&65){const i=e.default;i&&(i._c&&(i._d=!1),kl(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!(oo in e)?e._ctx=it:i===3&&it&&(it.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else z(e)?(e={default:e,_ctx:it},n=32):(e=String(e),s&64?(n=16,e=[Kn(e)]):n=8);t.children=e,t.shapeFlag|=n}function Vv(...t){const e={};for(let n=0;n<t.length;n++){const s=t[n];for(const i in s)if(i==="class")e.class!==s.class&&(e.class=Vi([e.class,s.class]));else if(i==="style")e.style=Tl([e.style,s.style]);else if(Qr(i)){const r=e[i],o=s[i];o&&r!==o&&!(G(r)&&r.includes(o))&&(e[i]=r?[].concat(r,o):o)}else i!==""&&(e[i]=s[i])}return e}function lt(t,e,n,s=null){Ct(t,e,7,[n,s])}const Bv=Ad();let Hv=0;function Wv(t,e,n){const s=t.type,i=(e?e.appContext:t.appContext)||Bv,r={uid:Hv++,vnode:t,type:s,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new yg(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Nd(s,i),emitsOptions:ud(s,i),emit:null,emitted:null,propsDefaults:ge,inheritAttrs:s.inheritAttrs,ctx:ge,data:ge,props:ge,attrs:ge,slots:ge,refs:ge,setupState:ge,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=e?e.root:r,r.emit=Qg.bind(null,r),t.ce&&t.ce(r),r}let Le=null;const Uv=()=>Le||it;let $l,Fa;{const t=$f(),e=(n,s)=>{let i;return(i=t[n])||(i=t[n]=[]),i.push(s),r=>{i.length>1?i.forEach(o=>o(r)):i[0](r)}};$l=e("__VUE_INSTANCE_SETTERS__",n=>Le=n),Fa=e("__VUE_SSR_SETTERS__",n=>ao=n)}const Is=t=>{$l(t),t.scope.on()},Hn=()=>{Le&&Le.scope.off(),$l(null)};function kd(t){return t.vnode.shapeFlag&4}let ao=!1;function jv(t,e=!1){e&&Fa(e);const{props:n,children:s}=t.vnode,i=kd(t);Av(t,n,i,e),Ov(t,s);const r=i?Kv(t,e):void 0;return e&&Fa(!1),r}function Kv(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=ed(new Proxy(t.ctx,vv));const{setup:s}=n;if(s){const i=t.setupContext=s.length>1?zv(t):null;Is(t),es();const r=cn(s,t,0,[t.props,i]);if(ts(),Hn(),Lf(r)){if(r.then(Hn,Hn),e)return r.then(o=>{gu(t,o,e)}).catch(o=>{to(o,t,0)});t.asyncDep=r}else gu(t,r,e)}else $d(t,e)}function gu(t,e,n){z(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Ee(e)&&(t.setupState=id(e)),$d(t,n)}let vu;function $d(t,e,n){const s=t.type;if(!t.render){if(!e&&vu&&!s.render){const i=s.template||Ll(t).template;if(i){const{isCustomElement:r,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:l}=s,c=Me(Me({isCustomElement:r,delimiters:a},o),l);s.render=vu(i,c)}}t.render=s.render||ht}{Is(t),es();try{Ev(t)}finally{ts(),Hn()}}}function Gv(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(e,n){return Qe(t,"get","$attrs"),e[n]}}))}function zv(t){const e=n=>{t.exposed=n||{}};return{get attrs(){return Gv(t)},slots:t.slots,emit:t.emit,expose:e}}function lo(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(id(ed(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in hi)return hi[n](t)},has(e,n){return n in e||n in hi}}))}function Va(t,e=!0){return z(t)?t.displayName||t.name:t.name||e&&t.__name}function qv(t){return z(t)&&"__vccOpts"in t}const st=(t,e)=>Hg(t,e,ao);function Fd(t,e,n){const s=arguments.length;return s===2?Ee(e)&&!G(e)?Sr(e)?Ve(t,null,[e]):Ve(t,e):Ve(t,null,e):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&Sr(n)&&(n=[n]),Ve(t,e,n))}const Yv="3.4.4",Qv="http://www.w3.org/2000/svg",Xv="http://www.w3.org/1998/Math/MathML",rn=typeof document<"u"?document:null,Eu=rn&&rn.createElement("template"),Jv={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,s)=>{const i=e==="svg"?rn.createElementNS(Qv,t):e==="mathml"?rn.createElementNS(Xv,t):rn.createElement(t,n?{is:n}:void 0);return t==="select"&&s&&s.multiple!=null&&i.setAttribute("multiple",s.multiple),i},createText:t=>rn.createTextNode(t),createComment:t=>rn.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>rn.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,s,i,r){const o=n?n.previousSibling:e.lastChild;if(i&&(i===r||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===r||!(i=i.nextSibling)););else{Eu.innerHTML=s==="svg"?`<svg>${t}</svg>`:s==="mathml"?`<math>${t}</math>`:t;const a=Eu.content;if(s==="svg"||s==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},Zv=Symbol("_vtc");function eE(t,e,n){const s=t[Zv];s&&(e=(e?[e,...s]:[...s]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const tE=Symbol("_vod"),nE=Symbol("");function sE(t,e,n){const s=t.style,i=we(n);if(n&&!i){if(e&&!we(e))for(const r in e)n[r]==null&&Ba(s,r,"");for(const r in n)Ba(s,r,n[r])}else{const r=s.display;if(i){if(e!==n){const o=s[nE];o&&(n+=";"+o),s.cssText=n}}else e&&t.removeAttribute("style");tE in t&&(s.display=r)}}const yu=/\s*!important$/;function Ba(t,e,n){if(G(n))n.forEach(s=>Ba(t,e,s));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const s=iE(t,e);yu.test(n)?t.setProperty(js(s),n.replace(yu,""),"important"):t[s]=n}}const bu=["Webkit","Moz","ms"],Wo={};function iE(t,e){const n=Wo[e];if(n)return n;let s=Lt(e);if(s!=="filter"&&s in t)return Wo[e]=s;s=Jr(s);for(let i=0;i<bu.length;i++){const r=bu[i]+s;if(r in t)return Wo[e]=r}return e}const wu="http://www.w3.org/1999/xlink";function rE(t,e,n,s,i){if(s&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(wu,e.slice(6,e.length)):t.setAttributeNS(wu,e,n);else{const r=Eg(e);n==null||r&&!Ff(n)?t.removeAttribute(e):t.setAttribute(e,r?"":n)}}function oE(t,e,n,s,i,r,o){if(e==="innerHTML"||e==="textContent"){s&&o(s,i,r),t[e]=n??"";return}const a=t.tagName;if(e==="value"&&a!=="PROGRESS"&&!a.includes("-")){t._value=n;const c=a==="OPTION"?t.getAttribute("value"):t.value,u=n??"";c!==u&&(t.value=u),n==null&&t.removeAttribute(e);return}let l=!1;if(n===""||n==null){const c=typeof t[e];c==="boolean"?n=Ff(n):n==null&&c==="string"?(n="",l=!0):c==="number"&&(n=0,l=!0)}try{t[e]=n}catch{}l&&t.removeAttribute(e)}function hs(t,e,n,s){t.addEventListener(e,n,s)}function aE(t,e,n,s){t.removeEventListener(e,n,s)}const Cu=Symbol("_vei");function lE(t,e,n,s,i=null){const r=t[Cu]||(t[Cu]={}),o=r[e];if(s&&o)o.value=s;else{const[a,l]=cE(e);if(s){const c=r[e]=fE(s,i);hs(t,a,c,l)}else o&&(aE(t,a,o,l),r[e]=void 0)}}const Tu=/(?:Once|Passive|Capture)$/;function cE(t){let e;if(Tu.test(t)){e={};let s;for(;s=t.match(Tu);)t=t.slice(0,t.length-s[0].length),e[s[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):js(t.slice(2)),e]}let Uo=0;const uE=Promise.resolve(),hE=()=>Uo||(uE.then(()=>Uo=0),Uo=Date.now());function fE(t,e){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;Ct(dE(s,n.value),e,5,[s])};return n.value=t,n.attached=hE(),n}function dE(t,e){if(G(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(s=>i=>!i._stopped&&s&&s(i))}else return e}const Su=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,pE=(t,e,n,s,i,r,o,a,l)=>{const c=i==="svg";e==="class"?eE(t,s,c):e==="style"?sE(t,n,s):Qr(e)?bl(e)||lE(t,e,n,s,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):_E(t,e,s,c))?oE(t,e,s,r,o,a,l):(e==="true-value"?t._trueValue=s:e==="false-value"&&(t._falseValue=s),rE(t,e,s,c))};function _E(t,e,n,s){if(s)return!!(e==="innerHTML"||e==="textContent"||e in t&&Su(e)&&z(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return Su(e)&&we(n)?!1:e in t}const Au=t=>{const e=t.props["onUpdate:modelValue"]||!1;return G(e)?n=>ys(e,n):e};function mE(t){t.target.composing=!0}function Iu(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const jo=Symbol("_assign"),Ar={created(t,{modifiers:{lazy:e,trim:n,number:s}},i){t[jo]=Au(i);const r=s||i.props&&i.props.type==="number";hs(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),r&&(a=Aa(a)),t[jo](a)}),n&&hs(t,"change",()=>{t.value=t.value.trim()}),e||(hs(t,"compositionstart",mE),hs(t,"compositionend",Iu),hs(t,"change",Iu))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:s,number:i}},r){if(t[jo]=Au(r),t.composing)return;const o=i||t.type==="number"?Aa(t.value):t.value,a=e??"";o!==a&&(document.activeElement===t&&t.type!=="range"&&(n||s&&t.value.trim()===a)||(t.value=a))}},gE=Me({patchProp:pE},Jv);let Nu;function vE(){return Nu||(Nu=Dv(gE))}const EE=(...t)=>{const e=vE().createApp(...t),{mount:n}=e;return e.mount=s=>{const i=bE(s);if(!i)return;const r=e._component;!z(r)&&!r.render&&!r.template&&(r.template=i.innerHTML),i.innerHTML="";const o=n(i,!1,yE(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e};function yE(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function bE(t){return we(t)?document.querySelector(t):t}/*!
  * vue-router v4.2.5
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const fs=typeof window<"u";function wE(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const ce=Object.assign;function Ko(t,e){const n={};for(const s in e){const i=e[s];n[s]=St(i)?i.map(t):t(i)}return n}const di=()=>{},St=Array.isArray,CE=/\/$/,TE=t=>t.replace(CE,"");function Go(t,e,n="/"){let s,i={},r="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(s=e.slice(0,l),r=e.slice(l+1,a>-1?a:e.length),i=t(r)),a>-1&&(s=s||e.slice(0,a),o=e.slice(a,e.length)),s=NE(s??e,n),{fullPath:s+(r&&"?")+r+o,path:s,query:i,hash:o}}function SE(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function Ou(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function AE(t,e,n){const s=e.matched.length-1,i=n.matched.length-1;return s>-1&&s===i&&Ns(e.matched[s],n.matched[i])&&Vd(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Ns(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function Vd(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!IE(t[n],e[n]))return!1;return!0}function IE(t,e){return St(t)?Ru(t,e):St(e)?Ru(e,t):t===e}function Ru(t,e){return St(e)?t.length===e.length&&t.every((n,s)=>n===e[s]):t.length===1&&t[0]===e}function NE(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),s=t.split("/"),i=s[s.length-1];(i===".."||i===".")&&s.push("");let r=n.length-1,o,a;for(o=0;o<s.length;o++)if(a=s[o],a!==".")if(a==="..")r>1&&r--;else break;return n.slice(0,r).join("/")+"/"+s.slice(o-(o===s.length?1:0)).join("/")}var Ii;(function(t){t.pop="pop",t.push="push"})(Ii||(Ii={}));var pi;(function(t){t.back="back",t.forward="forward",t.unknown=""})(pi||(pi={}));function OE(t){if(!t)if(fs){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),TE(t)}const RE=/^[^#]+#/;function DE(t,e){return t.replace(RE,"#")+e}function xE(t,e){const n=document.documentElement.getBoundingClientRect(),s=t.getBoundingClientRect();return{behavior:e.behavior,left:s.left-n.left-(e.left||0),top:s.top-n.top-(e.top||0)}}const co=()=>({left:window.pageXOffset,top:window.pageYOffset});function PE(t){let e;if("el"in t){const n=t.el,s=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=xE(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function Du(t,e){return(history.state?history.state.position-e:-1)+t}const Ha=new Map;function LE(t,e){Ha.set(t,e)}function ME(t){const e=Ha.get(t);return Ha.delete(t),e}let kE=()=>location.protocol+"//"+location.host;function Bd(t,e){const{pathname:n,search:s,hash:i}=e,r=t.indexOf("#");if(r>-1){let a=i.includes(t.slice(r))?t.slice(r).length:1,l=i.slice(a);return l[0]!=="/"&&(l="/"+l),Ou(l,"")}return Ou(n,t)+s+i}function $E(t,e,n,s){let i=[],r=[],o=null;const a=({state:f})=>{const d=Bd(t,location),g=n.value,E=e.value;let I=0;if(f){if(n.value=d,e.value=f,o&&o===g){o=null;return}I=E?f.position-E.position:0}else s(d);i.forEach(O=>{O(n.value,g,{delta:I,type:Ii.pop,direction:I?I>0?pi.forward:pi.back:pi.unknown})})};function l(){o=n.value}function c(f){i.push(f);const d=()=>{const g=i.indexOf(f);g>-1&&i.splice(g,1)};return r.push(d),d}function u(){const{history:f}=window;f.state&&f.replaceState(ce({},f.state,{scroll:co()}),"")}function h(){for(const f of r)f();r=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:l,listen:c,destroy:h}}function xu(t,e,n,s=!1,i=!1){return{back:t,current:e,forward:n,replaced:s,position:window.history.length,scroll:i?co():null}}function FE(t){const{history:e,location:n}=window,s={value:Bd(t,n)},i={value:e.state};i.value||r(s.value,{back:null,current:s.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function r(l,c,u){const h=t.indexOf("#"),f=h>-1?(n.host&&document.querySelector("base")?t:t.slice(h))+l:kE()+t+l;try{e[u?"replaceState":"pushState"](c,"",f),i.value=c}catch(d){console.error(d),n[u?"replace":"assign"](f)}}function o(l,c){const u=ce({},e.state,xu(i.value.back,l,i.value.forward,!0),c,{position:i.value.position});r(l,u,!0),s.value=l}function a(l,c){const u=ce({},i.value,e.state,{forward:l,scroll:co()});r(u.current,u,!0);const h=ce({},xu(s.value,l,null),{position:u.position+1},c);r(l,h,!1),s.value=l}return{location:s,state:i,push:a,replace:o}}function VE(t){t=OE(t);const e=FE(t),n=$E(t,e.state,e.location,e.replace);function s(r,o=!0){o||n.pauseListeners(),history.go(r)}const i=ce({location:"",base:t,go:s,createHref:DE.bind(null,t)},e,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function BE(t){return typeof t=="string"||t&&typeof t=="object"}function Hd(t){return typeof t=="string"||typeof t=="symbol"}const tn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Wd=Symbol("");var Pu;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(Pu||(Pu={}));function Os(t,e){return ce(new Error,{type:t,[Wd]:!0},e)}function Ft(t,e){return t instanceof Error&&Wd in t&&(e==null||!!(t.type&e))}const Lu="[^/]+?",HE={sensitive:!1,strict:!1,start:!0,end:!0},WE=/[.+*?^${}()[\]/\\]/g;function UE(t,e){const n=ce({},HE,e),s=[];let i=n.start?"^":"";const r=[];for(const c of t){const u=c.length?[]:[90];n.strict&&!c.length&&(i+="/");for(let h=0;h<c.length;h++){const f=c[h];let d=40+(n.sensitive?.25:0);if(f.type===0)h||(i+="/"),i+=f.value.replace(WE,"\\$&"),d+=40;else if(f.type===1){const{value:g,repeatable:E,optional:I,regexp:O}=f;r.push({name:g,repeatable:E,optional:I});const b=O||Lu;if(b!==Lu){d+=10;try{new RegExp(`(${b})`)}catch(C){throw new Error(`Invalid custom RegExp for param "${g}" (${b}): `+C.message)}}let N=E?`((?:${b})(?:/(?:${b}))*)`:`(${b})`;h||(N=I&&c.length<2?`(?:/${N})`:"/"+N),I&&(N+="?"),i+=N,d+=20,I&&(d+=-8),E&&(d+=-20),b===".*"&&(d+=-50)}u.push(d)}s.push(u)}if(n.strict&&n.end){const c=s.length-1;s[c][s[c].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const o=new RegExp(i,n.sensitive?"":"i");function a(c){const u=c.match(o),h={};if(!u)return null;for(let f=1;f<u.length;f++){const d=u[f]||"",g=r[f-1];h[g.name]=d&&g.repeatable?d.split("/"):d}return h}function l(c){let u="",h=!1;for(const f of t){(!h||!u.endsWith("/"))&&(u+="/"),h=!1;for(const d of f)if(d.type===0)u+=d.value;else if(d.type===1){const{value:g,repeatable:E,optional:I}=d,O=g in c?c[g]:"";if(St(O)&&!E)throw new Error(`Provided param "${g}" is an array but it is not repeatable (* or + modifiers)`);const b=St(O)?O.join("/"):O;if(!b)if(I)f.length<2&&(u.endsWith("/")?u=u.slice(0,-1):h=!0);else throw new Error(`Missing required param "${g}"`);u+=b}}return u||"/"}return{re:o,score:s,keys:r,parse:a,stringify:l}}function jE(t,e){let n=0;for(;n<t.length&&n<e.length;){const s=e[n]-t[n];if(s)return s;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function KE(t,e){let n=0;const s=t.score,i=e.score;for(;n<s.length&&n<i.length;){const r=jE(s[n],i[n]);if(r)return r;n++}if(Math.abs(i.length-s.length)===1){if(Mu(s))return 1;if(Mu(i))return-1}return i.length-s.length}function Mu(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const GE={type:0,value:""},zE=/[a-zA-Z0-9_]/;function qE(t){if(!t)return[[]];if(t==="/")return[[GE]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(d){throw new Error(`ERR (${n})/"${c}": ${d}`)}let n=0,s=n;const i=[];let r;function o(){r&&i.push(r),r=[]}let a=0,l,c="",u="";function h(){c&&(n===0?r.push({type:0,value:c}):n===1||n===2||n===3?(r.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),r.push({type:1,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),c="")}function f(){c+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:l==="/"?(c&&h(),o()):l===":"?(h(),n=1):f();break;case 4:f(),n=s;break;case 1:l==="("?n=2:zE.test(l)?f():(h(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:n=3:u+=l;break;case 3:h(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${c}"`),h(),o(),i}function YE(t,e,n){const s=UE(qE(t.path),n),i=ce(s,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function QE(t,e){const n=[],s=new Map;e=Fu({strict:!1,end:!0,sensitive:!1},e);function i(u){return s.get(u)}function r(u,h,f){const d=!f,g=XE(u);g.aliasOf=f&&f.record;const E=Fu(e,u),I=[g];if("alias"in u){const N=typeof u.alias=="string"?[u.alias]:u.alias;for(const C of N)I.push(ce({},g,{components:f?f.record.components:g.components,path:C,aliasOf:f?f.record:g}))}let O,b;for(const N of I){const{path:C}=N;if(h&&C[0]!=="/"){const P=h.record.path,V=P[P.length-1]==="/"?"":"/";N.path=h.record.path+(C&&V+C)}if(O=YE(N,h,E),f?f.alias.push(O):(b=b||O,b!==O&&b.alias.push(O),d&&u.name&&!$u(O)&&o(u.name)),g.children){const P=g.children;for(let V=0;V<P.length;V++)r(P[V],O,f&&f.children[V])}f=f||O,(O.record.components&&Object.keys(O.record.components).length||O.record.name||O.record.redirect)&&l(O)}return b?()=>{o(b)}:di}function o(u){if(Hd(u)){const h=s.get(u);h&&(s.delete(u),n.splice(n.indexOf(h),1),h.children.forEach(o),h.alias.forEach(o))}else{const h=n.indexOf(u);h>-1&&(n.splice(h,1),u.record.name&&s.delete(u.record.name),u.children.forEach(o),u.alias.forEach(o))}}function a(){return n}function l(u){let h=0;for(;h<n.length&&KE(u,n[h])>=0&&(u.record.path!==n[h].record.path||!Ud(u,n[h]));)h++;n.splice(h,0,u),u.record.name&&!$u(u)&&s.set(u.record.name,u)}function c(u,h){let f,d={},g,E;if("name"in u&&u.name){if(f=s.get(u.name),!f)throw Os(1,{location:u});E=f.record.name,d=ce(ku(h.params,f.keys.filter(b=>!b.optional).map(b=>b.name)),u.params&&ku(u.params,f.keys.map(b=>b.name))),g=f.stringify(d)}else if("path"in u)g=u.path,f=n.find(b=>b.re.test(g)),f&&(d=f.parse(g),E=f.record.name);else{if(f=h.name?s.get(h.name):n.find(b=>b.re.test(h.path)),!f)throw Os(1,{location:u,currentLocation:h});E=f.record.name,d=ce({},h.params,u.params),g=f.stringify(d)}const I=[];let O=f;for(;O;)I.unshift(O.record),O=O.parent;return{name:E,path:g,params:d,matched:I,meta:ZE(I)}}return t.forEach(u=>r(u)),{addRoute:r,resolve:c,removeRoute:o,getRoutes:a,getRecordMatcher:i}}function ku(t,e){const n={};for(const s of e)s in t&&(n[s]=t[s]);return n}function XE(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:JE(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function JE(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const s in t.components)e[s]=typeof n=="object"?n[s]:n;return e}function $u(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function ZE(t){return t.reduce((e,n)=>ce(e,n.meta),{})}function Fu(t,e){const n={};for(const s in t)n[s]=s in e?e[s]:t[s];return n}function Ud(t,e){return e.children.some(n=>n===t||Ud(t,n))}const jd=/#/g,ey=/&/g,ty=/\//g,ny=/=/g,sy=/\?/g,Kd=/\+/g,iy=/%5B/g,ry=/%5D/g,Gd=/%5E/g,oy=/%60/g,zd=/%7B/g,ay=/%7C/g,qd=/%7D/g,ly=/%20/g;function Fl(t){return encodeURI(""+t).replace(ay,"|").replace(iy,"[").replace(ry,"]")}function cy(t){return Fl(t).replace(zd,"{").replace(qd,"}").replace(Gd,"^")}function Wa(t){return Fl(t).replace(Kd,"%2B").replace(ly,"+").replace(jd,"%23").replace(ey,"%26").replace(oy,"`").replace(zd,"{").replace(qd,"}").replace(Gd,"^")}function uy(t){return Wa(t).replace(ny,"%3D")}function hy(t){return Fl(t).replace(jd,"%23").replace(sy,"%3F")}function fy(t){return t==null?"":hy(t).replace(ty,"%2F")}function Ir(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function dy(t){const e={};if(t===""||t==="?")return e;const s=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<s.length;++i){const r=s[i].replace(Kd," "),o=r.indexOf("="),a=Ir(o<0?r:r.slice(0,o)),l=o<0?null:Ir(r.slice(o+1));if(a in e){let c=e[a];St(c)||(c=e[a]=[c]),c.push(l)}else e[a]=l}return e}function Vu(t){let e="";for(let n in t){const s=t[n];if(n=uy(n),s==null){s!==void 0&&(e+=(e.length?"&":"")+n);continue}(St(s)?s.map(r=>r&&Wa(r)):[s&&Wa(s)]).forEach(r=>{r!==void 0&&(e+=(e.length?"&":"")+n,r!=null&&(e+="="+r))})}return e}function py(t){const e={};for(const n in t){const s=t[n];s!==void 0&&(e[n]=St(s)?s.map(i=>i==null?null:""+i):s==null?s:""+s)}return e}const _y=Symbol(""),Bu=Symbol(""),Vl=Symbol(""),Yd=Symbol(""),Ua=Symbol("");function ei(){let t=[];function e(s){return t.push(s),()=>{const i=t.indexOf(s);i>-1&&t.splice(i,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function on(t,e,n,s,i){const r=s&&(s.enterCallbacks[i]=s.enterCallbacks[i]||[]);return()=>new Promise((o,a)=>{const l=h=>{h===!1?a(Os(4,{from:n,to:e})):h instanceof Error?a(h):BE(h)?a(Os(2,{from:e,to:h})):(r&&s.enterCallbacks[i]===r&&typeof h=="function"&&r.push(h),o())},c=t.call(s&&s.instances[i],e,n,l);let u=Promise.resolve(c);t.length<3&&(u=u.then(l)),u.catch(h=>a(h))})}function zo(t,e,n,s){const i=[];for(const r of t)for(const o in r.components){let a=r.components[o];if(!(e!=="beforeRouteEnter"&&!r.instances[o]))if(my(a)){const c=(a.__vccOpts||a)[e];c&&i.push(on(c,n,s,r,o))}else{let l=a();i.push(()=>l.then(c=>{if(!c)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${r.path}"`));const u=wE(c)?c.default:c;r.components[o]=u;const f=(u.__vccOpts||u)[e];return f&&on(f,n,s,r,o)()}))}}return i}function my(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function Hu(t){const e=Ut(Vl),n=Ut(Yd),s=st(()=>e.resolve(He(t.to))),i=st(()=>{const{matched:l}=s.value,{length:c}=l,u=l[c-1],h=n.matched;if(!u||!h.length)return-1;const f=h.findIndex(Ns.bind(null,u));if(f>-1)return f;const d=Wu(l[c-2]);return c>1&&Wu(u)===d&&h[h.length-1].path!==d?h.findIndex(Ns.bind(null,l[c-2])):f}),r=st(()=>i.value>-1&&Ey(n.params,s.value.params)),o=st(()=>i.value>-1&&i.value===n.matched.length-1&&Vd(n.params,s.value.params));function a(l={}){return vy(l)?e[He(t.replace)?"replace":"push"](He(t.to)).catch(di):Promise.resolve()}return{route:s,href:st(()=>s.value.href),isActive:r,isExactActive:o,navigate:a}}const gy=vd({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Hu,setup(t,{slots:e}){const n=eo(Hu(t)),{options:s}=Ut(Vl),i=st(()=>({[Uu(t.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[Uu(t.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const r=e.default&&e.default(n);return t.custom?r:Fd("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},r)}}}),ja=gy;function vy(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function Ey(t,e){for(const n in e){const s=e[n],i=t[n];if(typeof s=="string"){if(s!==i)return!1}else if(!St(i)||i.length!==s.length||s.some((r,o)=>r!==i[o]))return!1}return!0}function Wu(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Uu=(t,e,n)=>t??e??n,yy=vd({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const s=Ut(Ua),i=st(()=>t.route||s.value),r=Ut(Bu,0),o=st(()=>{let c=He(r);const{matched:u}=i.value;let h;for(;(h=u[c])&&!h.components;)c++;return c}),a=st(()=>i.value.matched[o.value]);pr(Bu,st(()=>o.value+1)),pr(_y,a),pr(Ua,i);const l=Bt();return ci(()=>[l.value,a.value,t.name],([c,u,h],[f,d,g])=>{u&&(u.instances[h]=c,d&&d!==u&&c&&c===f&&(u.leaveGuards.size||(u.leaveGuards=d.leaveGuards),u.updateGuards.size||(u.updateGuards=d.updateGuards))),c&&u&&(!d||!Ns(u,d)||!f)&&(u.enterCallbacks[h]||[]).forEach(E=>E(c))},{flush:"post"}),()=>{const c=i.value,u=t.name,h=a.value,f=h&&h.components[u];if(!f)return ju(n.default,{Component:f,route:c});const d=h.props[u],g=d?d===!0?c.params:typeof d=="function"?d(c):d:null,I=Fd(f,ce({},g,e,{onVnodeUnmounted:O=>{O.component.isUnmounted&&(h.instances[u]=null)},ref:l}));return ju(n.default,{Component:I,route:c})||I}}});function ju(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const Qd=yy;function by(t){const e=QE(t.routes,t),n=t.parseQuery||dy,s=t.stringifyQuery||Vu,i=t.history,r=ei(),o=ei(),a=ei(),l=Wg(tn);let c=tn;fs&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=Ko.bind(null,y=>""+y),h=Ko.bind(null,fy),f=Ko.bind(null,Ir);function d(y,k){let L,B;return Hd(y)?(L=e.getRecordMatcher(y),B=k):B=y,e.addRoute(B,L)}function g(y){const k=e.getRecordMatcher(y);k&&e.removeRoute(k)}function E(){return e.getRoutes().map(y=>y.record)}function I(y){return!!e.getRecordMatcher(y)}function O(y,k){if(k=ce({},k||l.value),typeof y=="string"){const m=Go(n,y,k.path),v=e.resolve({path:m.path},k),w=i.createHref(m.fullPath);return ce(m,v,{params:f(v.params),hash:Ir(m.hash),redirectedFrom:void 0,href:w})}let L;if("path"in y)L=ce({},y,{path:Go(n,y.path,k.path).path});else{const m=ce({},y.params);for(const v in m)m[v]==null&&delete m[v];L=ce({},y,{params:h(m)}),k.params=h(k.params)}const B=e.resolve(L,k),ne=y.hash||"";B.params=u(f(B.params));const p=SE(s,ce({},y,{hash:cy(ne),path:B.path})),_=i.createHref(p);return ce({fullPath:p,hash:ne,query:s===Vu?py(y.query):y.query||{}},B,{redirectedFrom:void 0,href:_})}function b(y){return typeof y=="string"?Go(n,y,l.value.path):ce({},y)}function N(y,k){if(c!==y)return Os(8,{from:k,to:y})}function C(y){return K(y)}function P(y){return C(ce(b(y),{replace:!0}))}function V(y){const k=y.matched[y.matched.length-1];if(k&&k.redirect){const{redirect:L}=k;let B=typeof L=="function"?L(y):L;return typeof B=="string"&&(B=B.includes("?")||B.includes("#")?B=b(B):{path:B},B.params={}),ce({query:y.query,hash:y.hash,params:"path"in B?{}:y.params},B)}}function K(y,k){const L=c=O(y),B=l.value,ne=y.state,p=y.force,_=y.replace===!0,m=V(L);if(m)return K(ce(b(m),{state:typeof m=="object"?ce({},ne,m.state):ne,force:p,replace:_}),k||L);const v=L;v.redirectedFrom=k;let w;return!p&&AE(s,B,L)&&(w=Os(16,{to:v,from:B}),Ke(B,B,!0,!1)),(w?Promise.resolve(w):Z(v,B)).catch(T=>Ft(T)?Ft(T,2)?T:Ze(T):ee(T,v,B)).then(T=>{if(T){if(Ft(T,2))return K(ce({replace:_},b(T.to),{state:typeof T.to=="object"?ce({},ne,T.to.state):ne,force:p}),k||v)}else T=Te(v,B,!0,_,ne);return le(v,B,T),T})}function te(y,k){const L=N(y,k);return L?Promise.reject(L):Promise.resolve()}function ue(y){const k=et.values().next().value;return k&&typeof k.runWithContext=="function"?k.runWithContext(y):y()}function Z(y,k){let L;const[B,ne,p]=wy(y,k);L=zo(B.reverse(),"beforeRouteLeave",y,k);for(const m of B)m.leaveGuards.forEach(v=>{L.push(on(v,y,k))});const _=te.bind(null,y,k);return L.push(_),ye(L).then(()=>{L=[];for(const m of r.list())L.push(on(m,y,k));return L.push(_),ye(L)}).then(()=>{L=zo(ne,"beforeRouteUpdate",y,k);for(const m of ne)m.updateGuards.forEach(v=>{L.push(on(v,y,k))});return L.push(_),ye(L)}).then(()=>{L=[];for(const m of p)if(m.beforeEnter)if(St(m.beforeEnter))for(const v of m.beforeEnter)L.push(on(v,y,k));else L.push(on(m.beforeEnter,y,k));return L.push(_),ye(L)}).then(()=>(y.matched.forEach(m=>m.enterCallbacks={}),L=zo(p,"beforeRouteEnter",y,k),L.push(_),ye(L))).then(()=>{L=[];for(const m of o.list())L.push(on(m,y,k));return L.push(_),ye(L)}).catch(m=>Ft(m,8)?m:Promise.reject(m))}function le(y,k,L){a.list().forEach(B=>ue(()=>B(y,k,L)))}function Te(y,k,L,B,ne){const p=N(y,k);if(p)return p;const _=k===tn,m=fs?history.state:{};L&&(B||_?i.replace(y.fullPath,ce({scroll:_&&m&&m.scroll},ne)):i.push(y.fullPath,ne)),l.value=y,Ke(y,k,L,_),Ze()}let de;function Je(){de||(de=i.listen((y,k,L)=>{if(!tt.listening)return;const B=O(y),ne=V(B);if(ne){K(ce(ne,{replace:!0}),B).catch(di);return}c=B;const p=l.value;fs&&LE(Du(p.fullPath,L.delta),co()),Z(B,p).catch(_=>Ft(_,12)?_:Ft(_,2)?(K(_.to,B).then(m=>{Ft(m,20)&&!L.delta&&L.type===Ii.pop&&i.go(-1,!1)}).catch(di),Promise.reject()):(L.delta&&i.go(-L.delta,!1),ee(_,B,p))).then(_=>{_=_||Te(B,p,!1),_&&(L.delta&&!Ft(_,8)?i.go(-L.delta,!1):L.type===Ii.pop&&Ft(_,20)&&i.go(-1,!1)),le(B,p,_)}).catch(di)}))}let je=ei(),ie=ei(),q;function ee(y,k,L){Ze(y);const B=ie.list();return B.length?B.forEach(ne=>ne(y,k,L)):console.error(y),Promise.reject(y)}function xe(){return q&&l.value!==tn?Promise.resolve():new Promise((y,k)=>{je.add([y,k])})}function Ze(y){return q||(q=!y,Je(),je.list().forEach(([k,L])=>y?L(y):k()),je.reset()),y}function Ke(y,k,L,B){const{scrollBehavior:ne}=t;if(!fs||!ne)return Promise.resolve();const p=!L&&ME(Du(y.fullPath,0))||(B||!L)&&history.state&&history.state.scroll||null;return od().then(()=>ne(y,k,p)).then(_=>_&&PE(_)).catch(_=>ee(_,y,k))}const Ce=y=>i.go(y);let gt;const et=new Set,tt={currentRoute:l,listening:!0,addRoute:d,removeRoute:g,hasRoute:I,getRoutes:E,resolve:O,options:t,push:C,replace:P,go:Ce,back:()=>Ce(-1),forward:()=>Ce(1),beforeEach:r.add,beforeResolve:o.add,afterEach:a.add,onError:ie.add,isReady:xe,install(y){const k=this;y.component("RouterLink",ja),y.component("RouterView",Qd),y.config.globalProperties.$router=k,Object.defineProperty(y.config.globalProperties,"$route",{enumerable:!0,get:()=>He(l)}),fs&&!gt&&l.value===tn&&(gt=!0,C(i.location).catch(ne=>{}));const L={};for(const ne in tn)Object.defineProperty(L,ne,{get:()=>l.value[ne],enumerable:!0});y.provide(Vl,k),y.provide(Yd,Xf(L)),y.provide(Ua,l);const B=y.unmount;et.add(y),y.unmount=function(){et.delete(y),et.size<1&&(c=tn,de&&de(),de=null,l.value=tn,gt=!1,q=!1),B()}}};function ye(y){return y.reduce((k,L)=>k.then(()=>ue(L)),Promise.resolve())}return tt}function wy(t,e){const n=[],s=[],i=[],r=Math.max(e.matched.length,t.matched.length);for(let o=0;o<r;o++){const a=e.matched[o];a&&(t.matched.find(c=>Ns(c,a))?s.push(a):n.push(a));const l=t.matched[o];l&&(e.matched.find(c=>Ns(c,l))||i.push(l))}return[n,s,i]}var Ku={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xd={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D=function(t,e){if(!t)throw Ks(e)},Ks=function(t){return new Error("Firebase Database ("+Xd.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jd=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let i=t.charCodeAt(s);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Cy=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const i=t[n++];if(i<128)e[s++]=String.fromCharCode(i);else if(i>191&&i<224){const r=t[n++];e[s++]=String.fromCharCode((i&31)<<6|r&63)}else if(i>239&&i<365){const r=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(r&63)<<12|(o&63)<<6|a&63)-65536;e[s++]=String.fromCharCode(55296+(l>>10)),e[s++]=String.fromCharCode(56320+(l&1023))}else{const r=t[n++],o=t[n++];e[s++]=String.fromCharCode((i&15)<<12|(r&63)<<6|o&63)}}return e.join("")},Bl={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let i=0;i<t.length;i+=3){const r=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=r>>2,h=(r&3)<<4|a>>4;let f=(a&15)<<2|c>>6,d=c&63;l||(d=64,o||(f=64)),s.push(n[u],n[h],n[f],n[d])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Jd(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Cy(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let i=0;i<t.length;){const r=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,r==null||a==null||c==null||h==null)throw new Ty;const f=r<<2|a>>4;if(s.push(f),c!==64){const d=a<<4&240|c>>2;if(s.push(d),h!==64){const g=c<<6&192|h;s.push(g)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Ty extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Zd=function(t){const e=Jd(t);return Bl.encodeByteArray(e,!0)},Nr=function(t){return Zd(t).replace(/\./g,"")},Ka=function(t){try{return Bl.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sy(t){return ep(void 0,t)}function ep(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!Ay(n)||(t[n]=ep(t[n],e[n]));return t}function Ay(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iy(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ny=()=>Iy().__FIREBASE_DEFAULTS__,Oy=()=>{if(typeof process>"u"||typeof Ku>"u")return;const t=Ku.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Ry=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Ka(t[1]);return e&&JSON.parse(e)},tp=()=>{try{return Ny()||Oy()||Ry()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Dy=t=>{var e,n;return(n=(e=tp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},xy=t=>{const e=Dy(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},np=()=>{var t;return(t=tp())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Py(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",i=t.iat||0,r=t.sub||t.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:i,exp:i+3600,auth_time:i,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Nr(JSON.stringify(n)),Nr(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ly(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function sp(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ly())}function My(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function ky(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ip(){return Xd.NODE_ADMIN===!0}function rp(){try{return typeof indexedDB=="object"}catch{return!1}}function op(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(s);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var r;e(((r=i.error)===null||r===void 0?void 0:r.message)||"")}}catch(n){e(n)}})}function $y(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fy="FirebaseError";class ns extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=Fy,Object.setPrototypeOf(this,ns.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ho.prototype.create)}}class ho{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},i=`${this.service}/${e}`,r=this.errors[e],o=r?Vy(r,s):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new ns(i,a,s)}}function Vy(t,e){return t.replace(By,(n,s)=>{const i=e[s];return i!=null?String(i):`<${s}?>`})}const By=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ni(t){return JSON.parse(t)}function Se(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ap=function(t){let e={},n={},s={},i="";try{const r=t.split(".");e=Ni(Ka(r[0])||""),n=Ni(Ka(r[1])||""),i=r[2],s=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:s,signature:i}},Hy=function(t){const e=ap(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},Wy=function(t){const e=ap(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Rs(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Gu(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Or(t,e,n){const s={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(s[i]=e.call(n,t[i],i,t));return s}function Ga(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const i of n){if(!s.includes(i))return!1;const r=t[i],o=e[i];if(zu(r)&&zu(o)){if(!Ga(r,o))return!1}else if(r!==o)return!1}for(const i of s)if(!n.includes(i))return!1;return!0}function zu(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uy(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const s=this.W_;if(typeof e=="string")for(let h=0;h<16;h++)s[h]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let h=0;h<16;h++)s[h]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let h=16;h<80;h++){const f=s[h-3]^s[h-8]^s[h-14]^s[h-16];s[h]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],r=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,u;for(let h=0;h<80;h++){h<40?h<20?(c=a^r&(o^a),u=1518500249):(c=r^o^a,u=1859775393):h<60?(c=r&o|a&(r|o),u=2400959708):(c=r^o^a,u=3395469782);const f=(i<<5|i>>>27)+c+l+u+s[h]&4294967295;l=a,a=o,o=(r<<30|r>>>2)&4294967295,r=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+r&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const s=n-this.blockSize;let i=0;const r=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=s;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(r[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(r),o=0;break}}else for(;i<n;)if(r[o]=e[i],++o,++i,o===this.blockSize){this.compress_(r),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let s=0;for(let i=0;i<5;i++)for(let r=24;r>=0;r-=8)e[s]=this.chain_[i]>>r&255,++s;return e}}function Hl(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ky=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let i=t.charCodeAt(s);if(i>=55296&&i<=56319){const r=i-55296;s++,D(s<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(s)-56320;i=65536+(r<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},fo=function(t){let e=0;for(let n=0;n<t.length;n++){const s=t.charCodeAt(n);s<128?e++:s<2048?e+=2:s>=55296&&s<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gy=1e3,zy=2,qy=4*60*60*1e3,Yy=.5;function qu(t,e=Gy,n=zy){const s=e*Math.pow(n,t),i=Math.round(Yy*s*(Math.random()-.5)*2);return Math.min(qy,s+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cn(t){return t&&t._delegate?t._delegate:t}class qt{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const On="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qy{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new uo;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&s.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(r){if(i)return null;throw r}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Jy(e))try{this.getOrInitializeService({instanceIdentifier:On})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const r=this.getOrInitializeService({instanceIdentifier:i});s.resolve(r)}catch{}}}}clearInstance(e=On){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=On){return this.instances.has(e)}getOptions(e=On){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[r,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(r);s===a&&o.resolve(i)}return i}onInit(e,n){var s;const i=this.normalizeInstanceIdentifier(n),r=(s=this.onInitCallbacks.get(i))!==null&&s!==void 0?s:new Set;r.add(e),this.onInitCallbacks.set(i,r);const o=this.instances.get(i);return o&&e(o,i),()=>{r.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const i of s)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Xy(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=On){return this.component?this.component.multipleInstances?e:On:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Xy(t){return t===On?void 0:t}function Jy(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zy{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Qy(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(pe||(pe={}));const eb={debug:pe.DEBUG,verbose:pe.VERBOSE,info:pe.INFO,warn:pe.WARN,error:pe.ERROR,silent:pe.SILENT},tb=pe.INFO,nb={[pe.DEBUG]:"log",[pe.VERBOSE]:"log",[pe.INFO]:"info",[pe.WARN]:"warn",[pe.ERROR]:"error"},sb=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),i=nb[e];if(i)console[i](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Wl{constructor(e){this.name=e,this._logLevel=tb,this._logHandler=sb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?eb[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,pe.DEBUG,...e),this._logHandler(this,pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,pe.VERBOSE,...e),this._logHandler(this,pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,pe.INFO,...e),this._logHandler(this,pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,pe.WARN,...e),this._logHandler(this,pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,pe.ERROR,...e),this._logHandler(this,pe.ERROR,...e)}}const ib=(t,e)=>e.some(n=>t instanceof n);let Yu,Qu;function rb(){return Yu||(Yu=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ob(){return Qu||(Qu=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const lp=new WeakMap,za=new WeakMap,cp=new WeakMap,qo=new WeakMap,Ul=new WeakMap;function ab(t){const e=new Promise((n,s)=>{const i=()=>{t.removeEventListener("success",r),t.removeEventListener("error",o)},r=()=>{n(un(t.result)),i()},o=()=>{s(t.error),i()};t.addEventListener("success",r),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&lp.set(n,t)}).catch(()=>{}),Ul.set(e,t),e}function lb(t){if(za.has(t))return;const e=new Promise((n,s)=>{const i=()=>{t.removeEventListener("complete",r),t.removeEventListener("error",o),t.removeEventListener("abort",o)},r=()=>{n(),i()},o=()=>{s(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",r),t.addEventListener("error",o),t.addEventListener("abort",o)});za.set(t,e)}let qa={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return za.get(t);if(e==="objectStoreNames")return t.objectStoreNames||cp.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return un(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function cb(t){qa=t(qa)}function ub(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(Yo(this),e,...n);return cp.set(s,e.sort?e.sort():[e]),un(s)}:ob().includes(t)?function(...e){return t.apply(Yo(this),e),un(lp.get(this))}:function(...e){return un(t.apply(Yo(this),e))}}function hb(t){return typeof t=="function"?ub(t):(t instanceof IDBTransaction&&lb(t),ib(t,rb())?new Proxy(t,qa):t)}function un(t){if(t instanceof IDBRequest)return ab(t);if(qo.has(t))return qo.get(t);const e=hb(t);return e!==t&&(qo.set(t,e),Ul.set(e,t)),e}const Yo=t=>Ul.get(t);function fb(t,e,{blocked:n,upgrade:s,blocking:i,terminated:r}={}){const o=indexedDB.open(t,e),a=un(o);return s&&o.addEventListener("upgradeneeded",l=>{s(un(o.result),l.oldVersion,l.newVersion,un(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{r&&l.addEventListener("close",()=>r()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const db=["get","getKey","getAll","getAllKeys","count"],pb=["put","add","delete","clear"],Qo=new Map;function Xu(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Qo.get(e))return Qo.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,i=pb.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(i||db.includes(n)))return;const r=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return s&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return Qo.set(e,r),r}cb(t=>({...t,get:(e,n,s)=>Xu(e,n)||t.get(e,n,s),has:(e,n)=>!!Xu(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(mb(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function mb(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ya="@firebase/app",Ju="0.9.25";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gn=new Wl("@firebase/app"),gb="@firebase/app-compat",vb="@firebase/analytics-compat",Eb="@firebase/analytics",yb="@firebase/app-check-compat",bb="@firebase/app-check",wb="@firebase/auth",Cb="@firebase/auth-compat",Tb="@firebase/database",Sb="@firebase/database-compat",Ab="@firebase/functions",Ib="@firebase/functions-compat",Nb="@firebase/installations",Ob="@firebase/installations-compat",Rb="@firebase/messaging",Db="@firebase/messaging-compat",xb="@firebase/performance",Pb="@firebase/performance-compat",Lb="@firebase/remote-config",Mb="@firebase/remote-config-compat",kb="@firebase/storage",$b="@firebase/storage-compat",Fb="@firebase/firestore",Vb="@firebase/firestore-compat",Bb="firebase",Hb="10.7.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qa="[DEFAULT]",Wb={[Ya]:"fire-core",[gb]:"fire-core-compat",[Eb]:"fire-analytics",[vb]:"fire-analytics-compat",[bb]:"fire-app-check",[yb]:"fire-app-check-compat",[wb]:"fire-auth",[Cb]:"fire-auth-compat",[Tb]:"fire-rtdb",[Sb]:"fire-rtdb-compat",[Ab]:"fire-fn",[Ib]:"fire-fn-compat",[Nb]:"fire-iid",[Ob]:"fire-iid-compat",[Rb]:"fire-fcm",[Db]:"fire-fcm-compat",[xb]:"fire-perf",[Pb]:"fire-perf-compat",[Lb]:"fire-rc",[Mb]:"fire-rc-compat",[kb]:"fire-gcs",[$b]:"fire-gcs-compat",[Fb]:"fire-fst",[Vb]:"fire-fst-compat","fire-js":"fire-js",[Bb]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rr=new Map,Xa=new Map;function Ub(t,e){try{t.container.addComponent(e)}catch(n){Gn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function mn(t){const e=t.name;if(Xa.has(e))return Gn.debug(`There were multiple attempts to register component ${e}.`),!1;Xa.set(e,t);for(const n of Rr.values())Ub(n,t);return!0}function jl(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},hn=new ho("app","Firebase",jb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new qt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw hn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gb=Hb;function up(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Qa,automaticDataCollectionEnabled:!1},e),i=s.name;if(typeof i!="string"||!i)throw hn.create("bad-app-name",{appName:String(i)});if(n||(n=np()),!n)throw hn.create("no-options");const r=Rr.get(i);if(r){if(Ga(n,r.options)&&Ga(s,r.config))return r;throw hn.create("duplicate-app",{appName:i})}const o=new Zy(i);for(const l of Xa.values())o.addComponent(l);const a=new Kb(n,s,o);return Rr.set(i,a),a}function zb(t=Qa){const e=Rr.get(t);if(!e&&t===Qa&&np())return up();if(!e)throw hn.create("no-app",{appName:t});return e}function Dt(t,e,n){var s;let i=(s=Wb[t])!==null&&s!==void 0?s:t;n&&(i+=`-${n}`);const r=i.match(/\s|\//),o=e.match(/\s|\//);if(r||o){const a=[`Unable to register library "${i}" with version "${e}":`];r&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Gn.warn(a.join(" "));return}mn(new qt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qb="firebase-heartbeat-database",Yb=1,Oi="firebase-heartbeat-store";let Xo=null;function hp(){return Xo||(Xo=fb(qb,Yb,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Oi)}}}).catch(t=>{throw hn.create("idb-open",{originalErrorMessage:t.message})})),Xo}async function Qb(t){try{return await(await hp()).transaction(Oi).objectStore(Oi).get(fp(t))}catch(e){if(e instanceof ns)Gn.warn(e.message);else{const n=hn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Gn.warn(n.message)}}}async function Zu(t,e){try{const s=(await hp()).transaction(Oi,"readwrite");await s.objectStore(Oi).put(e,fp(t)),await s.done}catch(n){if(n instanceof ns)Gn.warn(n.message);else{const s=hn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Gn.warn(s.message)}}}function fp(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xb=1024,Jb=30*24*60*60*1e3;class Zb{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new tw(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=eh();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=Jb}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=eh(),{heartbeatsToSend:s,unsentEntries:i}=ew(this._heartbeatsCache.heartbeats),r=Nr(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function eh(){return new Date().toISOString().substring(0,10)}function ew(t,e=Xb){const n=[];let s=t.slice();for(const i of t){const r=n.find(o=>o.agent===i.agent);if(r){if(r.dates.push(i.date),th(n)>e){r.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),th(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class tw{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return rp()?op().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Qb(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Zu(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Zu(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function th(t){return Nr(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nw(t){mn(new qt("platform-logger",e=>new _b(e),"PRIVATE")),mn(new qt("heartbeat",e=>new Zb(e),"PRIVATE")),Dt(Ya,Ju,t),Dt(Ya,Ju,"esm2017"),Dt("fire-js","")}nw("");var sw="firebase",iw="10.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Dt(sw,iw,"app");const rw=(t,e)=>e.some(n=>t instanceof n);let nh,sh;function ow(){return nh||(nh=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function aw(){return sh||(sh=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const dp=new WeakMap,Ja=new WeakMap,pp=new WeakMap,Jo=new WeakMap,Kl=new WeakMap;function lw(t){const e=new Promise((n,s)=>{const i=()=>{t.removeEventListener("success",r),t.removeEventListener("error",o)},r=()=>{n(fn(t.result)),i()},o=()=>{s(t.error),i()};t.addEventListener("success",r),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&dp.set(n,t)}).catch(()=>{}),Kl.set(e,t),e}function cw(t){if(Ja.has(t))return;const e=new Promise((n,s)=>{const i=()=>{t.removeEventListener("complete",r),t.removeEventListener("error",o),t.removeEventListener("abort",o)},r=()=>{n(),i()},o=()=>{s(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",r),t.addEventListener("error",o),t.addEventListener("abort",o)});Ja.set(t,e)}let Za={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ja.get(t);if(e==="objectStoreNames")return t.objectStoreNames||pp.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return fn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function uw(t){Za=t(Za)}function hw(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(Zo(this),e,...n);return pp.set(s,e.sort?e.sort():[e]),fn(s)}:aw().includes(t)?function(...e){return t.apply(Zo(this),e),fn(dp.get(this))}:function(...e){return fn(t.apply(Zo(this),e))}}function fw(t){return typeof t=="function"?hw(t):(t instanceof IDBTransaction&&cw(t),rw(t,ow())?new Proxy(t,Za):t)}function fn(t){if(t instanceof IDBRequest)return lw(t);if(Jo.has(t))return Jo.get(t);const e=fw(t);return e!==t&&(Jo.set(t,e),Kl.set(e,t)),e}const Zo=t=>Kl.get(t);function dw(t,e,{blocked:n,upgrade:s,blocking:i,terminated:r}={}){const o=indexedDB.open(t,e),a=fn(o);return s&&o.addEventListener("upgradeneeded",l=>{s(fn(o.result),l.oldVersion,l.newVersion,fn(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{r&&l.addEventListener("close",()=>r()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}const pw=["get","getKey","getAll","getAllKeys","count"],_w=["put","add","delete","clear"],ea=new Map;function ih(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ea.get(e))return ea.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,i=_w.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(i||pw.includes(n)))return;const r=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return s&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return ea.set(e,r),r}uw(t=>({...t,get:(e,n,s)=>ih(e,n)||t.get(e,n,s),has:(e,n)=>!!ih(e,n)||t.has(e,n)}));const _p="@firebase/installations",Gl="0.6.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mp=1e4,gp=`w:${Gl}`,vp="FIS_v2",mw="https://firebaseinstallations.googleapis.com/v1",gw=60*60*1e3,vw="installations",Ew="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yw={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},zn=new ho(vw,Ew,yw);function Ep(t){return t instanceof ns&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yp({projectId:t}){return`${mw}/projects/${t}/installations`}function bp(t){return{token:t.token,requestStatus:2,expiresIn:ww(t.expiresIn),creationTime:Date.now()}}async function wp(t,e){const s=(await e.json()).error;return zn.create("request-failed",{requestName:t,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function Cp({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function bw(t,{refreshToken:e}){const n=Cp(t);return n.append("Authorization",Cw(e)),n}async function Tp(t){const e=await t();return e.status>=500&&e.status<600?t():e}function ww(t){return Number(t.replace("s","000"))}function Cw(t){return`${vp} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tw({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const s=yp(t),i=Cp(t),r=e.getImmediate({optional:!0});if(r){const c=await r.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const o={fid:n,authVersion:vp,appId:t.appId,sdkVersion:gp},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await Tp(()=>fetch(s,a));if(l.ok){const c=await l.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:bp(c.authToken)}}else throw await wp("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sp(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sw(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aw=/^[cdef][\w-]{21}$/,el="";function Iw(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=Nw(t);return Aw.test(n)?n:el}catch{return el}}function Nw(t){return Sw(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function po(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ap=new Map;function Ip(t,e){const n=po(t);Np(n,e),Ow(n,e)}function Np(t,e){const n=Ap.get(t);if(n)for(const s of n)s(e)}function Ow(t,e){const n=Rw();n&&n.postMessage({key:t,fid:e}),Dw()}let Pn=null;function Rw(){return!Pn&&"BroadcastChannel"in self&&(Pn=new BroadcastChannel("[Firebase] FID Change"),Pn.onmessage=t=>{Np(t.data.key,t.data.fid)}),Pn}function Dw(){Ap.size===0&&Pn&&(Pn.close(),Pn=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xw="firebase-installations-database",Pw=1,qn="firebase-installations-store";let ta=null;function zl(){return ta||(ta=dw(xw,Pw,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(qn)}}})),ta}async function Dr(t,e){const n=po(t),i=(await zl()).transaction(qn,"readwrite"),r=i.objectStore(qn),o=await r.get(n);return await r.put(e,n),await i.done,(!o||o.fid!==e.fid)&&Ip(t,e.fid),e}async function Op(t){const e=po(t),s=(await zl()).transaction(qn,"readwrite");await s.objectStore(qn).delete(e),await s.done}async function _o(t,e){const n=po(t),i=(await zl()).transaction(qn,"readwrite"),r=i.objectStore(qn),o=await r.get(n),a=e(o);return a===void 0?await r.delete(n):await r.put(a,n),await i.done,a&&(!o||o.fid!==a.fid)&&Ip(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ql(t){let e;const n=await _o(t.appConfig,s=>{const i=Lw(s),r=Mw(t,i);return e=r.registrationPromise,r.installationEntry});return n.fid===el?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function Lw(t){const e=t||{fid:Iw(),registrationStatus:0};return Rp(e)}function Mw(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(zn.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=kw(t,n);return{installationEntry:n,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:$w(t)}:{installationEntry:e}}async function kw(t,e){try{const n=await Tw(t,e);return Dr(t.appConfig,n)}catch(n){throw Ep(n)&&n.customData.serverCode===409?await Op(t.appConfig):await Dr(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function $w(t){let e=await rh(t.appConfig);for(;e.registrationStatus===1;)await Sp(100),e=await rh(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:s}=await ql(t);return s||n}return e}function rh(t){return _o(t,e=>{if(!e)throw zn.create("installation-not-found");return Rp(e)})}function Rp(t){return Fw(t)?{fid:t.fid,registrationStatus:0}:t}function Fw(t){return t.registrationStatus===1&&t.registrationTime+mp<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vw({appConfig:t,heartbeatServiceProvider:e},n){const s=Bw(t,n),i=bw(t,n),r=e.getImmediate({optional:!0});if(r){const c=await r.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const o={installation:{sdkVersion:gp,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await Tp(()=>fetch(s,a));if(l.ok){const c=await l.json();return bp(c)}else throw await wp("Generate Auth Token",l)}function Bw(t,{fid:e}){return`${yp(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yl(t,e=!1){let n;const s=await _o(t.appConfig,r=>{if(!Dp(r))throw zn.create("not-registered");const o=r.authToken;if(!e&&Uw(o))return r;if(o.requestStatus===1)return n=Hw(t,e),r;{if(!navigator.onLine)throw zn.create("app-offline");const a=Kw(r);return n=Ww(t,a),a}});return n?await n:s.authToken}async function Hw(t,e){let n=await oh(t.appConfig);for(;n.authToken.requestStatus===1;)await Sp(100),n=await oh(t.appConfig);const s=n.authToken;return s.requestStatus===0?Yl(t,e):s}function oh(t){return _o(t,e=>{if(!Dp(e))throw zn.create("not-registered");const n=e.authToken;return Gw(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function Ww(t,e){try{const n=await Vw(t,e),s=Object.assign(Object.assign({},e),{authToken:n});return await Dr(t.appConfig,s),n}catch(n){if(Ep(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await Op(t.appConfig);else{const s=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Dr(t.appConfig,s)}throw n}}function Dp(t){return t!==void 0&&t.registrationStatus===2}function Uw(t){return t.requestStatus===2&&!jw(t)}function jw(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+gw}function Kw(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function Gw(t){return t.requestStatus===1&&t.requestTime+mp<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zw(t){const e=t,{installationEntry:n,registrationPromise:s}=await ql(e);return s?s.catch(console.error):Yl(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qw(t,e=!1){const n=t;return await Yw(n),(await Yl(n,e)).token}async function Yw(t){const{registrationPromise:e}=await ql(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qw(t){if(!t||!t.options)throw na("App Configuration");if(!t.name)throw na("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw na(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function na(t){return zn.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xp="installations",Xw="installations-internal",Jw=t=>{const e=t.getProvider("app").getImmediate(),n=Qw(e),s=jl(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},Zw=t=>{const e=t.getProvider("app").getImmediate(),n=jl(e,xp).getImmediate();return{getId:()=>zw(n),getToken:i=>qw(n,i)}};function eC(){mn(new qt(xp,Jw,"PUBLIC")),mn(new qt(Xw,Zw,"PRIVATE"))}eC();Dt(_p,Gl);Dt(_p,Gl,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ah="analytics",tC="firebase_id",nC="origin",sC=60*1e3,iC="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ql="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qe=new Wl("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rC={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},ft=new ho("analytics","Analytics",rC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oC(t){if(!t.startsWith(Ql)){const e=ft.create("invalid-gtag-resource",{gtagURL:t});return qe.warn(e.message),""}return t}function Pp(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function aC(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function lC(t,e){const n=aC("firebase-js-sdk-policy",{createScriptURL:oC}),s=document.createElement("script"),i=`${Ql}?l=${t}&id=${e}`;s.src=n?n==null?void 0:n.createScriptURL(i):i,s.async=!0,document.head.appendChild(s)}function cC(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function uC(t,e,n,s,i,r){const o=s[i];try{if(o)await e[o];else{const l=(await Pp(n)).find(c=>c.measurementId===i);l&&await e[l.appId]}}catch(a){qe.error(a)}t("config",i,r)}async function hC(t,e,n,s,i){try{let r=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=await Pp(n);for(const l of o){const c=a.find(h=>h.measurementId===l),u=c&&e[c.appId];if(u)r.push(u);else{r=[];break}}}r.length===0&&(r=Object.values(e)),await Promise.all(r),t("event",s,i||{})}catch(r){qe.error(r)}}function fC(t,e,n,s){async function i(r,...o){try{if(r==="event"){const[a,l]=o;await hC(t,e,n,a,l)}else if(r==="config"){const[a,l]=o;await uC(t,e,n,s,a,l)}else if(r==="consent"){const[a]=o;t("consent","update",a)}else if(r==="get"){const[a,l,c]=o;t("get",a,l,c)}else if(r==="set"){const[a]=o;t("set",a)}else t(r,...o)}catch(a){qe.error(a)}}return i}function dC(t,e,n,s,i){let r=function(...o){window[s].push(arguments)};return window[i]&&typeof window[i]=="function"&&(r=window[i]),window[i]=fC(r,t,e,n),{gtagCore:r,wrappedGtag:window[i]}}function pC(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Ql)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _C=30,mC=1e3;class gC{constructor(e={},n=mC){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const Lp=new gC;function vC(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function EC(t){var e;const{appId:n,apiKey:s}=t,i={method:"GET",headers:vC(s)},r=iC.replace("{app-id}",n),o=await fetch(r,i);if(o.status!==200&&o.status!==304){let a="";try{const l=await o.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw ft.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function yC(t,e=Lp,n){const{appId:s,apiKey:i,measurementId:r}=t.options;if(!s)throw ft.create("no-app-id");if(!i){if(r)return{measurementId:r,appId:s};throw ft.create("no-api-key")}const o=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new CC;return setTimeout(async()=>{a.abort()},n!==void 0?n:sC),Mp({appId:s,apiKey:i,measurementId:r},o,a,e)}async function Mp(t,{throttleEndTimeMillis:e,backoffCount:n},s,i=Lp){var r;const{appId:o,measurementId:a}=t;try{await bC(s,e)}catch(l){if(a)return qe.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw l}try{const l=await EC(t);return i.deleteThrottleMetadata(o),l}catch(l){const c=l;if(!wC(c)){if(i.deleteThrottleMetadata(o),a)return qe.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:o,measurementId:a};throw l}const u=Number((r=c==null?void 0:c.customData)===null||r===void 0?void 0:r.httpStatus)===503?qu(n,i.intervalMillis,_C):qu(n,i.intervalMillis),h={throttleEndTimeMillis:Date.now()+u,backoffCount:n+1};return i.setThrottleMetadata(o,h),qe.debug(`Calling attemptFetch again in ${u} millis`),Mp(t,h,s,i)}}function bC(t,e){return new Promise((n,s)=>{const i=Math.max(e-Date.now(),0),r=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(r),s(ft.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function wC(t){if(!(t instanceof ns)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class CC{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function TC(t,e,n,s,i){if(i&&i.global){t("event",n,s);return}else{const r=await e,o=Object.assign(Object.assign({},s),{send_to:r});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SC(){if(rp())try{await op()}catch(t){return qe.warn(ft.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return qe.warn(ft.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function AC(t,e,n,s,i,r,o){var a;const l=yC(t);l.then(d=>{n[d.measurementId]=d.appId,t.options.measurementId&&d.measurementId!==t.options.measurementId&&qe.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${d.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(d=>qe.error(d)),e.push(l);const c=SC().then(d=>{if(d)return s.getId()}),[u,h]=await Promise.all([l,c]);pC(r)||lC(r,u.measurementId),i("js",new Date);const f=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return f[nC]="firebase",f.update=!0,h!=null&&(f[tC]=h),i("config",u.measurementId,f),u.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(e){this.app=e}_delete(){return delete _i[this.app.options.appId],Promise.resolve()}}let _i={},lh=[];const ch={};let sa="dataLayer",NC="gtag",uh,kp,hh=!1;function OC(){const t=[];if(My()&&t.push("This is a browser extension environment."),$y()||t.push("Cookies are not available."),t.length>0){const e=t.map((s,i)=>`(${i+1}) ${s}`).join(" "),n=ft.create("invalid-analytics-context",{errorInfo:e});qe.warn(n.message)}}function RC(t,e,n){OC();const s=t.options.appId;if(!s)throw ft.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)qe.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw ft.create("no-api-key");if(_i[s]!=null)throw ft.create("already-exists",{id:s});if(!hh){cC(sa);const{wrappedGtag:r,gtagCore:o}=dC(_i,lh,ch,sa,NC);kp=r,uh=o,hh=!0}return _i[s]=AC(t,lh,ch,e,uh,sa,n),new IC(t)}function DC(t,e,n,s){t=Cn(t),TC(kp,_i[t.app.options.appId],e,n,s).catch(i=>qe.error(i))}const fh="@firebase/analytics",dh="0.10.0";function xC(){mn(new qt(ah,(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return RC(s,i,n)},"PUBLIC")),mn(new qt("analytics-internal",t,"PRIVATE")),Dt(fh,dh),Dt(fh,dh,"esm2017");function t(e){try{const n=e.getProvider(ah).getImmediate();return{logEvent:(s,i,r)=>DC(n,s,i,r)}}catch(n){throw ft.create("interop-component-reg-failed",{reason:n})}}}xC();var ph={};const _h="@firebase/database",mh="1.0.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $p="";function PC(t){$p=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Se(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Ni(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Jt(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fp=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new LC(e)}}catch{}return new MC},Ln=Fp("localStorage"),tl=Fp("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cs=new Wl("@firebase/database"),kC=function(){let t=1;return function(){return t++}}(),Vp=function(t){const e=Ky(t),n=new jy;n.update(e);const s=n.digest();return Bl.encodeByteArray(s)},Bi=function(...t){let e="";for(let n=0;n<t.length;n++){const s=t[n];Array.isArray(s)||s&&typeof s=="object"&&typeof s.length=="number"?e+=Bi.apply(null,s):typeof s=="object"?e+=Se(s):e+=s,e+=" "}return e};let Wn=null,gh=!0;const $C=function(t,e){D(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Cs.logLevel=pe.VERBOSE,Wn=Cs.log.bind(Cs),e&&tl.set("logging_enabled",!0)):typeof t=="function"?Wn=t:(Wn=null,tl.remove("logging_enabled"))},ke=function(...t){if(gh===!0&&(gh=!1,Wn===null&&tl.get("logging_enabled")===!0&&$C(!0)),Wn){const e=Bi.apply(null,t);Wn(e)}},Hi=function(t){return function(...e){ke(t,...e)}},nl=function(...t){const e="FIREBASE INTERNAL ERROR: "+Bi(...t);Cs.error(e)},Yt=function(...t){const e=`FIREBASE FATAL ERROR: ${Bi(...t)}`;throw Cs.error(e),new Error(e)},Ye=function(...t){const e="FIREBASE WARNING: "+Bi(...t);Cs.warn(e)},FC=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Ye("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Bp=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},VC=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Ds="[MIN_NAME]",Yn="[MAX_NAME]",Gs=function(t,e){if(t===e)return 0;if(t===Ds||e===Yn)return-1;if(e===Ds||t===Yn)return 1;{const n=vh(t),s=vh(e);return n!==null?s!==null?n-s===0?t.length-e.length:n-s:-1:s!==null?1:t<e?-1:1}},BC=function(t,e){return t===e?0:t<e?-1:1},ti=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Se(e))},Xl=function(t){if(typeof t!="object"||t===null)return Se(t);const e=[];for(const s in t)e.push(s);e.sort();let n="{";for(let s=0;s<e.length;s++)s!==0&&(n+=","),n+=Se(e[s]),n+=":",n+=Xl(t[e[s]]);return n+="}",n},Hp=function(t,e){const n=t.length;if(n<=e)return[t];const s=[];for(let i=0;i<n;i+=e)i+e>n?s.push(t.substring(i,n)):s.push(t.substring(i,i+e));return s};function Xe(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const Wp=function(t){D(!Bp(t),"Invalid JSON number");const e=11,n=52,s=(1<<e-1)-1;let i,r,o,a,l;t===0?(r=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-s)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),s),r=a+s,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(r=0,o=Math.round(t/Math.pow(2,1-s-n))));const c=[];for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(r%2?1:0),r=Math.floor(r/2);c.push(i?1:0),c.reverse();const u=c.join("");let h="";for(l=0;l<64;l+=8){let f=parseInt(u.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),h=h+f}return h.toLowerCase()},HC=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},WC=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function UC(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const s=new Error(t+" at "+e._path.toString()+": "+n);return s.code=t.toUpperCase(),s}const jC=new RegExp("^-?(0*)\\d{1,10}$"),KC=-2147483648,GC=2147483647,vh=function(t){if(jC.test(t)){const e=Number(t);if(e>=KC&&e<=GC)return e}return null},zs=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Ye("Exception was thrown by user callback.",n),e},Math.floor(0))}},zC=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},mi=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(s=>this.appCheck=s)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,s)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,s):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(s=>s.addTokenListener(e))}notifyForInvalidToken(){Ye(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(e,n,s){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=s,this.auth_=null,this.auth_=s.getImmediate({optional:!0}),this.auth_||s.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(ke("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,s)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,s):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ye(e)}}class Ts{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Ts.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jl="5",Up="v",jp="s",Kp="r",Gp="f",zp=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,qp="ls",Yp="p",sl="ac",Qp="websocket",Xp="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(e,n,s,i,r=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=s,this.webSocketOnly=i,this.nodeAdmin=r,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ln.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Ln.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function QC(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function Zp(t,e,n){D(typeof e=="string","typeof type must == string"),D(typeof n=="object","typeof params must == object");let s;if(e===Qp)s=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===Xp)s=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);QC(t)&&(n.ns=t.namespace);const i=[];return Xe(n,(r,o)=>{i.push(r+"="+o)}),s+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(){this.counters_={}}incrementCounter(e,n=1){Jt(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return Sy(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia={},ra={};function Zl(t){const e=t.toString();return ia[e]||(ia[e]=new XC),ia[e]}function JC(t,e){const n=t.toString();return ra[n]||(ra[n]=e()),ra[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const s=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<s.length;++i)s[i]&&zs(()=>{this.onMessage_(s[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eh="start",eT="close",tT="pLPCommand",nT="pRTLPCB",e_="id",t_="pw",n_="ser",sT="cb",iT="seg",rT="ts",oT="d",aT="dframe",s_=1870,i_=30,lT=s_-i_,cT=25e3,uT=3e4;class ms{constructor(e,n,s,i,r,o,a){this.connId=e,this.repoInfo=n,this.applicationId=s,this.appCheckToken=i,this.authToken=r,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Hi(e),this.stats_=Zl(n),this.urlFn=l=>(this.appCheckToken&&(l[sl]=this.appCheckToken),Zp(n,Xp,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new ZC(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(uT)),VC(()=>{if(this.isClosed_)return;this.scriptTagHolder=new ec((...r)=>{const[o,a,l,c,u]=r;if(this.incrementIncomingBytes_(r),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===Eh)this.id=a,this.password=l;else if(o===eT)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...r)=>{const[o,a]=r;this.incrementIncomingBytes_(r),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const s={};s[Eh]="t",s[n_]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(s[sT]=this.scriptTagHolder.uniqueCallbackIdentifier),s[Up]=Jl,this.transportSessionId&&(s[jp]=this.transportSessionId),this.lastSessionId&&(s[qp]=this.lastSessionId),this.applicationId&&(s[Yp]=this.applicationId),this.appCheckToken&&(s[sl]=this.appCheckToken),typeof location<"u"&&location.hostname&&zp.test(location.hostname)&&(s[Kp]=Gp);const i=this.urlFn(s);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ms.forceAllow_=!0}static forceDisallow(){ms.forceDisallow_=!0}static isAvailable(){return ms.forceAllow_?!0:!ms.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!HC()&&!WC()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Se(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const s=Zd(n),i=Hp(s,lT);for(let r=0;r<i.length;r++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[r]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const s={};s[aT]="t",s[e_]=e,s[t_]=n,this.myDisconnFrame.src=this.urlFn(s),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Se(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class ec{constructor(e,n,s,i){this.onDisconnect=s,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=kC(),window[tT+this.uniqueCallbackIdentifier]=e,window[nT+this.uniqueCallbackIdentifier]=n,this.myIFrame=ec.createIFrame_();let r="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(r='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+r+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){ke("frame writing exception"),a.stack&&ke(a.stack),ke(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||ke("No IE domain setting required")}catch{const s=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+s+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[e_]=this.myID,e[t_]=this.myPW,e[n_]=this.currentSerial;let n=this.urlFn(e),s="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+i_+s.length<=s_;){const o=this.pendingSegs.shift();s=s+"&"+iT+i+"="+o.seg+"&"+rT+i+"="+o.ts+"&"+oT+i+"="+o.d,i++}return n=n+s,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,s){this.pendingSegs.push({seg:e,ts:n,d:s}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const s=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(s,Math.floor(cT)),r=()=>{clearTimeout(i),s()};this.addTag(e,r)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const s=this.myIFrame.doc.createElement("script");s.type="text/javascript",s.async=!0,s.src=e,s.onload=s.onreadystatechange=function(){const i=s.readyState;(!i||i==="loaded"||i==="complete")&&(s.onload=s.onreadystatechange=null,s.parentNode&&s.parentNode.removeChild(s),n())},s.onerror=()=>{ke("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(s)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hT=16384,fT=45e3;let xr=null;typeof MozWebSocket<"u"?xr=MozWebSocket:typeof WebSocket<"u"&&(xr=WebSocket);class Et{constructor(e,n,s,i,r,o,a){this.connId=e,this.applicationId=s,this.appCheckToken=i,this.authToken=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Hi(this.connId),this.stats_=Zl(n),this.connURL=Et.connectionURL_(n,o,a,i,s),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,s,i,r){const o={};return o[Up]=Jl,typeof location<"u"&&location.hostname&&zp.test(location.hostname)&&(o[Kp]=Gp),n&&(o[jp]=n),s&&(o[qp]=s),i&&(o[sl]=i),r&&(o[Yp]=r),Zp(e,Qp,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ln.set("previous_websocket_failure",!0);try{let s;ip(),this.mySock=new xr(this.connURL,[],s)}catch(s){this.log_("Error instantiating WebSocket.");const i=s.message||s.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=s=>{this.handleIncomingFrame(s)},this.mySock.onerror=s=>{this.log_("WebSocket error.  Closing connection.");const i=s.message||s.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Et.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,s=navigator.userAgent.match(n);s&&s.length>1&&parseFloat(s[1])<4.4&&(e=!0)}return!e&&xr!==null&&!Et.forceDisallow_}static previouslyFailed(){return Ln.isInMemoryStorage||Ln.get("previous_websocket_failure")===!0}markConnectionHealthy(){Ln.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const s=Ni(n);this.onMessage(s)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(D(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const s=this.extractFrameCount_(n);s!==null&&this.appendFrame_(s)}}send(e){this.resetKeepAlive();const n=Se(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const s=Hp(n,hT);s.length>1&&this.sendString_(String(s.length));for(let i=0;i<s.length;i++)this.sendString_(s[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(fT))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Et.responsesRequiredToBeHealthy=2;Et.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[ms,Et]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=Et&&Et.isAvailable();let s=n&&!Et.previouslyFailed();if(e.webSocketOnly&&(n||Ye("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[Et];else{const i=this.transports_=[];for(const r of Ri.ALL_TRANSPORTS)r&&r.isAvailable()&&i.push(r);Ri.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Ri.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dT=6e4,pT=5e3,_T=10*1024,mT=100*1024,oa="t",yh="d",gT="s",bh="r",vT="e",wh="o",Ch="a",Th="n",Sh="p",ET="h";class yT{constructor(e,n,s,i,r,o,a,l,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=s,this.appCheckToken_=i,this.authToken_=r,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Hi("c:"+this.id+":"),this.transportManager_=new Ri(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),s=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,s)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=mi(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>mT?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>_T?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(oa in e){const n=e[oa];n===Ch?this.upgradeIfSecondaryHealthy_():n===bh?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===wh&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=ti("t",e),s=ti("d",e);if(n==="c")this.onSecondaryControl_(s);else if(n==="d")this.pendingDataMessages.push(s);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Sh,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Ch,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Th,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=ti("t",e),s=ti("d",e);n==="c"?this.onControl_(s):n==="d"&&this.onDataMessage_(s)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=ti(oa,e);if(yh in e){const s=e[yh];if(n===ET){const i=Object.assign({},s);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===Th){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===gT?this.onConnectionShutdown_(s):n===bh?this.onReset_(s):n===vT?nl("Server Error: "+s):n===wh?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):nl("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,s=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Jl!==s&&Ye("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),s=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,s),mi(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(dT))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):mi(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(pT))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Sh,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ln.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r_{put(e,n,s,i){}merge(e,n,s,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,s){}onDisconnectMerge(e,n,s){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o_{constructor(e){this.allowedEvents_=e,this.listeners_={},D(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const s=[...this.listeners_[e]];for(let i=0;i<s.length;i++)s[i].callback.apply(s[i].context,n)}}on(e,n,s){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:s});const i=this.getInitialEvent(e);i&&n.apply(s,i)}off(e,n,s){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let r=0;r<i.length;r++)if(i[r].callback===n&&(!s||s===i[r].context)){i.splice(r,1);return}}validateEventType_(e){D(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr extends o_{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!sp()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Pr}getInitialEvent(e){return D(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ah=32,Ih=768;class fe{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let s=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[s]=this.pieces_[i],s++);this.pieces_.length=s,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function re(){return new fe("")}function Q(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function gn(t){return t.pieces_.length-t.pieceNum_}function _e(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new fe(t.pieces_,e)}function a_(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function bT(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function l_(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function c_(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new fe(e,0)}function Ae(t,e){const n=[];for(let s=t.pieceNum_;s<t.pieces_.length;s++)n.push(t.pieces_[s]);if(e instanceof fe)for(let s=e.pieceNum_;s<e.pieces_.length;s++)n.push(e.pieces_[s]);else{const s=e.split("/");for(let i=0;i<s.length;i++)s[i].length>0&&n.push(s[i])}return new fe(n,0)}function J(t){return t.pieceNum_>=t.pieces_.length}function Be(t,e){const n=Q(t),s=Q(e);if(n===null)return e;if(n===s)return Be(_e(t),_e(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function tc(t,e){if(gn(t)!==gn(e))return!1;for(let n=t.pieceNum_,s=e.pieceNum_;n<=t.pieces_.length;n++,s++)if(t.pieces_[n]!==e.pieces_[s])return!1;return!0}function bt(t,e){let n=t.pieceNum_,s=e.pieceNum_;if(gn(t)>gn(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[s])return!1;++n,++s}return!0}class wT{constructor(e,n){this.errorPrefix_=n,this.parts_=l_(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let s=0;s<this.parts_.length;s++)this.byteLength_+=fo(this.parts_[s]);u_(this)}}function CT(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=fo(e),u_(t)}function TT(t){const e=t.parts_.pop();t.byteLength_-=fo(e),t.parts_.length>0&&(t.byteLength_-=1)}function u_(t){if(t.byteLength_>Ih)throw new Error(t.errorPrefix_+"has a key path longer than "+Ih+" bytes ("+t.byteLength_+").");if(t.parts_.length>Ah)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Ah+") or object contains a cycle "+Rn(t))}function Rn(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc extends o_{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const s=!document[e];s!==this.visible_&&(this.visible_=s,this.trigger("visible",s))},!1)}static getInstance(){return new nc}getInitialEvent(e){return D(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ni=1e3,ST=60*5*1e3,Nh=30*1e3,AT=1.3,IT=3e4,NT="server_kill",Oh=3;class Kt extends r_{constructor(e,n,s,i,r,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=s,this.onConnectStatus_=i,this.onServerInfoUpdate_=r,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=Kt.nextPersistentConnectionId_++,this.log_=Hi("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ni,this.maxReconnectDelay_=ST,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!ip())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");nc.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Pr.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,s){const i=++this.requestNumber_,r={r:i,a:e,b:n};this.log_(Se(r)),D(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(r),s&&(this.requestCBHash_[i]=s)}get(e){this.initConnection_();const n=new uo,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),n.promise}listen(e,n,s,i){this.initConnection_();const r=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+r),this.listens.has(o)||this.listens.set(o,new Map),D(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),D(!this.listens.get(o).has(r),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:s};this.listens.get(o).set(r,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,s=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(s)})}sendListen_(e){const n=e.query,s=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+s+" for "+i);const r={p:s},o="q";e.tag&&(r.q=n._queryObject,r.t=e.tag),r.h=e.hashFn(),this.sendRequest(o,r,a=>{const l=a.d,c=a.s;Kt.warnOnListenWarnings_(l,n),(this.listens.get(s)&&this.listens.get(s).get(i))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(s,i),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Jt(e,"w")){const s=Rs(e,"w");if(Array.isArray(s)&&~s.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',r=n._path.toString();Ye(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${r} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||Wy(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Nh)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=Hy(e)?"auth":"gauth",s={cred:e};this.authOverride_===null?s.noauth=!0:typeof this.authOverride_=="object"&&(s.authvar=this.authOverride_),this.sendRequest(n,s,i=>{const r=i.s,o=i.d||"error";this.authToken_===e&&(r==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(r,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,s=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,s)})}unlisten(e,n){const s=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+s+" "+i),D(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(s,i)&&this.connected_&&this.sendUnlisten_(s,i,e._queryObject,n)}sendUnlisten_(e,n,s,i){this.log_("Unlisten on "+e+" for "+n);const r={p:e},o="n";i&&(r.q=s,r.t=i),this.sendRequest(o,r)}onDisconnectPut(e,n,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:s})}onDisconnectMerge(e,n,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:s})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,s,i){const r={p:n,d:s};this.log_("onDisconnect "+e,r),this.sendRequest(e,r,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,s,i){this.putInternal("p",e,n,s,i)}merge(e,n,s,i){this.putInternal("m",e,n,s,i)}putInternal(e,n,s,i,r){this.initConnection_();const o={p:n,d:s};r!==void 0&&(o.h=r),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,s=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,s,r=>{this.log_(n+" response",r),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(r.s,r.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,s=>{if(s.s!=="ok"){const r=s.d;this.log_("reportStats","Error sending stats: "+r)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Se(e));const n=e.r,s=this.requestCBHash_[n];s&&(delete this.requestCBHash_[n],s(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):nl("Unrecognized action received from server: "+Se(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){D(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ni,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=ni,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>IT&&(this.reconnectDelay_=ni),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*AT)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),s=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Kt.nextConnectionId_++,r=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,s())},c=function(h){D(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(h)};this.realtime_={close:l,sendRequest:c};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[h,f]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);o?ke("getToken() completed but was canceled"):(ke("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=f&&f.token,a=new yT(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,s,d=>{Ye(d+" ("+this.repoInfo_.toString()+")"),this.interrupt(NT)},r))}catch(h){this.log_("Failed to get token: "+h),o||(this.repoInfo_.nodeAdmin&&Ye(h),l())}}}interrupt(e){ke("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){ke("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Gu(this.interruptReasons_)&&(this.reconnectDelay_=ni,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let s;n?s=n.map(r=>Xl(r)).join("$"):s="default";const i=this.removeListen_(e,s);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const s=new fe(e).toString();let i;if(this.listens.has(s)){const r=this.listens.get(s);i=r.get(n),r.delete(n),r.size===0&&this.listens.delete(s)}else i=void 0;return i}onAuthRevoked_(e,n){ke("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Oh&&(this.reconnectDelay_=Nh,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){ke("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Oh&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+$p.replace(/\./g,"-")]=1,sp()?e["framework.cordova"]=1:ky()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Pr.getInstance().currentlyOnline();return Gu(this.interruptReasons_)&&e}}Kt.nextPersistentConnectionId_=0;Kt.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new X(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const s=new X(Ds,e),i=new X(Ds,n);return this.compare(s,i)!==0}minPost(){return X.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sr;class h_ extends mo{static get __EMPTY_NODE(){return sr}static set __EMPTY_NODE(e){sr=e}compare(e,n){return Gs(e.name,n.name)}isDefinedOn(e){throw Ks("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return X.MIN}maxPost(){return new X(Yn,sr)}makePost(e,n){return D(typeof e=="string","KeyIndex indexValue must always be a string."),new X(e,sr)}toString(){return".key"}}const Ss=new h_;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(e,n,s,i,r=null){this.isReverse_=i,this.resultGenerator_=r,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?s(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Oe{constructor(e,n,s,i,r){this.key=e,this.value=n,this.color=s??Oe.RED,this.left=i??ze.EMPTY_NODE,this.right=r??ze.EMPTY_NODE}copy(e,n,s,i,r){return new Oe(e??this.key,n??this.value,s??this.color,i??this.left,r??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let i=this;const r=s(e,i.key);return r<0?i=i.copy(null,null,null,i.left.insert(e,n,s),null):r===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,s)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return ze.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let s,i;if(s=this,n(e,s.key)<0)!s.left.isEmpty()&&!s.left.isRed_()&&!s.left.left.isRed_()&&(s=s.moveRedLeft_()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed_()&&(s=s.rotateRight_()),!s.right.isEmpty()&&!s.right.isRed_()&&!s.right.left.isRed_()&&(s=s.moveRedRight_()),n(e,s.key)===0){if(s.right.isEmpty())return ze.EMPTY_NODE;i=s.right.min_(),s=s.copy(i.key,i.value,null,null,s.right.removeMin_())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Oe.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Oe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Oe.RED=!0;Oe.BLACK=!1;class OT{copy(e,n,s,i,r){return this}insert(e,n,s){return new Oe(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class ze{constructor(e,n=ze.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new ze(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Oe.BLACK,null,null))}remove(e){return new ze(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Oe.BLACK,null,null))}get(e){let n,s=this.root_;for(;!s.isEmpty();){if(n=this.comparator_(e,s.key),n===0)return s.value;n<0?s=s.left:n>0&&(s=s.right)}return null}getPredecessorKey(e){let n,s=this.root_,i=null;for(;!s.isEmpty();)if(n=this.comparator_(e,s.key),n===0){if(s.left.isEmpty())return i?i.key:null;for(s=s.left;!s.right.isEmpty();)s=s.right;return s.key}else n<0?s=s.left:n>0&&(i=s,s=s.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new ir(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new ir(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new ir(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new ir(this.root_,null,this.comparator_,!0,e)}}ze.EMPTY_NODE=new OT;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RT(t,e){return Gs(t.name,e.name)}function sc(t,e){return Gs(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let il;function DT(t){il=t}const f_=function(t){return typeof t=="number"?"number:"+Wp(t):"string:"+t},d_=function(t){if(t.isLeafNode()){const e=t.val();D(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Jt(e,".sv"),"Priority must be a string or number.")}else D(t===il||t.isEmpty(),"priority of unexpected type.");D(t===il||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rh;class Ne{constructor(e,n=Ne.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,D(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),d_(this.priorityNode_)}static set __childrenNodeConstructor(e){Rh=e}static get __childrenNodeConstructor(){return Rh}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Ne(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Ne.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return J(e)?this:Q(e)===".priority"?this.priorityNode_:Ne.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Ne.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const s=Q(e);return s===null?n:n.isEmpty()&&s!==".priority"?this:(D(s!==".priority"||gn(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(s,Ne.__childrenNodeConstructor.EMPTY_NODE.updateChild(_e(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+f_(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=Wp(this.value_):e+=this.value_,this.lazyHash_=Vp(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Ne.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Ne.__childrenNodeConstructor?-1:(D(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,s=typeof this.value_,i=Ne.VALUE_TYPE_ORDER.indexOf(n),r=Ne.VALUE_TYPE_ORDER.indexOf(s);return D(i>=0,"Unknown leaf type: "+n),D(r>=0,"Unknown leaf type: "+s),i===r?s==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:r-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Ne.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let p_,__;function xT(t){p_=t}function PT(t){__=t}class LT extends mo{compare(e,n){const s=e.node.getPriority(),i=n.node.getPriority(),r=s.compareTo(i);return r===0?Gs(e.name,n.name):r}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return X.MIN}maxPost(){return new X(Yn,new Ne("[PRIORITY-POST]",__))}makePost(e,n){const s=p_(e);return new X(n,new Ne("[PRIORITY-POST]",s))}toString(){return".priority"}}const be=new LT;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MT=Math.log(2);class kT{constructor(e){const n=r=>parseInt(Math.log(r)/MT,10),s=r=>parseInt(Array(r+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=s(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Lr=function(t,e,n,s){t.sort(e);const i=function(l,c){const u=c-l;let h,f;if(u===0)return null;if(u===1)return h=t[l],f=n?n(h):h,new Oe(f,h.node,Oe.BLACK,null,null);{const d=parseInt(u/2,10)+l,g=i(l,d),E=i(d+1,c);return h=t[d],f=n?n(h):h,new Oe(f,h.node,Oe.BLACK,g,E)}},r=function(l){let c=null,u=null,h=t.length;const f=function(g,E){const I=h-g,O=h;h-=g;const b=i(I+1,O),N=t[I],C=n?n(N):N;d(new Oe(C,N.node,E,null,b))},d=function(g){c?(c.left=g,c=g):(u=g,c=g)};for(let g=0;g<l.count;++g){const E=l.nextBitIsOne(),I=Math.pow(2,l.count-(g+1));E?f(I,Oe.BLACK):(f(I,Oe.BLACK),f(I,Oe.RED))}return u},o=new kT(t.length),a=r(o);return new ze(s||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let aa;const as={};class Ht{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return D(as&&be,"ChildrenNode.ts has not been loaded"),aa=aa||new Ht({".priority":as},{".priority":be}),aa}get(e){const n=Rs(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof ze?n:null}hasIndex(e){return Jt(this.indexSet_,e.toString())}addIndex(e,n){D(e!==Ss,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const s=[];let i=!1;const r=n.getIterator(X.Wrap);let o=r.getNext();for(;o;)i=i||e.isDefinedOn(o.node),s.push(o),o=r.getNext();let a;i?a=Lr(s,e.getCompare()):a=as;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const u=Object.assign({},this.indexes_);return u[l]=a,new Ht(u,c)}addToIndexes(e,n){const s=Or(this.indexes_,(i,r)=>{const o=Rs(this.indexSet_,r);if(D(o,"Missing index implementation for "+r),i===as)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(X.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),Lr(a,o.getCompare())}else return as;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new X(e.name,a))),l.insert(e,e.node)}});return new Ht(s,this.indexSet_)}removeFromIndexes(e,n){const s=Or(this.indexes_,i=>{if(i===as)return i;{const r=n.get(e.name);return r?i.remove(new X(e.name,r)):i}});return new Ht(s,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let si;class U{constructor(e,n,s){this.children_=e,this.priorityNode_=n,this.indexMap_=s,this.lazyHash_=null,this.priorityNode_&&d_(this.priorityNode_),this.children_.isEmpty()&&D(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return si||(si=new U(new ze(sc),null,Ht.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||si}updatePriority(e){return this.children_.isEmpty()?this:new U(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?si:n}}getChild(e){const n=Q(e);return n===null?this:this.getImmediateChild(n).getChild(_e(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(D(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const s=new X(e,n);let i,r;n.isEmpty()?(i=this.children_.remove(e),r=this.indexMap_.removeFromIndexes(s,this.children_)):(i=this.children_.insert(e,n),r=this.indexMap_.addToIndexes(s,this.children_));const o=i.isEmpty()?si:this.priorityNode_;return new U(i,o,r)}}updateChild(e,n){const s=Q(e);if(s===null)return n;{D(Q(e)!==".priority"||gn(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(s).updateChild(_e(e),n);return this.updateImmediateChild(s,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let s=0,i=0,r=!0;if(this.forEachChild(be,(o,a)=>{n[o]=a.val(e),s++,r&&U.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):r=!1}),!e&&r&&i<2*s){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+f_(this.getPriority().val())+":"),this.forEachChild(be,(n,s)=>{const i=s.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":Vp(e)}return this.lazyHash_}getPredecessorChildName(e,n,s){const i=this.resolveIndex_(s);if(i){const r=i.getPredecessorKey(new X(e,n));return r?r.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const s=n.minKey();return s&&s.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new X(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const s=n.maxKey();return s&&s.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new X(n,this.children_.get(n)):null}forEachChild(e,n){const s=this.resolveIndex_(e);return s?s.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const s=this.resolveIndex_(n);if(s)return s.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,X.Wrap);let r=i.peek();for(;r!=null&&n.compare(r,e)<0;)i.getNext(),r=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const s=this.resolveIndex_(n);if(s)return s.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,X.Wrap);let r=i.peek();for(;r!=null&&n.compare(r,e)>0;)i.getNext(),r=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Wi?-1:0}withIndex(e){if(e===Ss||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new U(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Ss||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const s=this.getIterator(be),i=n.getIterator(be);let r=s.getNext(),o=i.getNext();for(;r&&o;){if(r.name!==o.name||!r.node.equals(o.node))return!1;r=s.getNext(),o=i.getNext()}return r===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Ss?null:this.indexMap_.get(e.toString())}}U.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class $T extends U{constructor(){super(new ze(sc),U.EMPTY_NODE,Ht.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return U.EMPTY_NODE}isEmpty(){return!1}}const Wi=new $T;Object.defineProperties(X,{MIN:{value:new X(Ds,U.EMPTY_NODE)},MAX:{value:new X(Yn,Wi)}});h_.__EMPTY_NODE=U.EMPTY_NODE;Ne.__childrenNodeConstructor=U;DT(Wi);PT(Wi);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FT=!0;function Re(t,e=null){if(t===null)return U.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),D(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Ne(n,Re(e))}if(!(t instanceof Array)&&FT){const n=[];let s=!1;if(Xe(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=Re(a);l.isEmpty()||(s=s||!l.getPriority().isEmpty(),n.push(new X(o,l)))}}),n.length===0)return U.EMPTY_NODE;const r=Lr(n,RT,o=>o.name,sc);if(s){const o=Lr(n,be.getCompare());return new U(r,Re(e),new Ht({".priority":o},{".priority":be}))}else return new U(r,Re(e),Ht.Default)}else{let n=U.EMPTY_NODE;return Xe(t,(s,i)=>{if(Jt(t,s)&&s.substring(0,1)!=="."){const r=Re(i);(r.isLeafNode()||!r.isEmpty())&&(n=n.updateImmediateChild(s,r))}}),n.updatePriority(Re(e))}}xT(Re);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT extends mo{constructor(e){super(),this.indexPath_=e,D(!J(e)&&Q(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const s=this.extractChild(e.node),i=this.extractChild(n.node),r=s.compareTo(i);return r===0?Gs(e.name,n.name):r}makePost(e,n){const s=Re(e),i=U.EMPTY_NODE.updateChild(this.indexPath_,s);return new X(n,i)}maxPost(){const e=U.EMPTY_NODE.updateChild(this.indexPath_,Wi);return new X(Yn,e)}toString(){return l_(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT extends mo{compare(e,n){const s=e.node.compareTo(n.node);return s===0?Gs(e.name,n.name):s}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return X.MIN}maxPost(){return X.MAX}makePost(e,n){const s=Re(e);return new X(n,s)}toString(){return".value"}}const HT=new BT;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m_(t){return{type:"value",snapshotNode:t}}function xs(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Di(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function xi(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function WT(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e){this.index_=e}updateChild(e,n,s,i,r,o){D(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(i).equals(s.getChild(i))&&a.isEmpty()===s.isEmpty()||(o!=null&&(s.isEmpty()?e.hasChild(n)?o.trackChildChange(Di(n,a)):D(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(xs(n,s)):o.trackChildChange(xi(n,s,a))),e.isLeafNode()&&s.isEmpty())?e:e.updateImmediateChild(n,s).withIndex(this.index_)}updateFullNode(e,n,s){return s!=null&&(e.isLeafNode()||e.forEachChild(be,(i,r)=>{n.hasChild(i)||s.trackChildChange(Di(i,r))}),n.isLeafNode()||n.forEachChild(be,(i,r)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(r)||s.trackChildChange(xi(i,r,o))}else s.trackChildChange(xs(i,r))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?U.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(e){this.indexedFilter_=new ic(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Pi.getStartPost_(e),this.endPost_=Pi.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,s=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&s}updateChild(e,n,s,i,r,o){return this.matches(new X(n,s))||(s=U.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,s,i,r,o)}updateFullNode(e,n,s){n.isLeafNode()&&(n=U.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(U.EMPTY_NODE);const r=this;return n.forEachChild(be,(o,a)=>{r.matches(new X(o,a))||(i=i.updateImmediateChild(o,U.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,s)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const s=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?s<=0:s<0},this.withinEndPost=n=>{const s=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?s<=0:s<0},this.rangedFilter_=new Pi(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,s,i,r,o){return this.rangedFilter_.matches(new X(n,s))||(s=U.EMPTY_NODE),e.getImmediateChild(n).equals(s)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,s,i,r,o):this.fullLimitUpdateChild_(e,n,s,r,o)}updateFullNode(e,n,s){let i;if(n.isLeafNode()||n.isEmpty())i=U.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=U.EMPTY_NODE.withIndex(this.index_);let r;this.reverse_?r=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):r=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;r.hasNext()&&o<this.limit_;){const a=r.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(U.EMPTY_NODE);let r;this.reverse_?r=i.getReverseIterator(this.index_):r=i.getIterator(this.index_);let o=0;for(;r.hasNext();){const a=r.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:i=i.updateImmediateChild(a.name,U.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,s)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,s,i,r){let o;if(this.reverse_){const h=this.index_.getCompare();o=(f,d)=>h(d,f)}else o=this.index_.getCompare();const a=e;D(a.numChildren()===this.limit_,"");const l=new X(n,s),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(n)){const h=a.getImmediateChild(n);let f=i.getChildAfterChild(this.index_,c,this.reverse_);for(;f!=null&&(f.name===n||a.hasChild(f.name));)f=i.getChildAfterChild(this.index_,f,this.reverse_);const d=f==null?1:o(f,l);if(u&&!s.isEmpty()&&d>=0)return r!=null&&r.trackChildChange(xi(n,s,h)),a.updateImmediateChild(n,s);{r!=null&&r.trackChildChange(Di(n,h));const E=a.updateImmediateChild(n,U.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(r!=null&&r.trackChildChange(xs(f.name,f.node)),E.updateImmediateChild(f.name,f.node)):E}}else return s.isEmpty()?e:u&&o(c,l)>=0?(r!=null&&(r.trackChildChange(Di(c.name,c.node)),r.trackChildChange(xs(n,s))),a.updateImmediateChild(n,s).updateImmediateChild(c.name,U.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=be}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return D(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return D(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ds}hasEnd(){return this.endSet_}getIndexEndValue(){return D(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return D(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Yn}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return D(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===be}copy(){const e=new rc;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function jT(t){return t.loadsAllData()?new ic(t.getIndex()):t.hasLimit()?new UT(t):new Pi(t)}function Dh(t){const e={};if(t.isDefault())return e;let n;if(t.index_===be?n="$priority":t.index_===HT?n="$value":t.index_===Ss?n="$key":(D(t.index_ instanceof VT,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Se(n),t.startSet_){const s=t.startAfterSet_?"startAfter":"startAt";e[s]=Se(t.indexStartValue_),t.startNameSet_&&(e[s]+=","+Se(t.indexStartName_))}if(t.endSet_){const s=t.endBeforeSet_?"endBefore":"endAt";e[s]=Se(t.indexEndValue_),t.endNameSet_&&(e[s]+=","+Se(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function xh(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==be&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr extends r_{constructor(e,n,s,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=s,this.appCheckTokenProvider_=i,this.log_=Hi("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(D(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,s,i){const r=e._path.toString();this.log_("Listen called for "+r+" "+e._queryIdentifier);const o=Mr.getListenId_(e,s),a={};this.listens_[o]=a;const l=Dh(e._queryParams);this.restRequest_(r+".json",l,(c,u)=>{let h=u;if(c===404&&(h=null,c=null),c===null&&this.onDataUpdate_(r,h,!1,s),Rs(this.listens_,o)===a){let f;c?c===401?f="permission_denied":f="rest_error:"+c:f="ok",i(f,null)}})}unlisten(e,n){const s=Mr.getListenId_(e,n);delete this.listens_[s]}get(e){const n=Dh(e._queryParams),s=e._path.toString(),i=new uo;return this.restRequest_(s+".json",n,(r,o)=>{let a=o;r===404&&(a=null,r=null),r===null?(this.onDataUpdate_(s,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},s){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,r])=>{i&&i.accessToken&&(n.auth=i.accessToken),r&&r.token&&(n.ac=r.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Uy(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(s&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Ni(a.responseText)}catch{Ye("Failed to parse JSON response for "+o+": "+a.responseText)}s(null,l)}else a.status!==401&&a.status!==404&&Ye("Got unsuccessful REST response for "+o+" Status: "+a.status),s(a.status);s=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(){this.rootNode_=U.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kr(){return{value:null,children:new Map}}function g_(t,e,n){if(J(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const s=Q(e);t.children.has(s)||t.children.set(s,kr());const i=t.children.get(s);e=_e(e),g_(i,e,n)}}function rl(t,e,n){t.value!==null?n(e,t.value):GT(t,(s,i)=>{const r=new fe(e.toString()+"/"+s);rl(i,r,n)})}function GT(t,e){t.children.forEach((n,s)=>{e(s,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Xe(this.last_,(s,i)=>{n[s]=n[s]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ph=10*1e3,qT=30*1e3,YT=5*60*1e3;class QT{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new zT(e);const s=Ph+(qT-Ph)*Math.random();mi(this.reportStats_.bind(this),Math.floor(s))}reportStats_(){const e=this.statsListener_.get(),n={};let s=!1;Xe(e,(i,r)=>{r>0&&Jt(this.statsToReport_,i)&&(n[i]=r,s=!0)}),s&&this.server_.reportStats(n),mi(this.reportStats_.bind(this),Math.floor(Math.random()*2*YT))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wt;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(wt||(wt={}));function v_(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function oc(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function ac(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(e,n,s){this.path=e,this.affectedTree=n,this.revert=s,this.type=wt.ACK_USER_WRITE,this.source=v_()}operationForChild(e){if(J(this.path)){if(this.affectedTree.value!=null)return D(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new fe(e));return new $r(re(),n,this.revert)}}else return D(Q(this.path)===e,"operationForChild called for unrelated child."),new $r(_e(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(e,n){this.source=e,this.path=n,this.type=wt.LISTEN_COMPLETE}operationForChild(e){return J(this.path)?new Li(this.source,re()):new Li(this.source,_e(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e,n,s){this.source=e,this.path=n,this.snap=s,this.type=wt.OVERWRITE}operationForChild(e){return J(this.path)?new Qn(this.source,re(),this.snap.getImmediateChild(e)):new Qn(this.source,_e(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e,n,s){this.source=e,this.path=n,this.children=s,this.type=wt.MERGE}operationForChild(e){if(J(this.path)){const n=this.children.subtree(new fe(e));return n.isEmpty()?null:n.value?new Qn(this.source,re(),n.value):new Mi(this.source,re(),n)}else return D(Q(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Mi(this.source,_e(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e,n,s){this.node_=e,this.fullyInitialized_=n,this.filtered_=s}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(J(e))return this.isFullyInitialized()&&!this.filtered_;const n=Q(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function JT(t,e,n,s){const i=[],r=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&r.push(WT(o.childName,o.snapshotNode))}),ii(t,i,"child_removed",e,s,n),ii(t,i,"child_added",e,s,n),ii(t,i,"child_moved",r,s,n),ii(t,i,"child_changed",e,s,n),ii(t,i,"value",e,s,n),i}function ii(t,e,n,s,i,r){const o=s.filter(a=>a.type===n);o.sort((a,l)=>eS(t,a,l)),o.forEach(a=>{const l=ZT(t,a,r);i.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function ZT(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function eS(t,e,n){if(e.childName==null||n.childName==null)throw Ks("Should only compare child_ events.");const s=new X(e.childName,e.snapshotNode),i=new X(n.childName,n.snapshotNode);return t.index_.compare(s,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function go(t,e){return{eventCache:t,serverCache:e}}function gi(t,e,n,s){return go(new vn(e,n,s),t.serverCache)}function E_(t,e,n,s){return go(t.eventCache,new vn(e,n,s))}function Fr(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Xn(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let la;const tS=()=>(la||(la=new ze(BC)),la);class me{constructor(e,n=tS()){this.value=e,this.children=n}static fromObject(e){let n=new me(null);return Xe(e,(s,i)=>{n=n.set(new fe(s),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:re(),value:this.value};if(J(e))return null;{const s=Q(e),i=this.children.get(s);if(i!==null){const r=i.findRootMostMatchingPathAndValue(_e(e),n);return r!=null?{path:Ae(new fe(s),r.path),value:r.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(J(e))return this;{const n=Q(e),s=this.children.get(n);return s!==null?s.subtree(_e(e)):new me(null)}}set(e,n){if(J(e))return new me(n,this.children);{const s=Q(e),r=(this.children.get(s)||new me(null)).set(_e(e),n),o=this.children.insert(s,r);return new me(this.value,o)}}remove(e){if(J(e))return this.children.isEmpty()?new me(null):new me(null,this.children);{const n=Q(e),s=this.children.get(n);if(s){const i=s.remove(_e(e));let r;return i.isEmpty()?r=this.children.remove(n):r=this.children.insert(n,i),this.value===null&&r.isEmpty()?new me(null):new me(this.value,r)}else return this}}get(e){if(J(e))return this.value;{const n=Q(e),s=this.children.get(n);return s?s.get(_e(e)):null}}setTree(e,n){if(J(e))return n;{const s=Q(e),r=(this.children.get(s)||new me(null)).setTree(_e(e),n);let o;return r.isEmpty()?o=this.children.remove(s):o=this.children.insert(s,r),new me(this.value,o)}}fold(e){return this.fold_(re(),e)}fold_(e,n){const s={};return this.children.inorderTraversal((i,r)=>{s[i]=r.fold_(Ae(e,i),n)}),n(e,this.value,s)}findOnPath(e,n){return this.findOnPath_(e,re(),n)}findOnPath_(e,n,s){const i=this.value?s(n,this.value):!1;if(i)return i;if(J(e))return null;{const r=Q(e),o=this.children.get(r);return o?o.findOnPath_(_e(e),Ae(n,r),s):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,re(),n)}foreachOnPath_(e,n,s){if(J(e))return this;{this.value&&s(n,this.value);const i=Q(e),r=this.children.get(i);return r?r.foreachOnPath_(_e(e),Ae(n,i),s):new me(null)}}foreach(e){this.foreach_(re(),e)}foreach_(e,n){this.children.inorderTraversal((s,i)=>{i.foreach_(Ae(e,s),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,s)=>{s.value&&e(n,s.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e){this.writeTree_=e}static empty(){return new Tt(new me(null))}}function vi(t,e,n){if(J(e))return new Tt(new me(n));{const s=t.writeTree_.findRootMostValueAndPath(e);if(s!=null){const i=s.path;let r=s.value;const o=Be(i,e);return r=r.updateChild(o,n),new Tt(t.writeTree_.set(i,r))}else{const i=new me(n),r=t.writeTree_.setTree(e,i);return new Tt(r)}}}function Lh(t,e,n){let s=t;return Xe(n,(i,r)=>{s=vi(s,Ae(e,i),r)}),s}function Mh(t,e){if(J(e))return Tt.empty();{const n=t.writeTree_.setTree(e,new me(null));return new Tt(n)}}function ol(t,e){return ss(t,e)!=null}function ss(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Be(n.path,e)):null}function kh(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(be,(s,i)=>{e.push(new X(s,i))}):t.writeTree_.children.inorderTraversal((s,i)=>{i.value!=null&&e.push(new X(s,i.value))}),e}function dn(t,e){if(J(e))return t;{const n=ss(t,e);return n!=null?new Tt(new me(n)):new Tt(t.writeTree_.subtree(e))}}function al(t){return t.writeTree_.isEmpty()}function Ps(t,e){return y_(re(),t.writeTree_,e)}function y_(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let s=null;return e.children.inorderTraversal((i,r)=>{i===".priority"?(D(r.value!==null,"Priority writes must always be leaf nodes"),s=r.value):n=y_(Ae(t,i),r,n)}),!n.getChild(t).isEmpty()&&s!==null&&(n=n.updateChild(Ae(t,".priority"),s)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vo(t,e){return T_(e,t)}function nS(t,e,n,s,i){D(s>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:s,visible:i}),i&&(t.visibleWrites=vi(t.visibleWrites,e,n)),t.lastWriteId=s}function sS(t,e){for(let n=0;n<t.allWrites.length;n++){const s=t.allWrites[n];if(s.writeId===e)return s}return null}function iS(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);D(n>=0,"removeWrite called with nonexistent writeId.");const s=t.allWrites[n];t.allWrites.splice(n,1);let i=s.visible,r=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&rS(a,s.path)?i=!1:bt(s.path,a.path)&&(r=!0)),o--}if(i){if(r)return oS(t),!0;if(s.snap)t.visibleWrites=Mh(t.visibleWrites,s.path);else{const a=s.children;Xe(a,l=>{t.visibleWrites=Mh(t.visibleWrites,Ae(s.path,l))})}return!0}else return!1}function rS(t,e){if(t.snap)return bt(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&bt(Ae(t.path,n),e))return!0;return!1}function oS(t){t.visibleWrites=b_(t.allWrites,aS,re()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function aS(t){return t.visible}function b_(t,e,n){let s=Tt.empty();for(let i=0;i<t.length;++i){const r=t[i];if(e(r)){const o=r.path;let a;if(r.snap)bt(n,o)?(a=Be(n,o),s=vi(s,a,r.snap)):bt(o,n)&&(a=Be(o,n),s=vi(s,re(),r.snap.getChild(a)));else if(r.children){if(bt(n,o))a=Be(n,o),s=Lh(s,a,r.children);else if(bt(o,n))if(a=Be(o,n),J(a))s=Lh(s,re(),r.children);else{const l=Rs(r.children,Q(a));if(l){const c=l.getChild(_e(a));s=vi(s,re(),c)}}}else throw Ks("WriteRecord should have .snap or .children")}}return s}function w_(t,e,n,s,i){if(!s&&!i){const r=ss(t.visibleWrites,e);if(r!=null)return r;{const o=dn(t.visibleWrites,e);if(al(o))return n;if(n==null&&!ol(o,re()))return null;{const a=n||U.EMPTY_NODE;return Ps(o,a)}}}else{const r=dn(t.visibleWrites,e);if(!i&&al(r))return n;if(!i&&n==null&&!ol(r,re()))return null;{const o=function(c){return(c.visible||i)&&(!s||!~s.indexOf(c.writeId))&&(bt(c.path,e)||bt(e,c.path))},a=b_(t.allWrites,o,e),l=n||U.EMPTY_NODE;return Ps(a,l)}}}function lS(t,e,n){let s=U.EMPTY_NODE;const i=ss(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(be,(r,o)=>{s=s.updateImmediateChild(r,o)}),s;if(n){const r=dn(t.visibleWrites,e);return n.forEachChild(be,(o,a)=>{const l=Ps(dn(r,new fe(o)),a);s=s.updateImmediateChild(o,l)}),kh(r).forEach(o=>{s=s.updateImmediateChild(o.name,o.node)}),s}else{const r=dn(t.visibleWrites,e);return kh(r).forEach(o=>{s=s.updateImmediateChild(o.name,o.node)}),s}}function cS(t,e,n,s,i){D(s||i,"Either existingEventSnap or existingServerSnap must exist");const r=Ae(e,n);if(ol(t.visibleWrites,r))return null;{const o=dn(t.visibleWrites,r);return al(o)?i.getChild(n):Ps(o,i.getChild(n))}}function uS(t,e,n,s){const i=Ae(e,n),r=ss(t.visibleWrites,i);if(r!=null)return r;if(s.isCompleteForChild(n)){const o=dn(t.visibleWrites,i);return Ps(o,s.getNode().getImmediateChild(n))}else return null}function hS(t,e){return ss(t.visibleWrites,e)}function fS(t,e,n,s,i,r,o){let a;const l=dn(t.visibleWrites,e),c=ss(l,re());if(c!=null)a=c;else if(n!=null)a=Ps(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const u=[],h=o.getCompare(),f=r?a.getReverseIteratorFrom(s,o):a.getIteratorFrom(s,o);let d=f.getNext();for(;d&&u.length<i;)h(d,s)!==0&&u.push(d),d=f.getNext();return u}else return[]}function dS(){return{visibleWrites:Tt.empty(),allWrites:[],lastWriteId:-1}}function Vr(t,e,n,s){return w_(t.writeTree,t.treePath,e,n,s)}function lc(t,e){return lS(t.writeTree,t.treePath,e)}function $h(t,e,n,s){return cS(t.writeTree,t.treePath,e,n,s)}function Br(t,e){return hS(t.writeTree,Ae(t.treePath,e))}function pS(t,e,n,s,i,r){return fS(t.writeTree,t.treePath,e,n,s,i,r)}function cc(t,e,n){return uS(t.writeTree,t.treePath,e,n)}function C_(t,e){return T_(Ae(t.treePath,e),t.writeTree)}function T_(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,s=e.childName;D(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),D(s!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(s);if(i){const r=i.type;if(n==="child_added"&&r==="child_removed")this.changeMap.set(s,xi(s,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&r==="child_added")this.changeMap.delete(s);else if(n==="child_removed"&&r==="child_changed")this.changeMap.set(s,Di(s,i.oldSnap));else if(n==="child_changed"&&r==="child_added")this.changeMap.set(s,xs(s,e.snapshotNode));else if(n==="child_changed"&&r==="child_changed")this.changeMap.set(s,xi(s,e.snapshotNode,i.oldSnap));else throw Ks("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(s,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{getCompleteChild(e){return null}getChildAfterChild(e,n,s){return null}}const S_=new mS;class uc{constructor(e,n,s=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=s}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const s=this.optCompleteServerCache_!=null?new vn(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return cc(this.writes_,e,s)}}getChildAfterChild(e,n,s){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Xn(this.viewCache_),r=pS(this.writes_,i,n,1,s,e);return r.length===0?null:r[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gS(t){return{filter:t}}function vS(t,e){D(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),D(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function ES(t,e,n,s,i){const r=new _S;let o,a;if(n.type===wt.OVERWRITE){const c=n;c.source.fromUser?o=ll(t,e,c.path,c.snap,s,i,r):(D(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!J(c.path),o=Hr(t,e,c.path,c.snap,s,i,a,r))}else if(n.type===wt.MERGE){const c=n;c.source.fromUser?o=bS(t,e,c.path,c.children,s,i,r):(D(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=cl(t,e,c.path,c.children,s,i,a,r))}else if(n.type===wt.ACK_USER_WRITE){const c=n;c.revert?o=TS(t,e,c.path,s,i,r):o=wS(t,e,c.path,c.affectedTree,s,i,r)}else if(n.type===wt.LISTEN_COMPLETE)o=CS(t,e,n.path,s,r);else throw Ks("Unknown operation type: "+n.type);const l=r.getChanges();return yS(e,o,l),{viewCache:o,changes:l}}function yS(t,e,n){const s=e.eventCache;if(s.isFullyInitialized()){const i=s.getNode().isLeafNode()||s.getNode().isEmpty(),r=Fr(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!s.getNode().equals(r)||!s.getNode().getPriority().equals(r.getPriority()))&&n.push(m_(Fr(e)))}}function A_(t,e,n,s,i,r){const o=e.eventCache;if(Br(s,n)!=null)return e;{let a,l;if(J(n))if(D(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=Xn(e),u=c instanceof U?c:U.EMPTY_NODE,h=lc(s,u);a=t.filter.updateFullNode(e.eventCache.getNode(),h,r)}else{const c=Vr(s,Xn(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,r)}else{const c=Q(n);if(c===".priority"){D(gn(n)===1,"Can't have a priority with additional path components");const u=o.getNode();l=e.serverCache.getNode();const h=$h(s,n,u,l);h!=null?a=t.filter.updatePriority(u,h):a=o.getNode()}else{const u=_e(n);let h;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const f=$h(s,n,o.getNode(),l);f!=null?h=o.getNode().getImmediateChild(c).updateChild(u,f):h=o.getNode().getImmediateChild(c)}else h=cc(s,c,e.serverCache);h!=null?a=t.filter.updateChild(o.getNode(),c,h,u,i,r):a=o.getNode()}}return gi(e,a,o.isFullyInitialized()||J(n),t.filter.filtersNodes())}}function Hr(t,e,n,s,i,r,o,a){const l=e.serverCache;let c;const u=o?t.filter:t.filter.getIndexedFilter();if(J(n))c=u.updateFullNode(l.getNode(),s,null);else if(u.filtersNodes()&&!l.isFiltered()){const d=l.getNode().updateChild(n,s);c=u.updateFullNode(l.getNode(),d,null)}else{const d=Q(n);if(!l.isCompleteForPath(n)&&gn(n)>1)return e;const g=_e(n),I=l.getNode().getImmediateChild(d).updateChild(g,s);d===".priority"?c=u.updatePriority(l.getNode(),I):c=u.updateChild(l.getNode(),d,I,g,S_,null)}const h=E_(e,c,l.isFullyInitialized()||J(n),u.filtersNodes()),f=new uc(i,h,r);return A_(t,h,n,i,f,a)}function ll(t,e,n,s,i,r,o){const a=e.eventCache;let l,c;const u=new uc(i,e,r);if(J(n))c=t.filter.updateFullNode(e.eventCache.getNode(),s,o),l=gi(e,c,!0,t.filter.filtersNodes());else{const h=Q(n);if(h===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),s),l=gi(e,c,a.isFullyInitialized(),a.isFiltered());else{const f=_e(n),d=a.getNode().getImmediateChild(h);let g;if(J(f))g=s;else{const E=u.getCompleteChild(h);E!=null?a_(f)===".priority"&&E.getChild(c_(f)).isEmpty()?g=E:g=E.updateChild(f,s):g=U.EMPTY_NODE}if(d.equals(g))l=e;else{const E=t.filter.updateChild(a.getNode(),h,g,f,u,o);l=gi(e,E,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function Fh(t,e){return t.eventCache.isCompleteForChild(e)}function bS(t,e,n,s,i,r,o){let a=e;return s.foreach((l,c)=>{const u=Ae(n,l);Fh(e,Q(u))&&(a=ll(t,a,u,c,i,r,o))}),s.foreach((l,c)=>{const u=Ae(n,l);Fh(e,Q(u))||(a=ll(t,a,u,c,i,r,o))}),a}function Vh(t,e,n){return n.foreach((s,i)=>{e=e.updateChild(s,i)}),e}function cl(t,e,n,s,i,r,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;J(n)?c=s:c=new me(null).setTree(n,s);const u=e.serverCache.getNode();return c.children.inorderTraversal((h,f)=>{if(u.hasChild(h)){const d=e.serverCache.getNode().getImmediateChild(h),g=Vh(t,d,f);l=Hr(t,l,new fe(h),g,i,r,o,a)}}),c.children.inorderTraversal((h,f)=>{const d=!e.serverCache.isCompleteForChild(h)&&f.value===null;if(!u.hasChild(h)&&!d){const g=e.serverCache.getNode().getImmediateChild(h),E=Vh(t,g,f);l=Hr(t,l,new fe(h),E,i,r,o,a)}}),l}function wS(t,e,n,s,i,r,o){if(Br(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(s.value!=null){if(J(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Hr(t,e,n,l.getNode().getChild(n),i,r,a,o);if(J(n)){let c=new me(null);return l.getNode().forEachChild(Ss,(u,h)=>{c=c.set(new fe(u),h)}),cl(t,e,n,c,i,r,a,o)}else return e}else{let c=new me(null);return s.foreach((u,h)=>{const f=Ae(n,u);l.isCompleteForPath(f)&&(c=c.set(u,l.getNode().getChild(f)))}),cl(t,e,n,c,i,r,a,o)}}function CS(t,e,n,s,i){const r=e.serverCache,o=E_(e,r.getNode(),r.isFullyInitialized()||J(n),r.isFiltered());return A_(t,o,n,s,S_,i)}function TS(t,e,n,s,i,r){let o;if(Br(s,n)!=null)return e;{const a=new uc(s,e,i),l=e.eventCache.getNode();let c;if(J(n)||Q(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=Vr(s,Xn(e));else{const h=e.serverCache.getNode();D(h instanceof U,"serverChildren would be complete if leaf node"),u=lc(s,h)}u=u,c=t.filter.updateFullNode(l,u,r)}else{const u=Q(n);let h=cc(s,u,e.serverCache);h==null&&e.serverCache.isCompleteForChild(u)&&(h=l.getImmediateChild(u)),h!=null?c=t.filter.updateChild(l,u,h,_e(n),a,r):e.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(l,u,U.EMPTY_NODE,_e(n),a,r):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Vr(s,Xn(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,r)))}return o=e.serverCache.isFullyInitialized()||Br(s,re())!=null,gi(e,c,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const s=this.query_._queryParams,i=new ic(s.getIndex()),r=jT(s);this.processor_=gS(r);const o=n.serverCache,a=n.eventCache,l=i.updateFullNode(U.EMPTY_NODE,o.getNode(),null),c=r.updateFullNode(U.EMPTY_NODE,a.getNode(),null),u=new vn(l,o.isFullyInitialized(),i.filtersNodes()),h=new vn(c,a.isFullyInitialized(),r.filtersNodes());this.viewCache_=go(h,u),this.eventGenerator_=new XT(this.query_)}get query(){return this.query_}}function AS(t){return t.viewCache_.serverCache.getNode()}function IS(t){return Fr(t.viewCache_)}function NS(t,e){const n=Xn(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!J(e)&&!n.getImmediateChild(Q(e)).isEmpty())?n.getChild(e):null}function Bh(t){return t.eventRegistrations_.length===0}function OS(t,e){t.eventRegistrations_.push(e)}function Hh(t,e,n){const s=[];if(n){D(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(r=>{const o=r.createCancelEvent(n,i);o&&s.push(o)})}if(e){let i=[];for(let r=0;r<t.eventRegistrations_.length;++r){const o=t.eventRegistrations_[r];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(r+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return s}function Wh(t,e,n,s){e.type===wt.MERGE&&e.source.queryId!==null&&(D(Xn(t.viewCache_),"We should always have a full cache before handling merges"),D(Fr(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,r=ES(t.processor_,i,e,n,s);return vS(t.processor_,r.viewCache),D(r.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=r.viewCache,I_(t,r.changes,r.viewCache.eventCache.getNode(),null)}function RS(t,e){const n=t.viewCache_.eventCache,s=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(be,(r,o)=>{s.push(xs(r,o))}),n.isFullyInitialized()&&s.push(m_(n.getNode())),I_(t,s,n.getNode(),e)}function I_(t,e,n,s){const i=s?[s]:t.eventRegistrations_;return JT(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wr;class N_{constructor(){this.views=new Map}}function DS(t){D(!Wr,"__referenceConstructor has already been defined"),Wr=t}function xS(){return D(Wr,"Reference.ts has not been loaded"),Wr}function PS(t){return t.views.size===0}function hc(t,e,n,s){const i=e.source.queryId;if(i!==null){const r=t.views.get(i);return D(r!=null,"SyncTree gave us an op for an invalid query."),Wh(r,e,n,s)}else{let r=[];for(const o of t.views.values())r=r.concat(Wh(o,e,n,s));return r}}function O_(t,e,n,s,i){const r=e._queryIdentifier,o=t.views.get(r);if(!o){let a=Vr(n,i?s:null),l=!1;a?l=!0:s instanceof U?(a=lc(n,s),l=!1):(a=U.EMPTY_NODE,l=!1);const c=go(new vn(a,l,!1),new vn(s,i,!1));return new SS(e,c)}return o}function LS(t,e,n,s,i,r){const o=O_(t,e,s,i,r);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),OS(o,n),RS(o,n)}function MS(t,e,n,s){const i=e._queryIdentifier,r=[];let o=[];const a=En(t);if(i==="default")for(const[l,c]of t.views.entries())o=o.concat(Hh(c,n,s)),Bh(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||r.push(c.query));else{const l=t.views.get(i);l&&(o=o.concat(Hh(l,n,s)),Bh(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||r.push(l.query)))}return a&&!En(t)&&r.push(new(xS())(e._repo,e._path)),{removed:r,events:o}}function R_(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function pn(t,e){let n=null;for(const s of t.views.values())n=n||NS(s,e);return n}function D_(t,e){if(e._queryParams.loadsAllData())return Eo(t);{const s=e._queryIdentifier;return t.views.get(s)}}function x_(t,e){return D_(t,e)!=null}function En(t){return Eo(t)!=null}function Eo(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ur;function kS(t){D(!Ur,"__referenceConstructor has already been defined"),Ur=t}function $S(){return D(Ur,"Reference.ts has not been loaded"),Ur}let FS=1;class Uh{constructor(e){this.listenProvider_=e,this.syncPointTree_=new me(null),this.pendingWriteTree_=dS(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function P_(t,e,n,s,i){return nS(t.pendingWriteTree_,e,n,s,i),i?ji(t,new Qn(v_(),e,n)):[]}function Mn(t,e,n=!1){const s=sS(t.pendingWriteTree_,e);if(iS(t.pendingWriteTree_,e)){let r=new me(null);return s.snap!=null?r=r.set(re(),!0):Xe(s.children,o=>{r=r.set(new fe(o),!0)}),ji(t,new $r(s.path,r,n))}else return[]}function Ui(t,e,n){return ji(t,new Qn(oc(),e,n))}function VS(t,e,n){const s=me.fromObject(n);return ji(t,new Mi(oc(),e,s))}function BS(t,e){return ji(t,new Li(oc(),e))}function HS(t,e,n){const s=dc(t,n);if(s){const i=pc(s),r=i.path,o=i.queryId,a=Be(r,e),l=new Li(ac(o),a);return _c(t,r,l)}else return[]}function jr(t,e,n,s,i=!1){const r=e._path,o=t.syncPointTree_.get(r);let a=[];if(o&&(e._queryIdentifier==="default"||x_(o,e))){const l=MS(o,e,n,s);PS(o)&&(t.syncPointTree_=t.syncPointTree_.remove(r));const c=l.removed;if(a=l.events,!i){const u=c.findIndex(f=>f._queryParams.loadsAllData())!==-1,h=t.syncPointTree_.findOnPath(r,(f,d)=>En(d));if(u&&!h){const f=t.syncPointTree_.subtree(r);if(!f.isEmpty()){const d=jS(f);for(let g=0;g<d.length;++g){const E=d[g],I=E.query,O=$_(t,E);t.listenProvider_.startListening(Ei(I),ki(t,I),O.hashFn,O.onComplete)}}}!h&&c.length>0&&!s&&(u?t.listenProvider_.stopListening(Ei(e),null):c.forEach(f=>{const d=t.queryToTagMap.get(yo(f));t.listenProvider_.stopListening(Ei(f),d)}))}KS(t,c)}return a}function L_(t,e,n,s){const i=dc(t,s);if(i!=null){const r=pc(i),o=r.path,a=r.queryId,l=Be(o,e),c=new Qn(ac(a),l,n);return _c(t,o,c)}else return[]}function WS(t,e,n,s){const i=dc(t,s);if(i){const r=pc(i),o=r.path,a=r.queryId,l=Be(o,e),c=me.fromObject(n),u=new Mi(ac(a),l,c);return _c(t,o,u)}else return[]}function ul(t,e,n,s=!1){const i=e._path;let r=null,o=!1;t.syncPointTree_.foreachOnPath(i,(f,d)=>{const g=Be(f,i);r=r||pn(d,g),o=o||En(d)});let a=t.syncPointTree_.get(i);a?(o=o||En(a),r=r||pn(a,re())):(a=new N_,t.syncPointTree_=t.syncPointTree_.set(i,a));let l;r!=null?l=!0:(l=!1,r=U.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((d,g)=>{const E=pn(g,re());E&&(r=r.updateImmediateChild(d,E))}));const c=x_(a,e);if(!c&&!e._queryParams.loadsAllData()){const f=yo(e);D(!t.queryToTagMap.has(f),"View does not exist, but we have a tag");const d=GS();t.queryToTagMap.set(f,d),t.tagToQueryMap.set(d,f)}const u=vo(t.pendingWriteTree_,i);let h=LS(a,e,n,u,r,l);if(!c&&!o&&!s){const f=D_(a,e);h=h.concat(zS(t,e,f))}return h}function fc(t,e,n){const i=t.pendingWriteTree_,r=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=Be(o,e),c=pn(a,l);if(c)return c});return w_(i,e,r,n,!0)}function US(t,e){const n=e._path;let s=null;t.syncPointTree_.foreachOnPath(n,(c,u)=>{const h=Be(c,n);s=s||pn(u,h)});let i=t.syncPointTree_.get(n);i?s=s||pn(i,re()):(i=new N_,t.syncPointTree_=t.syncPointTree_.set(n,i));const r=s!=null,o=r?new vn(s,!0,!1):null,a=vo(t.pendingWriteTree_,e._path),l=O_(i,e,a,r?o.getNode():U.EMPTY_NODE,r);return IS(l)}function ji(t,e){return M_(e,t.syncPointTree_,null,vo(t.pendingWriteTree_,re()))}function M_(t,e,n,s){if(J(t.path))return k_(t,e,n,s);{const i=e.get(re());n==null&&i!=null&&(n=pn(i,re()));let r=[];const o=Q(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const c=n?n.getImmediateChild(o):null,u=C_(s,o);r=r.concat(M_(a,l,c,u))}return i&&(r=r.concat(hc(i,t,s,n))),r}}function k_(t,e,n,s){const i=e.get(re());n==null&&i!=null&&(n=pn(i,re()));let r=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,c=C_(s,o),u=t.operationForChild(o);u&&(r=r.concat(k_(u,a,l,c)))}),i&&(r=r.concat(hc(i,t,s,n))),r}function $_(t,e){const n=e.query,s=ki(t,n);return{hashFn:()=>(AS(e)||U.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return s?HS(t,n._path,s):BS(t,n._path);{const r=UC(i,n);return jr(t,n,null,r)}}}}function ki(t,e){const n=yo(e);return t.queryToTagMap.get(n)}function yo(t){return t._path.toString()+"$"+t._queryIdentifier}function dc(t,e){return t.tagToQueryMap.get(e)}function pc(t){const e=t.indexOf("$");return D(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new fe(t.substr(0,e))}}function _c(t,e,n){const s=t.syncPointTree_.get(e);D(s,"Missing sync point for query tag that we're tracking");const i=vo(t.pendingWriteTree_,e);return hc(s,n,i,null)}function jS(t){return t.fold((e,n,s)=>{if(n&&En(n))return[Eo(n)];{let i=[];return n&&(i=R_(n)),Xe(s,(r,o)=>{i=i.concat(o)}),i}})}function Ei(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new($S())(t._repo,t._path):t}function KS(t,e){for(let n=0;n<e.length;++n){const s=e[n];if(!s._queryParams.loadsAllData()){const i=yo(s),r=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(r)}}}function GS(){return FS++}function zS(t,e,n){const s=e._path,i=ki(t,e),r=$_(t,n),o=t.listenProvider_.startListening(Ei(e),i,r.hashFn,r.onComplete),a=t.syncPointTree_.subtree(s);if(i)D(!En(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((c,u,h)=>{if(!J(c)&&u&&En(u))return[Eo(u).query];{let f=[];return u&&(f=f.concat(R_(u).map(d=>d.query))),Xe(h,(d,g)=>{f=f.concat(g)}),f}});for(let c=0;c<l.length;++c){const u=l[c];t.listenProvider_.stopListening(Ei(u),ki(t,u))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new mc(n)}node(){return this.node_}}class gc{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Ae(this.path_,e);return new gc(this.syncTree_,n)}node(){return fc(this.syncTree_,this.path_)}}const qS=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},jh=function(t,e,n){if(!t||typeof t!="object")return t;if(D(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return YS(t[".sv"],e,n);if(typeof t[".sv"]=="object")return QS(t[".sv"],e);D(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},YS=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:D(!1,"Unexpected server value: "+t)}},QS=function(t,e,n){t.hasOwnProperty("increment")||D(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const s=t.increment;typeof s!="number"&&D(!1,"Unexpected increment value: "+s);const i=e.node();if(D(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return s;const o=i.getValue();return typeof o!="number"?s:o+s},XS=function(t,e,n,s){return vc(e,new gc(n,t),s)},F_=function(t,e,n){return vc(t,new mc(e),n)};function vc(t,e,n){const s=t.getPriority().val(),i=jh(s,e.getImmediateChild(".priority"),n);let r;if(t.isLeafNode()){const o=t,a=jh(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new Ne(a,Re(i)):t}else{const o=t;return r=o,i!==o.getPriority().val()&&(r=r.updatePriority(new Ne(i))),o.forEachChild(be,(a,l)=>{const c=vc(l,e.getImmediateChild(a),n);c!==l&&(r=r.updateImmediateChild(a,c))}),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(e="",n=null,s={children:{},childCount:0}){this.name=e,this.parent=n,this.node=s}}function yc(t,e){let n=e instanceof fe?e:new fe(e),s=t,i=Q(n);for(;i!==null;){const r=Rs(s.node.children,i)||{children:{},childCount:0};s=new Ec(i,s,r),n=_e(n),i=Q(n)}return s}function qs(t){return t.node.value}function V_(t,e){t.node.value=e,hl(t)}function B_(t){return t.node.childCount>0}function JS(t){return qs(t)===void 0&&!B_(t)}function bo(t,e){Xe(t.node.children,(n,s)=>{e(new Ec(n,t,s))})}function H_(t,e,n,s){n&&!s&&e(t),bo(t,i=>{H_(i,e,!0,s)}),n&&s&&e(t)}function ZS(t,e,n){let s=n?t:t.parent;for(;s!==null;){if(e(s))return!0;s=s.parent}return!1}function Ki(t){return new fe(t.parent===null?t.name:Ki(t.parent)+"/"+t.name)}function hl(t){t.parent!==null&&eA(t.parent,t.name,t)}function eA(t,e,n){const s=JS(n),i=Jt(t.node.children,e);s&&i?(delete t.node.children[e],t.node.childCount--,hl(t)):!s&&!i&&(t.node.children[e]=n.node,t.node.childCount++,hl(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tA=/[\[\].#$\/\u0000-\u001F\u007F]/,nA=/[\[\].#$\u0000-\u001F\u007F]/,ca=10*1024*1024,W_=function(t){return typeof t=="string"&&t.length!==0&&!tA.test(t)},U_=function(t){return typeof t=="string"&&t.length!==0&&!nA.test(t)},sA=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),U_(t)},j_=function(t,e,n,s){s&&e===void 0||bc(Hl(t,"value"),e,n)},bc=function(t,e,n){const s=n instanceof fe?new wT(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Rn(s));if(typeof e=="function")throw new Error(t+"contains a function "+Rn(s)+" with contents = "+e.toString());if(Bp(e))throw new Error(t+"contains "+e.toString()+" "+Rn(s));if(typeof e=="string"&&e.length>ca/3&&fo(e)>ca)throw new Error(t+"contains a string greater than "+ca+" utf8 bytes "+Rn(s)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,r=!1;if(Xe(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(r=!0,!W_(o)))throw new Error(t+" contains an invalid key ("+o+") "+Rn(s)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);CT(s,o),bc(t,a,s),TT(s)}),i&&r)throw new Error(t+' contains ".value" child '+Rn(s)+" in addition to actual children.")}},K_=function(t,e,n,s){if(!(s&&n===void 0)&&!U_(n))throw new Error(Hl(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},iA=function(t,e,n,s){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),K_(t,e,n,s)},G_=function(t,e){if(Q(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},rA=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!W_(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!sA(n))throw new Error(Hl(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function wc(t,e){let n=null;for(let s=0;s<e.length;s++){const i=e[s],r=i.getPath();n!==null&&!tc(r,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:r}),n.events.push(i)}n&&t.eventLists_.push(n)}function z_(t,e,n){wc(t,n),q_(t,s=>tc(s,e))}function Mt(t,e,n){wc(t,n),q_(t,s=>bt(s,e)||bt(e,s))}function q_(t,e){t.recursionDepth_++;let n=!0;for(let s=0;s<t.eventLists_.length;s++){const i=t.eventLists_[s];if(i){const r=i.path;e(r)?(aA(t.eventLists_[s]),t.eventLists_[s]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function aA(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const s=n.getEventRunner();Wn&&ke("event: "+n.toString()),zs(s)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lA="repo_interrupt",cA=25;class uA{constructor(e,n,s,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=s,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new oA,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=kr(),this.transactionQueueTree_=new Ec,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function hA(t,e,n){if(t.stats_=Zl(t.repoInfo_),t.forceRestClient_||zC())t.server_=new Mr(t.repoInfo_,(s,i,r,o)=>{Kh(t,s,i,r,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>Gh(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Se(n)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}t.persistentConnection_=new Kt(t.repoInfo_,e,(s,i,r,o)=>{Kh(t,s,i,r,o)},s=>{Gh(t,s)},s=>{fA(t,s)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(s=>{t.server_.refreshAuthToken(s)}),t.appCheckProvider_.addTokenChangeListener(s=>{t.server_.refreshAppCheckToken(s.token)}),t.statsReporter_=JC(t.repoInfo_,()=>new QT(t.stats_,t.server_)),t.infoData_=new KT,t.infoSyncTree_=new Uh({startListening:(s,i,r,o)=>{let a=[];const l=t.infoData_.getNode(s._path);return l.isEmpty()||(a=Ui(t.infoSyncTree_,s._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),Tc(t,"connected",!1),t.serverSyncTree_=new Uh({startListening:(s,i,r,o)=>(t.server_.listen(s,r,i,(a,l)=>{const c=o(a,l);Mt(t.eventQueue_,s._path,c)}),[]),stopListening:(s,i)=>{t.server_.unlisten(s,i)}})}function Y_(t){const n=t.infoData_.getNode(new fe(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Cc(t){return qS({timestamp:Y_(t)})}function Kh(t,e,n,s,i){t.dataUpdateCount++;const r=new fe(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(s){const l=Or(n,c=>Re(c));o=WS(t.serverSyncTree_,r,l,i)}else{const l=Re(n);o=L_(t.serverSyncTree_,r,l,i)}else if(s){const l=Or(n,c=>Re(c));o=VS(t.serverSyncTree_,r,l)}else{const l=Re(n);o=Ui(t.serverSyncTree_,r,l)}let a=r;o.length>0&&(a=Co(t,r)),Mt(t.eventQueue_,a,o)}function Gh(t,e){Tc(t,"connected",e),e===!1&&_A(t)}function fA(t,e){Xe(e,(n,s)=>{Tc(t,n,s)})}function Tc(t,e,n){const s=new fe("/.info/"+e),i=Re(n);t.infoData_.updateSnapshot(s,i);const r=Ui(t.infoSyncTree_,s,i);Mt(t.eventQueue_,s,r)}function Q_(t){return t.nextWriteId_++}function dA(t,e,n){const s=US(t.serverSyncTree_,e);return s!=null?Promise.resolve(s):t.server_.get(e).then(i=>{const r=Re(i).withIndex(e._queryParams.getIndex());ul(t.serverSyncTree_,e,n,!0);let o;if(e._queryParams.loadsAllData())o=Ui(t.serverSyncTree_,e._path,r);else{const a=ki(t.serverSyncTree_,e);o=L_(t.serverSyncTree_,e._path,r,a)}return Mt(t.eventQueue_,e._path,o),jr(t.serverSyncTree_,e,n,null,!0),r},i=>(wo(t,"get for query "+Se(e)+" failed: "+i),Promise.reject(new Error(i))))}function pA(t,e,n,s,i){wo(t,"set",{path:e.toString(),value:n,priority:s});const r=Cc(t),o=Re(n,s),a=fc(t.serverSyncTree_,e),l=F_(o,a,r),c=Q_(t),u=P_(t.serverSyncTree_,e,l,c,!0);wc(t.eventQueue_,u),t.server_.put(e.toString(),o.val(!0),(f,d)=>{const g=f==="ok";g||Ye("set at "+e+" failed: "+f);const E=Mn(t.serverSyncTree_,c,!g);Mt(t.eventQueue_,e,E),vA(t,i,f,d)});const h=tm(t,e);Co(t,h),Mt(t.eventQueue_,h,[])}function _A(t){wo(t,"onDisconnectEvents");const e=Cc(t),n=kr();rl(t.onDisconnect_,re(),(i,r)=>{const o=XS(i,r,t.serverSyncTree_,e);g_(n,i,o)});let s=[];rl(n,re(),(i,r)=>{s=s.concat(Ui(t.serverSyncTree_,i,r));const o=tm(t,i);Co(t,o)}),t.onDisconnect_=kr(),Mt(t.eventQueue_,re(),s)}function mA(t,e,n){let s;Q(e._path)===".info"?s=ul(t.infoSyncTree_,e,n):s=ul(t.serverSyncTree_,e,n),z_(t.eventQueue_,e._path,s)}function zh(t,e,n){let s;Q(e._path)===".info"?s=jr(t.infoSyncTree_,e,n):s=jr(t.serverSyncTree_,e,n),z_(t.eventQueue_,e._path,s)}function gA(t){t.persistentConnection_&&t.persistentConnection_.interrupt(lA)}function wo(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),ke(n,...e)}function vA(t,e,n,s){e&&zs(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let r=i;s&&(r+=": "+s);const o=new Error(r);o.code=i,e(o)}})}function X_(t,e,n){return fc(t.serverSyncTree_,e,n)||U.EMPTY_NODE}function Sc(t,e=t.transactionQueueTree_){if(e||To(t,e),qs(e)){const n=Z_(t,e);D(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&EA(t,Ki(e),n)}else B_(e)&&bo(e,n=>{Sc(t,n)})}function EA(t,e,n){const s=n.map(c=>c.currentWriteId),i=X_(t,e,s);let r=i;const o=i.hash();for(let c=0;c<n.length;c++){const u=n[c];D(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const h=Be(e,u.path);r=r.updateChild(h,u.currentOutputSnapshotRaw)}const a=r.val(!0),l=e;t.server_.put(l.toString(),a,c=>{wo(t,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){const h=[];for(let f=0;f<n.length;f++)n[f].status=2,u=u.concat(Mn(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&h.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();To(t,yc(t.transactionQueueTree_,e)),Sc(t,t.transactionQueueTree_),Mt(t.eventQueue_,e,u);for(let f=0;f<h.length;f++)zs(h[f])}else{if(c==="datastale")for(let h=0;h<n.length;h++)n[h].status===3?n[h].status=4:n[h].status=0;else{Ye("transaction at "+l.toString()+" failed: "+c);for(let h=0;h<n.length;h++)n[h].status=4,n[h].abortReason=c}Co(t,e)}},o)}function Co(t,e){const n=J_(t,e),s=Ki(n),i=Z_(t,n);return yA(t,i,s),s}function yA(t,e,n){if(e.length===0)return;const s=[];let i=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=Be(n,l.path);let u=!1,h;if(D(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,h=l.abortReason,i=i.concat(Mn(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=cA)u=!0,h="maxretry",i=i.concat(Mn(t.serverSyncTree_,l.currentWriteId,!0));else{const f=X_(t,l.path,o);l.currentInputSnapshot=f;const d=e[a].update(f.val());if(d!==void 0){bc("transaction failed: Data returned ",d,l.path);let g=Re(d);typeof d=="object"&&d!=null&&Jt(d,".priority")||(g=g.updatePriority(f.getPriority()));const I=l.currentWriteId,O=Cc(t),b=F_(g,f,O);l.currentOutputSnapshotRaw=g,l.currentOutputSnapshotResolved=b,l.currentWriteId=Q_(t),o.splice(o.indexOf(I),1),i=i.concat(P_(t.serverSyncTree_,l.path,b,l.currentWriteId,l.applyLocally)),i=i.concat(Mn(t.serverSyncTree_,I,!0))}else u=!0,h="nodata",i=i.concat(Mn(t.serverSyncTree_,l.currentWriteId,!0))}Mt(t.eventQueue_,n,i),i=[],u&&(e[a].status=2,function(f){setTimeout(f,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(h==="nodata"?s.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):s.push(()=>e[a].onComplete(new Error(h),!1,null))))}To(t,t.transactionQueueTree_);for(let a=0;a<s.length;a++)zs(s[a]);Sc(t,t.transactionQueueTree_)}function J_(t,e){let n,s=t.transactionQueueTree_;for(n=Q(e);n!==null&&qs(s)===void 0;)s=yc(s,n),e=_e(e),n=Q(e);return s}function Z_(t,e){const n=[];return em(t,e,n),n.sort((s,i)=>s.order-i.order),n}function em(t,e,n){const s=qs(e);if(s)for(let i=0;i<s.length;i++)n.push(s[i]);bo(e,i=>{em(t,i,n)})}function To(t,e){const n=qs(e);if(n){let s=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[s]=n[i],s++);n.length=s,V_(e,n.length>0?n:void 0)}bo(e,s=>{To(t,s)})}function tm(t,e){const n=Ki(J_(t,e)),s=yc(t.transactionQueueTree_,e);return ZS(s,i=>{ua(t,i)}),ua(t,s),H_(s,i=>{ua(t,i)}),n}function ua(t,e){const n=qs(e);if(n){const s=[];let i=[],r=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(D(r===o-1,"All SENT items should be at beginning of queue."),r=o,n[o].status=3,n[o].abortReason="set"):(D(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(Mn(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&s.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));r===-1?V_(e,void 0):n.length=r+1,Mt(t.eventQueue_,Ki(e),i);for(let o=0;o<s.length;o++)zs(s[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bA(t){let e="";const n=t.split("/");for(let s=0;s<n.length;s++)if(n[s].length>0){let i=n[s];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function wA(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const s=n.split("=");s.length===2?e[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):Ye(`Invalid query segment '${n}' in query '${t}'`)}return e}const qh=function(t,e){const n=CA(t),s=n.namespace;n.domain==="firebase.com"&&Yt(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!s||s==="undefined")&&n.domain!=="localhost"&&Yt("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||FC();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Jp(n.host,n.secure,s,i,e,"",s!==n.subdomain),path:new fe(n.pathString)}},CA=function(t){let e="",n="",s="",i="",r="",o=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let h=t.indexOf("?");h===-1&&(h=t.length),e=t.substring(0,Math.min(u,h)),u<h&&(i=bA(t.substring(u,h)));const f=wA(t.substring(Math.min(t.length,h)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const d=e.slice(0,c);if(d.toLowerCase()==="localhost")n="localhost";else if(d.split(".").length<=2)n=d;else{const g=e.indexOf(".");s=e.substring(0,g).toLowerCase(),n=e.substring(g+1),r=s}"ns"in f&&(r=f.ns)}return{host:e,port:l,domain:n,subdomain:s,secure:o,scheme:a,pathString:i,namespace:r}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yh="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",TA=function(){let t=0;const e=[];return function(n){const s=n===t;t=n;let i;const r=new Array(8);for(i=7;i>=0;i--)r[i]=Yh.charAt(n%64),n=Math.floor(n/64);D(n===0,"Cannot push at time == 0");let o=r.join("");if(s){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)o+=Yh.charAt(e[i]);return D(o.length===20,"nextPushId: Length should be 20."),o}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{constructor(e,n,s,i){this.eventType=e,this.eventRegistration=n,this.snapshot=s,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Se(this.snapshot.exportVal())}}class sm{constructor(e,n,s){this.eventRegistration=e,this.error=n,this.path=s}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return D(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(e,n,s,i){this._repo=e,this._path=n,this._queryParams=s,this._orderByCalled=i}get key(){return J(this._path)?null:a_(this._path)}get ref(){return new $t(this._repo,this._path)}get _queryIdentifier(){const e=xh(this._queryParams),n=Xl(e);return n==="{}"?"default":n}get _queryObject(){return xh(this._queryParams)}isEqual(e){if(e=Cn(e),!(e instanceof Ac))return!1;const n=this._repo===e._repo,s=tc(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&s&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+bT(this._path)}}class $t extends Ac{constructor(e,n){super(e,n,new rc,!1)}get parent(){const e=c_(this._path);return e===null?null:new $t(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Ls{constructor(e,n,s){this._node=e,this.ref=n,this._index=s}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new fe(e),s=Ms(this.ref,e);return new Ls(this._node.getChild(n),s,be)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(s,i)=>e(new Ls(i,Ms(this.ref,s),be)))}hasChild(e){const n=new fe(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function SA(t,e){return t=Cn(t),t._checkNotDeleted("ref"),e!==void 0?Ms(t._root,e):t._root}function Ms(t,e){return t=Cn(t),Q(t._path)===null?iA("child","path",e,!1):K_("child","path",e,!1),new $t(t._repo,Ae(t._path,e))}function rm(t,e){t=Cn(t),G_("push",t._path),j_("push",e,t._path,!0);const n=Y_(t._repo),s=TA(n),i=Ms(t,s),r=Ms(t,s);let o;return e!=null?o=Ic(r,e).then(()=>r):o=Promise.resolve(r),i.then=o.then.bind(o),i.catch=o.then.bind(o,void 0),i}function Ic(t,e){t=Cn(t),G_("set",t._path),j_("set",e,t._path,!1);const n=new uo;return pA(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function Kr(t){t=Cn(t);const e=new im(()=>{}),n=new So(e);return dA(t._repo,t,n).then(s=>new Ls(s,new $t(t._repo,t._path),t._queryParams.getIndex()))}class So{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const s=n._queryParams.getIndex();return new nm("value",this,new Ls(e.snapshotNode,new $t(n._repo,n._path),s))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new sm(this,e,n):null}matches(e){return e instanceof So?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class Nc{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new sm(this,e,n):null}createEvent(e,n){D(e.childName!=null,"Child events should have a childName.");const s=Ms(new $t(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new nm(e.type,this,new Ls(e.snapshotNode,s,i),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof Nc?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function AA(t,e,n,s,i){let r;if(typeof s=="object"&&(r=void 0,i=s),typeof s=="function"&&(r=s),i&&i.onlyOnce){const l=n,c=(u,h)=>{zh(t._repo,t,a),l(u,h)};c.userCallback=n.userCallback,c.context=n.context,n=c}const o=new im(n,r||void 0),a=e==="value"?new So(o):new Nc(e,o);return mA(t._repo,t,a),()=>zh(t._repo,t,a)}function om(t,e,n,s){return AA(t,"value",e,n,s)}DS($t);kS($t);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IA="FIREBASE_DATABASE_EMULATOR_HOST",fl={};let NA=!1;function OA(t,e,n,s){t.repoInfo_=new Jp(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),s&&(t.authTokenProvider_=s)}function RA(t,e,n,s,i){let r=s||t.options.databaseURL;r===void 0&&(t.options.projectId||Yt("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ke("Using default host for project ",t.options.projectId),r=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=qh(r,i),a=o.repoInfo,l,c;typeof process<"u"&&ph&&(c=ph[IA]),c?(l=!0,r=`http://${c}?ns=${a.namespace}`,o=qh(r,i),a=o.repoInfo):l=!o.repoInfo.secure;const u=i&&l?new Ts(Ts.OWNER):new YC(t.name,t.options,e);rA("Invalid Firebase Database URL",o),J(o.path)||Yt("Database URL must point to the root of a Firebase Database (not including a child path).");const h=xA(a,t,u,new qC(t.name,n));return new PA(h,t)}function DA(t,e){const n=fl[e];(!n||n[t.key]!==t)&&Yt(`Database ${e}(${t.repoInfo_}) has already been deleted.`),gA(t),delete n[t.key]}function xA(t,e,n,s){let i=fl[e.name];i||(i={},fl[e.name]=i);let r=i[t.toURLString()];return r&&Yt("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),r=new uA(t,NA,n,s),i[t.toURLString()]=r,r}class PA{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(hA(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new $t(this._repo,re())),this._rootInternal}_delete(){return this._rootInternal!==null&&(DA(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Yt("Cannot call "+e+" on a deleted database.")}}function LA(t=zb(),e){const n=jl(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const s=xy("database");s&&MA(n,...s)}return n}function MA(t,e,n,s={}){t=Cn(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Yt("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let r;if(i.repoInfo_.nodeAdmin)s.mockUserToken&&Yt('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),r=new Ts(Ts.OWNER);else if(s.mockUserToken){const o=typeof s.mockUserToken=="string"?s.mockUserToken:Py(s.mockUserToken,t.app.options.projectId);r=new Ts(o)}OA(i,e,n,r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kA(t){PC(Gb),mn(new qt("database",(e,{instanceIdentifier:n})=>{const s=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),r=e.getProvider("app-check-internal");return RA(s,i,r,n)},"PUBLIC").setMultipleInstances(!0)),Dt(_h,mh,t),Dt(_h,mh,"esm2017")}Kt.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Kt.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};kA();const $A={apiKey:"AIzaSyDH5uSRQl60eETjWWGFCv8S9uDYDtTJYaA",authDomain:"vuefirebasechat-39fbf.firebaseapp.com",projectId:"vuefirebasechat-39fbf",storageBucket:"vuefirebasechat-39fbf.appspot.com",messagingSenderId:"592088930343",appId:"1:592088930343:web:c3cf2117f594300c2b5602",measurementId:"G-538EHVERE6",databaseURL:"https://vuefirebasechat-39fbf-default-rtdb.asia-southeast1.firebasedatabase.app"},FA=up($A),VA=LA(FA),an=SA(VA,"chatRoom"),BA=ve("br",null,null,-1),HA=ve("hr",null,null,-1),WA={__name:"App",setup(t){return(e,n)=>(jt(),Bn(ut,null,[Ve(He(ja),{to:"/"},{default:dr(()=>[Kn("com1")]),_:1}),BA,Ve(He(ja),{to:"/com2"},{default:dr(()=>[Kn("com2")]),_:1}),HA,Ve(He(Qd),null,{default:dr(({Component:s})=>[(jt(),mu(lv,null,[(jt(),mu(tv(s)))],1024))]),_:1})],64))}},UA={class:"wrap"},jA={class:"input-group mb-3",style:{width:"300px"}},KA={class:"content"},GA={class:"column"},zA=["src"],qA={class:"contentwrap"},YA={class:"text"},QA={class:"time"},XA={__name:"com1",setup(t){let e=Bt(""),n=Bt(""),s=Bt({});Bt("https://picsum.photos/70?random=3");let i=1;function r(){let h=new Date,f=h.getHours(),d=h.getMinutes(),g=h.getSeconds();return{hour:f,minute:d,second:g}}function o(h){h.key==="Enter"&&a()}function a(){let h=rm(an);if(n.value&&e.value)Ic(h,{name:e.value,content:n.value,idx:l(e.value),time:r()}),Kr(an).then(f=>{s.value=f.val(),n.value=""});else{console.log(n.value,e.value),console.log("要輸入");return}}function l(h){for(let f of Object.values(s.value))if(h===f.name)return f.idx;return i++}io(()=>{window.addEventListener("keydown",o),Kr(an).then(h=>{s.value=h.val()}),om(an,h=>{s.value=h.val()})});function c(h){return h==e.value?"me":"other"}const u=st(()=>Object.values(s.value).reverse());return(h,f)=>(jt(),Bn("div",UA,[Kn(" com1輸入姓名 "),wr(ve("input",{type:"text","onUpdate:modelValue":f[0]||(f[0]=d=>De(e)?e.value=d:e=d)},null,512),[[Ar,He(e)]]),Kn(" "+ct(He(e))+"對話框 ",1),ve("div",jA,[wr(ve("input",{type:"text","onUpdate:modelValue":f[1]||(f[1]=d=>De(n)?n.value=d:n=d),class:"form-control",placeholder:"Recipient's username","aria-label":"Recipient's username","aria-describedby":"button-addon2"},null,512),[[Ar,He(n)]]),ve("button",{onClick:a,class:"btn btn-outline-secondary",type:"button",id:"button-addon2"}," Button ")]),ve("div",KA,[(jt(!0),Bn(ut,null,Td(u.value,(d,g)=>(jt(),Bn("div",GA,[ve("div",{class:Vi(["msg",c(d.name)])},[ve("img",{src:"https://picsum.photos/70?random="+d.idx},null,8,zA),ve("div",qA,[ve("div",YA,ct(d.name)+"說:"+ct(d.content),1),ve("div",QA,"at "+ct(d.time.hour)+"-"+ct(d.time.minute)+"-"+ct(d.time.second),1)])],2)]))),256))])]))}},JA={class:"wrap"},ZA={class:"input-group mb-3",style:{width:"300px"}},eI={class:"content"},tI={class:"column"},nI=["src"],sI={class:"contentwrap"},iI={class:"text"},rI={class:"time"},oI={__name:"com2",setup(t){let e=Bt(""),n=Bt(""),s=Bt({});Bt("https://picsum.photos/70?random=3");let i=1;function r(){let h=new Date,f=h.getHours(),d=h.getMinutes(),g=h.getSeconds();return{hour:f,minute:d,second:g}}function o(h){h.key==="Enter"&&a()}function a(){let h=rm(an);if(n.value&&e.value)Ic(h,{name:e.value,content:n.value,idx:l(e.value),time:r()}),Kr(an).then(f=>{s.value=f.val(),n.value=""});else{console.log(n.value,e.value),console.log("要輸入");return}}function l(h){for(let f of Object.values(s.value))if(h===f.name)return f.idx;return i++}io(()=>{window.addEventListener("keydown",o),Kr(an).then(h=>{s.value=h.val()}),om(an,h=>{s.value=h.val()})});function c(h){return h==e.value?"me":"other"}const u=st(()=>Object.values(s.value).reverse());return(h,f)=>(jt(),Bn("div",JA,[Kn(" com1輸入姓名 "),wr(ve("input",{type:"text","onUpdate:modelValue":f[0]||(f[0]=d=>De(e)?e.value=d:e=d)},null,512),[[Ar,He(e)]]),Kn(" "+ct(He(e))+"對話框 ",1),ve("div",ZA,[wr(ve("input",{type:"text","onUpdate:modelValue":f[1]||(f[1]=d=>De(n)?n.value=d:n=d),class:"form-control",placeholder:"Recipient's username","aria-label":"Recipient's username","aria-describedby":"button-addon2"},null,512),[[Ar,He(n)]]),ve("button",{onClick:a,class:"btn btn-outline-secondary",type:"button",id:"button-addon2"}," Button ")]),ve("div",eI,[(jt(!0),Bn(ut,null,Td(u.value,(d,g)=>(jt(),Bn("div",tI,[ve("div",{class:Vi(["msg",c(d.name)])},[ve("img",{src:"https://picsum.photos/70?random="+d.idx},null,8,nI),ve("div",sI,[ve("div",iI,ct(d.name)+"說:"+ct(d.content),1),ve("div",rI,"at "+ct(d.time.hour)+"-"+ct(d.time.minute)+"-"+ct(d.time.second),1)])],2)]))),256))])]))}},aI=by({history:VE("/"),routes:[{path:"/",component:XA},{path:"/com2",component:oI}]});var We="top",rt="bottom",ot="right",Ue="left",Ao="auto",Ys=[We,rt,ot,Ue],Jn="start",ks="end",am="clippingParents",Oc="viewport",ds="popper",lm="reference",dl=Ys.reduce(function(t,e){return t.concat([e+"-"+Jn,e+"-"+ks])},[]),Rc=[].concat(Ys,[Ao]).reduce(function(t,e){return t.concat([e,e+"-"+Jn,e+"-"+ks])},[]),cm="beforeRead",um="read",hm="afterRead",fm="beforeMain",dm="main",pm="afterMain",_m="beforeWrite",mm="write",gm="afterWrite",vm=[cm,um,hm,fm,dm,pm,_m,mm,gm];function kt(t){return t?(t.nodeName||"").toLowerCase():null}function at(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Zn(t){var e=at(t).Element;return t instanceof e||t instanceof Element}function dt(t){var e=at(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function Dc(t){if(typeof ShadowRoot>"u")return!1;var e=at(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function lI(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var s=e.styles[n]||{},i=e.attributes[n]||{},r=e.elements[n];!dt(r)||!kt(r)||(Object.assign(r.style,s),Object.keys(i).forEach(function(o){var a=i[o];a===!1?r.removeAttribute(o):r.setAttribute(o,a===!0?"":a)}))})}function cI(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(s){var i=e.elements[s],r=e.attributes[s]||{},o=Object.keys(e.styles.hasOwnProperty(s)?e.styles[s]:n[s]),a=o.reduce(function(l,c){return l[c]="",l},{});!dt(i)||!kt(i)||(Object.assign(i.style,a),Object.keys(r).forEach(function(l){i.removeAttribute(l)}))})}}const xc={name:"applyStyles",enabled:!0,phase:"write",fn:lI,effect:cI,requires:["computeStyles"]};function xt(t){return t.split("-")[0]}var Un=Math.max,Gr=Math.min,$s=Math.round;function pl(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function Em(){return!/^((?!chrome|android).)*safari/i.test(pl())}function Fs(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var s=t.getBoundingClientRect(),i=1,r=1;e&&dt(t)&&(i=t.offsetWidth>0&&$s(s.width)/t.offsetWidth||1,r=t.offsetHeight>0&&$s(s.height)/t.offsetHeight||1);var o=Zn(t)?at(t):window,a=o.visualViewport,l=!Em()&&n,c=(s.left+(l&&a?a.offsetLeft:0))/i,u=(s.top+(l&&a?a.offsetTop:0))/r,h=s.width/i,f=s.height/r;return{width:h,height:f,top:u,right:c+h,bottom:u+f,left:c,x:c,y:u}}function Pc(t){var e=Fs(t),n=t.offsetWidth,s=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-s)<=1&&(s=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:s}}function ym(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&Dc(n)){var s=e;do{if(s&&t.isSameNode(s))return!0;s=s.parentNode||s.host}while(s)}return!1}function Qt(t){return at(t).getComputedStyle(t)}function uI(t){return["table","td","th"].indexOf(kt(t))>=0}function Tn(t){return((Zn(t)?t.ownerDocument:t.document)||window.document).documentElement}function Io(t){return kt(t)==="html"?t:t.assignedSlot||t.parentNode||(Dc(t)?t.host:null)||Tn(t)}function Qh(t){return!dt(t)||Qt(t).position==="fixed"?null:t.offsetParent}function hI(t){var e=/firefox/i.test(pl()),n=/Trident/i.test(pl());if(n&&dt(t)){var s=Qt(t);if(s.position==="fixed")return null}var i=Io(t);for(Dc(i)&&(i=i.host);dt(i)&&["html","body"].indexOf(kt(i))<0;){var r=Qt(i);if(r.transform!=="none"||r.perspective!=="none"||r.contain==="paint"||["transform","perspective"].indexOf(r.willChange)!==-1||e&&r.willChange==="filter"||e&&r.filter&&r.filter!=="none")return i;i=i.parentNode}return null}function Gi(t){for(var e=at(t),n=Qh(t);n&&uI(n)&&Qt(n).position==="static";)n=Qh(n);return n&&(kt(n)==="html"||kt(n)==="body"&&Qt(n).position==="static")?e:n||hI(t)||e}function Lc(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function yi(t,e,n){return Un(t,Gr(e,n))}function fI(t,e,n){var s=yi(t,e,n);return s>n?n:s}function bm(){return{top:0,right:0,bottom:0,left:0}}function wm(t){return Object.assign({},bm(),t)}function Cm(t,e){return e.reduce(function(n,s){return n[s]=t,n},{})}var dI=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,wm(typeof e!="number"?e:Cm(e,Ys))};function pI(t){var e,n=t.state,s=t.name,i=t.options,r=n.elements.arrow,o=n.modifiersData.popperOffsets,a=xt(n.placement),l=Lc(a),c=[Ue,ot].indexOf(a)>=0,u=c?"height":"width";if(!(!r||!o)){var h=dI(i.padding,n),f=Pc(r),d=l==="y"?We:Ue,g=l==="y"?rt:ot,E=n.rects.reference[u]+n.rects.reference[l]-o[l]-n.rects.popper[u],I=o[l]-n.rects.reference[l],O=Gi(r),b=O?l==="y"?O.clientHeight||0:O.clientWidth||0:0,N=E/2-I/2,C=h[d],P=b-f[u]-h[g],V=b/2-f[u]/2+N,K=yi(C,V,P),te=l;n.modifiersData[s]=(e={},e[te]=K,e.centerOffset=K-V,e)}}function _I(t){var e=t.state,n=t.options,s=n.element,i=s===void 0?"[data-popper-arrow]":s;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||ym(e.elements.popper,i)&&(e.elements.arrow=i))}const Tm={name:"arrow",enabled:!0,phase:"main",fn:pI,effect:_I,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Vs(t){return t.split("-")[1]}var mI={top:"auto",right:"auto",bottom:"auto",left:"auto"};function gI(t,e){var n=t.x,s=t.y,i=e.devicePixelRatio||1;return{x:$s(n*i)/i||0,y:$s(s*i)/i||0}}function Xh(t){var e,n=t.popper,s=t.popperRect,i=t.placement,r=t.variation,o=t.offsets,a=t.position,l=t.gpuAcceleration,c=t.adaptive,u=t.roundOffsets,h=t.isFixed,f=o.x,d=f===void 0?0:f,g=o.y,E=g===void 0?0:g,I=typeof u=="function"?u({x:d,y:E}):{x:d,y:E};d=I.x,E=I.y;var O=o.hasOwnProperty("x"),b=o.hasOwnProperty("y"),N=Ue,C=We,P=window;if(c){var V=Gi(n),K="clientHeight",te="clientWidth";if(V===at(n)&&(V=Tn(n),Qt(V).position!=="static"&&a==="absolute"&&(K="scrollHeight",te="scrollWidth")),V=V,i===We||(i===Ue||i===ot)&&r===ks){C=rt;var ue=h&&V===P&&P.visualViewport?P.visualViewport.height:V[K];E-=ue-s.height,E*=l?1:-1}if(i===Ue||(i===We||i===rt)&&r===ks){N=ot;var Z=h&&V===P&&P.visualViewport?P.visualViewport.width:V[te];d-=Z-s.width,d*=l?1:-1}}var le=Object.assign({position:a},c&&mI),Te=u===!0?gI({x:d,y:E},at(n)):{x:d,y:E};if(d=Te.x,E=Te.y,l){var de;return Object.assign({},le,(de={},de[C]=b?"0":"",de[N]=O?"0":"",de.transform=(P.devicePixelRatio||1)<=1?"translate("+d+"px, "+E+"px)":"translate3d("+d+"px, "+E+"px, 0)",de))}return Object.assign({},le,(e={},e[C]=b?E+"px":"",e[N]=O?d+"px":"",e.transform="",e))}function vI(t){var e=t.state,n=t.options,s=n.gpuAcceleration,i=s===void 0?!0:s,r=n.adaptive,o=r===void 0?!0:r,a=n.roundOffsets,l=a===void 0?!0:a,c={placement:xt(e.placement),variation:Vs(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,Xh(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,Xh(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const Mc={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:vI,data:{}};var rr={passive:!0};function EI(t){var e=t.state,n=t.instance,s=t.options,i=s.scroll,r=i===void 0?!0:i,o=s.resize,a=o===void 0?!0:o,l=at(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return r&&c.forEach(function(u){u.addEventListener("scroll",n.update,rr)}),a&&l.addEventListener("resize",n.update,rr),function(){r&&c.forEach(function(u){u.removeEventListener("scroll",n.update,rr)}),a&&l.removeEventListener("resize",n.update,rr)}}const kc={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:EI,data:{}};var yI={left:"right",right:"left",bottom:"top",top:"bottom"};function mr(t){return t.replace(/left|right|bottom|top/g,function(e){return yI[e]})}var bI={start:"end",end:"start"};function Jh(t){return t.replace(/start|end/g,function(e){return bI[e]})}function $c(t){var e=at(t),n=e.pageXOffset,s=e.pageYOffset;return{scrollLeft:n,scrollTop:s}}function Fc(t){return Fs(Tn(t)).left+$c(t).scrollLeft}function wI(t,e){var n=at(t),s=Tn(t),i=n.visualViewport,r=s.clientWidth,o=s.clientHeight,a=0,l=0;if(i){r=i.width,o=i.height;var c=Em();(c||!c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:r,height:o,x:a+Fc(t),y:l}}function CI(t){var e,n=Tn(t),s=$c(t),i=(e=t.ownerDocument)==null?void 0:e.body,r=Un(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=Un(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-s.scrollLeft+Fc(t),l=-s.scrollTop;return Qt(i||n).direction==="rtl"&&(a+=Un(n.clientWidth,i?i.clientWidth:0)-r),{width:r,height:o,x:a,y:l}}function Vc(t){var e=Qt(t),n=e.overflow,s=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+s)}function Sm(t){return["html","body","#document"].indexOf(kt(t))>=0?t.ownerDocument.body:dt(t)&&Vc(t)?t:Sm(Io(t))}function bi(t,e){var n;e===void 0&&(e=[]);var s=Sm(t),i=s===((n=t.ownerDocument)==null?void 0:n.body),r=at(s),o=i?[r].concat(r.visualViewport||[],Vc(s)?s:[]):s,a=e.concat(o);return i?a:a.concat(bi(Io(o)))}function _l(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function TI(t,e){var n=Fs(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function Zh(t,e,n){return e===Oc?_l(wI(t,n)):Zn(e)?TI(e,n):_l(CI(Tn(t)))}function SI(t){var e=bi(Io(t)),n=["absolute","fixed"].indexOf(Qt(t).position)>=0,s=n&&dt(t)?Gi(t):t;return Zn(s)?e.filter(function(i){return Zn(i)&&ym(i,s)&&kt(i)!=="body"}):[]}function AI(t,e,n,s){var i=e==="clippingParents"?SI(t):[].concat(e),r=[].concat(i,[n]),o=r[0],a=r.reduce(function(l,c){var u=Zh(t,c,s);return l.top=Un(u.top,l.top),l.right=Gr(u.right,l.right),l.bottom=Gr(u.bottom,l.bottom),l.left=Un(u.left,l.left),l},Zh(t,o,s));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function Am(t){var e=t.reference,n=t.element,s=t.placement,i=s?xt(s):null,r=s?Vs(s):null,o=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,l;switch(i){case We:l={x:o,y:e.y-n.height};break;case rt:l={x:o,y:e.y+e.height};break;case ot:l={x:e.x+e.width,y:a};break;case Ue:l={x:e.x-n.width,y:a};break;default:l={x:e.x,y:e.y}}var c=i?Lc(i):null;if(c!=null){var u=c==="y"?"height":"width";switch(r){case Jn:l[c]=l[c]-(e[u]/2-n[u]/2);break;case ks:l[c]=l[c]+(e[u]/2-n[u]/2);break}}return l}function Bs(t,e){e===void 0&&(e={});var n=e,s=n.placement,i=s===void 0?t.placement:s,r=n.strategy,o=r===void 0?t.strategy:r,a=n.boundary,l=a===void 0?am:a,c=n.rootBoundary,u=c===void 0?Oc:c,h=n.elementContext,f=h===void 0?ds:h,d=n.altBoundary,g=d===void 0?!1:d,E=n.padding,I=E===void 0?0:E,O=wm(typeof I!="number"?I:Cm(I,Ys)),b=f===ds?lm:ds,N=t.rects.popper,C=t.elements[g?b:f],P=AI(Zn(C)?C:C.contextElement||Tn(t.elements.popper),l,u,o),V=Fs(t.elements.reference),K=Am({reference:V,element:N,strategy:"absolute",placement:i}),te=_l(Object.assign({},N,K)),ue=f===ds?te:V,Z={top:P.top-ue.top+O.top,bottom:ue.bottom-P.bottom+O.bottom,left:P.left-ue.left+O.left,right:ue.right-P.right+O.right},le=t.modifiersData.offset;if(f===ds&&le){var Te=le[i];Object.keys(Z).forEach(function(de){var Je=[ot,rt].indexOf(de)>=0?1:-1,je=[We,rt].indexOf(de)>=0?"y":"x";Z[de]+=Te[je]*Je})}return Z}function II(t,e){e===void 0&&(e={});var n=e,s=n.placement,i=n.boundary,r=n.rootBoundary,o=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=l===void 0?Rc:l,u=Vs(s),h=u?a?dl:dl.filter(function(g){return Vs(g)===u}):Ys,f=h.filter(function(g){return c.indexOf(g)>=0});f.length===0&&(f=h);var d=f.reduce(function(g,E){return g[E]=Bs(t,{placement:E,boundary:i,rootBoundary:r,padding:o})[xt(E)],g},{});return Object.keys(d).sort(function(g,E){return d[g]-d[E]})}function NI(t){if(xt(t)===Ao)return[];var e=mr(t);return[Jh(t),e,Jh(e)]}function OI(t){var e=t.state,n=t.options,s=t.name;if(!e.modifiersData[s]._skip){for(var i=n.mainAxis,r=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!0:o,l=n.fallbackPlacements,c=n.padding,u=n.boundary,h=n.rootBoundary,f=n.altBoundary,d=n.flipVariations,g=d===void 0?!0:d,E=n.allowedAutoPlacements,I=e.options.placement,O=xt(I),b=O===I,N=l||(b||!g?[mr(I)]:NI(I)),C=[I].concat(N).reduce(function(et,tt){return et.concat(xt(tt)===Ao?II(e,{placement:tt,boundary:u,rootBoundary:h,padding:c,flipVariations:g,allowedAutoPlacements:E}):tt)},[]),P=e.rects.reference,V=e.rects.popper,K=new Map,te=!0,ue=C[0],Z=0;Z<C.length;Z++){var le=C[Z],Te=xt(le),de=Vs(le)===Jn,Je=[We,rt].indexOf(Te)>=0,je=Je?"width":"height",ie=Bs(e,{placement:le,boundary:u,rootBoundary:h,altBoundary:f,padding:c}),q=Je?de?ot:Ue:de?rt:We;P[je]>V[je]&&(q=mr(q));var ee=mr(q),xe=[];if(r&&xe.push(ie[Te]<=0),a&&xe.push(ie[q]<=0,ie[ee]<=0),xe.every(function(et){return et})){ue=le,te=!1;break}K.set(le,xe)}if(te)for(var Ze=g?3:1,Ke=function(tt){var ye=C.find(function(y){var k=K.get(y);if(k)return k.slice(0,tt).every(function(L){return L})});if(ye)return ue=ye,"break"},Ce=Ze;Ce>0;Ce--){var gt=Ke(Ce);if(gt==="break")break}e.placement!==ue&&(e.modifiersData[s]._skip=!0,e.placement=ue,e.reset=!0)}}const Im={name:"flip",enabled:!0,phase:"main",fn:OI,requiresIfExists:["offset"],data:{_skip:!1}};function ef(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function tf(t){return[We,ot,rt,Ue].some(function(e){return t[e]>=0})}function RI(t){var e=t.state,n=t.name,s=e.rects.reference,i=e.rects.popper,r=e.modifiersData.preventOverflow,o=Bs(e,{elementContext:"reference"}),a=Bs(e,{altBoundary:!0}),l=ef(o,s),c=ef(a,i,r),u=tf(l),h=tf(c);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:h},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":h})}const Nm={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:RI};function DI(t,e,n){var s=xt(t),i=[Ue,We].indexOf(s)>=0?-1:1,r=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,o=r[0],a=r[1];return o=o||0,a=(a||0)*i,[Ue,ot].indexOf(s)>=0?{x:a,y:o}:{x:o,y:a}}function xI(t){var e=t.state,n=t.options,s=t.name,i=n.offset,r=i===void 0?[0,0]:i,o=Rc.reduce(function(u,h){return u[h]=DI(h,e.rects,r),u},{}),a=o[e.placement],l=a.x,c=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[s]=o}const Om={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:xI};function PI(t){var e=t.state,n=t.name;e.modifiersData[n]=Am({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const Bc={name:"popperOffsets",enabled:!0,phase:"read",fn:PI,data:{}};function LI(t){return t==="x"?"y":"x"}function MI(t){var e=t.state,n=t.options,s=t.name,i=n.mainAxis,r=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!1:o,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,h=n.padding,f=n.tether,d=f===void 0?!0:f,g=n.tetherOffset,E=g===void 0?0:g,I=Bs(e,{boundary:l,rootBoundary:c,padding:h,altBoundary:u}),O=xt(e.placement),b=Vs(e.placement),N=!b,C=Lc(O),P=LI(C),V=e.modifiersData.popperOffsets,K=e.rects.reference,te=e.rects.popper,ue=typeof E=="function"?E(Object.assign({},e.rects,{placement:e.placement})):E,Z=typeof ue=="number"?{mainAxis:ue,altAxis:ue}:Object.assign({mainAxis:0,altAxis:0},ue),le=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,Te={x:0,y:0};if(V){if(r){var de,Je=C==="y"?We:Ue,je=C==="y"?rt:ot,ie=C==="y"?"height":"width",q=V[C],ee=q+I[Je],xe=q-I[je],Ze=d?-te[ie]/2:0,Ke=b===Jn?K[ie]:te[ie],Ce=b===Jn?-te[ie]:-K[ie],gt=e.elements.arrow,et=d&&gt?Pc(gt):{width:0,height:0},tt=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:bm(),ye=tt[Je],y=tt[je],k=yi(0,K[ie],et[ie]),L=N?K[ie]/2-Ze-k-ye-Z.mainAxis:Ke-k-ye-Z.mainAxis,B=N?-K[ie]/2+Ze+k+y+Z.mainAxis:Ce+k+y+Z.mainAxis,ne=e.elements.arrow&&Gi(e.elements.arrow),p=ne?C==="y"?ne.clientTop||0:ne.clientLeft||0:0,_=(de=le==null?void 0:le[C])!=null?de:0,m=q+L-_-p,v=q+B-_,w=yi(d?Gr(ee,m):ee,q,d?Un(xe,v):xe);V[C]=w,Te[C]=w-q}if(a){var T,M=C==="x"?We:Ue,R=C==="x"?rt:ot,x=V[P],A=P==="y"?"height":"width",$=x+I[M],H=x-I[R],F=[We,Ue].indexOf(O)!==-1,j=(T=le==null?void 0:le[P])!=null?T:0,Y=F?$:x-K[A]-te[A]-j+Z.altAxis,oe=F?x+K[A]+te[A]-j-Z.altAxis:H,he=d&&F?fI(Y,x,oe):yi(d?Y:$,x,d?oe:H);V[P]=he,Te[P]=he-x}e.modifiersData[s]=Te}}const Rm={name:"preventOverflow",enabled:!0,phase:"main",fn:MI,requiresIfExists:["offset"]};function kI(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function $I(t){return t===at(t)||!dt(t)?$c(t):kI(t)}function FI(t){var e=t.getBoundingClientRect(),n=$s(e.width)/t.offsetWidth||1,s=$s(e.height)/t.offsetHeight||1;return n!==1||s!==1}function VI(t,e,n){n===void 0&&(n=!1);var s=dt(e),i=dt(e)&&FI(e),r=Tn(e),o=Fs(t,i,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(s||!s&&!n)&&((kt(e)!=="body"||Vc(r))&&(a=$I(e)),dt(e)?(l=Fs(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):r&&(l.x=Fc(r))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function BI(t){var e=new Map,n=new Set,s=[];t.forEach(function(r){e.set(r.name,r)});function i(r){n.add(r.name);var o=[].concat(r.requires||[],r.requiresIfExists||[]);o.forEach(function(a){if(!n.has(a)){var l=e.get(a);l&&i(l)}}),s.push(r)}return t.forEach(function(r){n.has(r.name)||i(r)}),s}function HI(t){var e=BI(t);return vm.reduce(function(n,s){return n.concat(e.filter(function(i){return i.phase===s}))},[])}function WI(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function UI(t){var e=t.reduce(function(n,s){var i=n[s.name];return n[s.name]=i?Object.assign({},i,s,{options:Object.assign({},i.options,s.options),data:Object.assign({},i.data,s.data)}):s,n},{});return Object.keys(e).map(function(n){return e[n]})}var nf={placement:"bottom",modifiers:[],strategy:"absolute"};function sf(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(s){return!(s&&typeof s.getBoundingClientRect=="function")})}function No(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,s=n===void 0?[]:n,i=e.defaultOptions,r=i===void 0?nf:i;return function(a,l,c){c===void 0&&(c=r);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},nf,r),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},h=[],f=!1,d={state:u,setOptions:function(O){var b=typeof O=="function"?O(u.options):O;E(),u.options=Object.assign({},r,u.options,b),u.scrollParents={reference:Zn(a)?bi(a):a.contextElement?bi(a.contextElement):[],popper:bi(l)};var N=HI(UI([].concat(s,u.options.modifiers)));return u.orderedModifiers=N.filter(function(C){return C.enabled}),g(),d.update()},forceUpdate:function(){if(!f){var O=u.elements,b=O.reference,N=O.popper;if(sf(b,N)){u.rects={reference:VI(b,Gi(N),u.options.strategy==="fixed"),popper:Pc(N)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(Z){return u.modifiersData[Z.name]=Object.assign({},Z.data)});for(var C=0;C<u.orderedModifiers.length;C++){if(u.reset===!0){u.reset=!1,C=-1;continue}var P=u.orderedModifiers[C],V=P.fn,K=P.options,te=K===void 0?{}:K,ue=P.name;typeof V=="function"&&(u=V({state:u,options:te,name:ue,instance:d})||u)}}}},update:WI(function(){return new Promise(function(I){d.forceUpdate(),I(u)})}),destroy:function(){E(),f=!0}};if(!sf(a,l))return d;d.setOptions(c).then(function(I){!f&&c.onFirstUpdate&&c.onFirstUpdate(I)});function g(){u.orderedModifiers.forEach(function(I){var O=I.name,b=I.options,N=b===void 0?{}:b,C=I.effect;if(typeof C=="function"){var P=C({state:u,name:O,instance:d,options:N}),V=function(){};h.push(P||V)}})}function E(){h.forEach(function(I){return I()}),h=[]}return d}}var jI=No(),KI=[kc,Bc,Mc,xc],GI=No({defaultModifiers:KI}),zI=[kc,Bc,Mc,xc,Om,Im,Rm,Tm,Nm],Hc=No({defaultModifiers:zI});const Dm=Object.freeze(Object.defineProperty({__proto__:null,afterMain:pm,afterRead:hm,afterWrite:gm,applyStyles:xc,arrow:Tm,auto:Ao,basePlacements:Ys,beforeMain:fm,beforeRead:cm,beforeWrite:_m,bottom:rt,clippingParents:am,computeStyles:Mc,createPopper:Hc,createPopperBase:jI,createPopperLite:GI,detectOverflow:Bs,end:ks,eventListeners:kc,flip:Im,hide:Nm,left:Ue,main:dm,modifierPhases:vm,offset:Om,placements:Rc,popper:ds,popperGenerator:No,popperOffsets:Bc,preventOverflow:Rm,read:um,reference:lm,right:ot,start:Jn,top:We,variationPlacements:dl,viewport:Oc,write:mm},Symbol.toStringTag,{value:"Module"}));/*!
  * Bootstrap v5.3.2 (https://getbootstrap.com/)
  * Copyright 2011-2023 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const nn=new Map,ha={set(t,e,n){nn.has(t)||nn.set(t,new Map);const s=nn.get(t);if(!s.has(e)&&s.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(s.keys())[0]}.`);return}s.set(e,n)},get(t,e){return nn.has(t)&&nn.get(t).get(e)||null},remove(t,e){if(!nn.has(t))return;const n=nn.get(t);n.delete(e),n.size===0&&nn.delete(t)}},qI=1e6,YI=1e3,ml="transitionend",xm=t=>(t&&window.CSS&&window.CSS.escape&&(t=t.replace(/#([^\s"#']+)/g,(e,n)=>`#${CSS.escape(n)}`)),t),QI=t=>t==null?`${t}`:Object.prototype.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase(),XI=t=>{do t+=Math.floor(Math.random()*qI);while(document.getElementById(t));return t},JI=t=>{if(!t)return 0;let{transitionDuration:e,transitionDelay:n}=window.getComputedStyle(t);const s=Number.parseFloat(e),i=Number.parseFloat(n);return!s&&!i?0:(e=e.split(",")[0],n=n.split(",")[0],(Number.parseFloat(e)+Number.parseFloat(n))*YI)},Pm=t=>{t.dispatchEvent(new Event(ml))},Gt=t=>!t||typeof t!="object"?!1:(typeof t.jquery<"u"&&(t=t[0]),typeof t.nodeType<"u"),yn=t=>Gt(t)?t.jquery?t[0]:t:typeof t=="string"&&t.length>0?document.querySelector(xm(t)):null,Qs=t=>{if(!Gt(t)||t.getClientRects().length===0)return!1;const e=getComputedStyle(t).getPropertyValue("visibility")==="visible",n=t.closest("details:not([open])");if(!n)return e;if(n!==t){const s=t.closest("summary");if(s&&s.parentNode!==n||s===null)return!1}return e},bn=t=>!t||t.nodeType!==Node.ELEMENT_NODE||t.classList.contains("disabled")?!0:typeof t.disabled<"u"?t.disabled:t.hasAttribute("disabled")&&t.getAttribute("disabled")!=="false",Lm=t=>{if(!document.documentElement.attachShadow)return null;if(typeof t.getRootNode=="function"){const e=t.getRootNode();return e instanceof ShadowRoot?e:null}return t instanceof ShadowRoot?t:t.parentNode?Lm(t.parentNode):null},zr=()=>{},zi=t=>{t.offsetHeight},Mm=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,fa=[],ZI=t=>{document.readyState==="loading"?(fa.length||document.addEventListener("DOMContentLoaded",()=>{for(const e of fa)e()}),fa.push(t)):t()},pt=()=>document.documentElement.dir==="rtl",mt=t=>{ZI(()=>{const e=Mm();if(e){const n=t.NAME,s=e.fn[n];e.fn[n]=t.jQueryInterface,e.fn[n].Constructor=t,e.fn[n].noConflict=()=>(e.fn[n]=s,t.jQueryInterface)}})},Ge=(t,e=[],n=t)=>typeof t=="function"?t(...e):n,km=(t,e,n=!0)=>{if(!n){Ge(t);return}const i=JI(e)+5;let r=!1;const o=({target:a})=>{a===e&&(r=!0,e.removeEventListener(ml,o),Ge(t))};e.addEventListener(ml,o),setTimeout(()=>{r||Pm(e)},i)},Wc=(t,e,n,s)=>{const i=t.length;let r=t.indexOf(e);return r===-1?!n&&s?t[i-1]:t[0]:(r+=n?1:-1,s&&(r=(r+i)%i),t[Math.max(0,Math.min(r,i-1))])},eN=/[^.]*(?=\..*)\.|.*/,tN=/\..*/,nN=/::\d+$/,da={};let rf=1;const $m={mouseenter:"mouseover",mouseleave:"mouseout"},sN=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function Fm(t,e){return e&&`${e}::${rf++}`||t.uidEvent||rf++}function Vm(t){const e=Fm(t);return t.uidEvent=e,da[e]=da[e]||{},da[e]}function iN(t,e){return function n(s){return Uc(s,{delegateTarget:t}),n.oneOff&&S.off(t,s.type,e),e.apply(t,[s])}}function rN(t,e,n){return function s(i){const r=t.querySelectorAll(e);for(let{target:o}=i;o&&o!==this;o=o.parentNode)for(const a of r)if(a===o)return Uc(i,{delegateTarget:o}),s.oneOff&&S.off(t,i.type,e,n),n.apply(o,[i])}}function Bm(t,e,n=null){return Object.values(t).find(s=>s.callable===e&&s.delegationSelector===n)}function Hm(t,e,n){const s=typeof e=="string",i=s?n:e||n;let r=Wm(t);return sN.has(r)||(r=t),[s,i,r]}function of(t,e,n,s,i){if(typeof e!="string"||!t)return;let[r,o,a]=Hm(e,n,s);e in $m&&(o=(g=>function(E){if(!E.relatedTarget||E.relatedTarget!==E.delegateTarget&&!E.delegateTarget.contains(E.relatedTarget))return g.call(this,E)})(o));const l=Vm(t),c=l[a]||(l[a]={}),u=Bm(c,o,r?n:null);if(u){u.oneOff=u.oneOff&&i;return}const h=Fm(o,e.replace(eN,"")),f=r?rN(t,n,o):iN(t,o);f.delegationSelector=r?n:null,f.callable=o,f.oneOff=i,f.uidEvent=h,c[h]=f,t.addEventListener(a,f,r)}function gl(t,e,n,s,i){const r=Bm(e[n],s,i);r&&(t.removeEventListener(n,r,!!i),delete e[n][r.uidEvent])}function oN(t,e,n,s){const i=e[n]||{};for(const[r,o]of Object.entries(i))r.includes(s)&&gl(t,e,n,o.callable,o.delegationSelector)}function Wm(t){return t=t.replace(tN,""),$m[t]||t}const S={on(t,e,n,s){of(t,e,n,s,!1)},one(t,e,n,s){of(t,e,n,s,!0)},off(t,e,n,s){if(typeof e!="string"||!t)return;const[i,r,o]=Hm(e,n,s),a=o!==e,l=Vm(t),c=l[o]||{},u=e.startsWith(".");if(typeof r<"u"){if(!Object.keys(c).length)return;gl(t,l,o,r,i?n:null);return}if(u)for(const h of Object.keys(l))oN(t,l,h,e.slice(1));for(const[h,f]of Object.entries(c)){const d=h.replace(nN,"");(!a||e.includes(d))&&gl(t,l,o,f.callable,f.delegationSelector)}},trigger(t,e,n){if(typeof e!="string"||!t)return null;const s=Mm(),i=Wm(e),r=e!==i;let o=null,a=!0,l=!0,c=!1;r&&s&&(o=s.Event(e,n),s(t).trigger(o),a=!o.isPropagationStopped(),l=!o.isImmediatePropagationStopped(),c=o.isDefaultPrevented());const u=Uc(new Event(e,{bubbles:a,cancelable:!0}),n);return c&&u.preventDefault(),l&&t.dispatchEvent(u),u.defaultPrevented&&o&&o.preventDefault(),u}};function Uc(t,e={}){for(const[n,s]of Object.entries(e))try{t[n]=s}catch{Object.defineProperty(t,n,{configurable:!0,get(){return s}})}return t}function af(t){if(t==="true")return!0;if(t==="false")return!1;if(t===Number(t).toString())return Number(t);if(t===""||t==="null")return null;if(typeof t!="string")return t;try{return JSON.parse(decodeURIComponent(t))}catch{return t}}function pa(t){return t.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}const zt={setDataAttribute(t,e,n){t.setAttribute(`data-bs-${pa(e)}`,n)},removeDataAttribute(t,e){t.removeAttribute(`data-bs-${pa(e)}`)},getDataAttributes(t){if(!t)return{};const e={},n=Object.keys(t.dataset).filter(s=>s.startsWith("bs")&&!s.startsWith("bsConfig"));for(const s of n){let i=s.replace(/^bs/,"");i=i.charAt(0).toLowerCase()+i.slice(1,i.length),e[i]=af(t.dataset[s])}return e},getDataAttribute(t,e){return af(t.getAttribute(`data-bs-${pa(e)}`))}};class qi{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,n){const s=Gt(n)?zt.getDataAttribute(n,"config"):{};return{...this.constructor.Default,...typeof s=="object"?s:{},...Gt(n)?zt.getDataAttributes(n):{},...typeof e=="object"?e:{}}}_typeCheckConfig(e,n=this.constructor.DefaultType){for(const[s,i]of Object.entries(n)){const r=e[s],o=Gt(r)?"element":QI(r);if(!new RegExp(i).test(o))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${s}" provided type "${o}" but expected type "${i}".`)}}}const aN="5.3.2";class At extends qi{constructor(e,n){super(),e=yn(e),e&&(this._element=e,this._config=this._getConfig(n),ha.set(this._element,this.constructor.DATA_KEY,this))}dispose(){ha.remove(this._element,this.constructor.DATA_KEY),S.off(this._element,this.constructor.EVENT_KEY);for(const e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,n,s=!0){km(e,n,s)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return ha.get(yn(e),this.DATA_KEY)}static getOrCreateInstance(e,n={}){return this.getInstance(e)||new this(e,typeof n=="object"?n:null)}static get VERSION(){return aN}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}}const _a=t=>{let e=t.getAttribute("data-bs-target");if(!e||e==="#"){let n=t.getAttribute("href");if(!n||!n.includes("#")&&!n.startsWith("."))return null;n.includes("#")&&!n.startsWith("#")&&(n=`#${n.split("#")[1]}`),e=n&&n!=="#"?xm(n.trim()):null}return e},W={find(t,e=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(e,t))},findOne(t,e=document.documentElement){return Element.prototype.querySelector.call(e,t)},children(t,e){return[].concat(...t.children).filter(n=>n.matches(e))},parents(t,e){const n=[];let s=t.parentNode.closest(e);for(;s;)n.push(s),s=s.parentNode.closest(e);return n},prev(t,e){let n=t.previousElementSibling;for(;n;){if(n.matches(e))return[n];n=n.previousElementSibling}return[]},next(t,e){let n=t.nextElementSibling;for(;n;){if(n.matches(e))return[n];n=n.nextElementSibling}return[]},focusableChildren(t){const e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(n=>`${n}:not([tabindex^="-"])`).join(",");return this.find(e,t).filter(n=>!bn(n)&&Qs(n))},getSelectorFromElement(t){const e=_a(t);return e&&W.findOne(e)?e:null},getElementFromSelector(t){const e=_a(t);return e?W.findOne(e):null},getMultipleElementsFromSelector(t){const e=_a(t);return e?W.find(e):[]}},Oo=(t,e="hide")=>{const n=`click.dismiss${t.EVENT_KEY}`,s=t.NAME;S.on(document,n,`[data-bs-dismiss="${s}"]`,function(i){if(["A","AREA"].includes(this.tagName)&&i.preventDefault(),bn(this))return;const r=W.getElementFromSelector(this)||this.closest(`.${s}`);t.getOrCreateInstance(r)[e]()})},lN="alert",cN="bs.alert",Um=`.${cN}`,uN=`close${Um}`,hN=`closed${Um}`,fN="fade",dN="show";class Ro extends At{static get NAME(){return lN}close(){if(S.trigger(this._element,uN).defaultPrevented)return;this._element.classList.remove(dN);const n=this._element.classList.contains(fN);this._queueCallback(()=>this._destroyElement(),this._element,n)}_destroyElement(){this._element.remove(),S.trigger(this._element,hN),this.dispose()}static jQueryInterface(e){return this.each(function(){const n=Ro.getOrCreateInstance(this);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e](this)}})}}Oo(Ro,"close");mt(Ro);const pN="button",_N="bs.button",mN=`.${_N}`,gN=".data-api",vN="active",lf='[data-bs-toggle="button"]',EN=`click${mN}${gN}`;class Do extends At{static get NAME(){return pN}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(vN))}static jQueryInterface(e){return this.each(function(){const n=Do.getOrCreateInstance(this);e==="toggle"&&n[e]()})}}S.on(document,EN,lf,t=>{t.preventDefault();const e=t.target.closest(lf);Do.getOrCreateInstance(e).toggle()});mt(Do);const yN="swipe",Xs=".bs.swipe",bN=`touchstart${Xs}`,wN=`touchmove${Xs}`,CN=`touchend${Xs}`,TN=`pointerdown${Xs}`,SN=`pointerup${Xs}`,AN="touch",IN="pen",NN="pointer-event",ON=40,RN={endCallback:null,leftCallback:null,rightCallback:null},DN={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class qr extends qi{constructor(e,n){super(),this._element=e,!(!e||!qr.isSupported())&&(this._config=this._getConfig(n),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return RN}static get DefaultType(){return DN}static get NAME(){return yN}dispose(){S.off(this._element,Xs)}_start(e){if(!this._supportPointerEvents){this._deltaX=e.touches[0].clientX;return}this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX)}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),Ge(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){const e=Math.abs(this._deltaX);if(e<=ON)return;const n=e/this._deltaX;this._deltaX=0,n&&Ge(n>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(S.on(this._element,TN,e=>this._start(e)),S.on(this._element,SN,e=>this._end(e)),this._element.classList.add(NN)):(S.on(this._element,bN,e=>this._start(e)),S.on(this._element,wN,e=>this._move(e)),S.on(this._element,CN,e=>this._end(e)))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&(e.pointerType===IN||e.pointerType===AN)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const xN="carousel",PN="bs.carousel",Sn=`.${PN}`,jm=".data-api",LN="ArrowLeft",MN="ArrowRight",kN=500,ri="next",ls="prev",ps="left",gr="right",$N=`slide${Sn}`,ma=`slid${Sn}`,FN=`keydown${Sn}`,VN=`mouseenter${Sn}`,BN=`mouseleave${Sn}`,HN=`dragstart${Sn}`,WN=`load${Sn}${jm}`,UN=`click${Sn}${jm}`,Km="carousel",or="active",jN="slide",KN="carousel-item-end",GN="carousel-item-start",zN="carousel-item-next",qN="carousel-item-prev",Gm=".active",zm=".carousel-item",YN=Gm+zm,QN=".carousel-item img",XN=".carousel-indicators",JN="[data-bs-slide], [data-bs-slide-to]",ZN='[data-bs-ride="carousel"]',eO={[LN]:gr,[MN]:ps},tO={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},nO={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Yi extends At{constructor(e,n){super(e,n),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=W.findOne(XN,this._element),this._addEventListeners(),this._config.ride===Km&&this.cycle()}static get Default(){return tO}static get DefaultType(){return nO}static get NAME(){return xN}next(){this._slide(ri)}nextWhenVisible(){!document.hidden&&Qs(this._element)&&this.next()}prev(){this._slide(ls)}pause(){this._isSliding&&Pm(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){S.one(this._element,ma,()=>this.cycle());return}this.cycle()}}to(e){const n=this._getItems();if(e>n.length-1||e<0)return;if(this._isSliding){S.one(this._element,ma,()=>this.to(e));return}const s=this._getItemIndex(this._getActive());if(s===e)return;const i=e>s?ri:ls;this._slide(i,n[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&S.on(this._element,FN,e=>this._keydown(e)),this._config.pause==="hover"&&(S.on(this._element,VN,()=>this.pause()),S.on(this._element,BN,()=>this._maybeEnableCycle())),this._config.touch&&qr.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const s of W.find(QN,this._element))S.on(s,HN,i=>i.preventDefault());const n={leftCallback:()=>this._slide(this._directionToOrder(ps)),rightCallback:()=>this._slide(this._directionToOrder(gr)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),kN+this._config.interval))}};this._swipeHelper=new qr(this._element,n)}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;const n=eO[e.key];n&&(e.preventDefault(),this._slide(this._directionToOrder(n)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;const n=W.findOne(Gm,this._indicatorsElement);n.classList.remove(or),n.removeAttribute("aria-current");const s=W.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);s&&(s.classList.add(or),s.setAttribute("aria-current","true"))}_updateInterval(){const e=this._activeElement||this._getActive();if(!e)return;const n=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=n||this._config.defaultInterval}_slide(e,n=null){if(this._isSliding)return;const s=this._getActive(),i=e===ri,r=n||Wc(this._getItems(),s,i,this._config.wrap);if(r===s)return;const o=this._getItemIndex(r),a=d=>S.trigger(this._element,d,{relatedTarget:r,direction:this._orderToDirection(e),from:this._getItemIndex(s),to:o});if(a($N).defaultPrevented||!s||!r)return;const c=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(o),this._activeElement=r;const u=i?GN:KN,h=i?zN:qN;r.classList.add(h),zi(r),s.classList.add(u),r.classList.add(u);const f=()=>{r.classList.remove(u,h),r.classList.add(or),s.classList.remove(or,h,u),this._isSliding=!1,a(ma)};this._queueCallback(f,s,this._isAnimated()),c&&this.cycle()}_isAnimated(){return this._element.classList.contains(jN)}_getActive(){return W.findOne(YN,this._element)}_getItems(){return W.find(zm,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return pt()?e===ps?ls:ri:e===ps?ri:ls}_orderToDirection(e){return pt()?e===ls?ps:gr:e===ls?gr:ps}static jQueryInterface(e){return this.each(function(){const n=Yi.getOrCreateInstance(this,e);if(typeof e=="number"){n.to(e);return}if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e]()}})}}S.on(document,UN,JN,function(t){const e=W.getElementFromSelector(this);if(!e||!e.classList.contains(Km))return;t.preventDefault();const n=Yi.getOrCreateInstance(e),s=this.getAttribute("data-bs-slide-to");if(s){n.to(s),n._maybeEnableCycle();return}if(zt.getDataAttribute(this,"slide")==="next"){n.next(),n._maybeEnableCycle();return}n.prev(),n._maybeEnableCycle()});S.on(window,WN,()=>{const t=W.find(ZN);for(const e of t)Yi.getOrCreateInstance(e)});mt(Yi);const sO="collapse",iO="bs.collapse",Qi=`.${iO}`,rO=".data-api",oO=`show${Qi}`,aO=`shown${Qi}`,lO=`hide${Qi}`,cO=`hidden${Qi}`,uO=`click${Qi}${rO}`,ga="show",gs="collapse",ar="collapsing",hO="collapsed",fO=`:scope .${gs} .${gs}`,dO="collapse-horizontal",pO="width",_O="height",mO=".collapse.show, .collapse.collapsing",vl='[data-bs-toggle="collapse"]',gO={parent:null,toggle:!0},vO={parent:"(null|element)",toggle:"boolean"};class $i extends At{constructor(e,n){super(e,n),this._isTransitioning=!1,this._triggerArray=[];const s=W.find(vl);for(const i of s){const r=W.getSelectorFromElement(i),o=W.find(r).filter(a=>a===this._element);r!==null&&o.length&&this._triggerArray.push(i)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return gO}static get DefaultType(){return vO}static get NAME(){return sO}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(mO).filter(a=>a!==this._element).map(a=>$i.getOrCreateInstance(a,{toggle:!1}))),e.length&&e[0]._isTransitioning||S.trigger(this._element,oO).defaultPrevented)return;for(const a of e)a.hide();const s=this._getDimension();this._element.classList.remove(gs),this._element.classList.add(ar),this._element.style[s]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const i=()=>{this._isTransitioning=!1,this._element.classList.remove(ar),this._element.classList.add(gs,ga),this._element.style[s]="",S.trigger(this._element,aO)},o=`scroll${s[0].toUpperCase()+s.slice(1)}`;this._queueCallback(i,this._element,!0),this._element.style[s]=`${this._element[o]}px`}hide(){if(this._isTransitioning||!this._isShown()||S.trigger(this._element,lO).defaultPrevented)return;const n=this._getDimension();this._element.style[n]=`${this._element.getBoundingClientRect()[n]}px`,zi(this._element),this._element.classList.add(ar),this._element.classList.remove(gs,ga);for(const i of this._triggerArray){const r=W.getElementFromSelector(i);r&&!this._isShown(r)&&this._addAriaAndCollapsedClass([i],!1)}this._isTransitioning=!0;const s=()=>{this._isTransitioning=!1,this._element.classList.remove(ar),this._element.classList.add(gs),S.trigger(this._element,cO)};this._element.style[n]="",this._queueCallback(s,this._element,!0)}_isShown(e=this._element){return e.classList.contains(ga)}_configAfterMerge(e){return e.toggle=!!e.toggle,e.parent=yn(e.parent),e}_getDimension(){return this._element.classList.contains(dO)?pO:_O}_initializeChildren(){if(!this._config.parent)return;const e=this._getFirstLevelChildren(vl);for(const n of e){const s=W.getElementFromSelector(n);s&&this._addAriaAndCollapsedClass([n],this._isShown(s))}}_getFirstLevelChildren(e){const n=W.find(fO,this._config.parent);return W.find(e,this._config.parent).filter(s=>!n.includes(s))}_addAriaAndCollapsedClass(e,n){if(e.length)for(const s of e)s.classList.toggle(hO,!n),s.setAttribute("aria-expanded",n)}static jQueryInterface(e){const n={};return typeof e=="string"&&/show|hide/.test(e)&&(n.toggle=!1),this.each(function(){const s=$i.getOrCreateInstance(this,n);if(typeof e=="string"){if(typeof s[e]>"u")throw new TypeError(`No method named "${e}"`);s[e]()}})}}S.on(document,uO,vl,function(t){(t.target.tagName==="A"||t.delegateTarget&&t.delegateTarget.tagName==="A")&&t.preventDefault();for(const e of W.getMultipleElementsFromSelector(this))$i.getOrCreateInstance(e,{toggle:!1}).toggle()});mt($i);const cf="dropdown",EO="bs.dropdown",is=`.${EO}`,jc=".data-api",yO="Escape",uf="Tab",bO="ArrowUp",hf="ArrowDown",wO=2,CO=`hide${is}`,TO=`hidden${is}`,SO=`show${is}`,AO=`shown${is}`,qm=`click${is}${jc}`,Ym=`keydown${is}${jc}`,IO=`keyup${is}${jc}`,_s="show",NO="dropup",OO="dropend",RO="dropstart",DO="dropup-center",xO="dropdown-center",kn='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',PO=`${kn}.${_s}`,vr=".dropdown-menu",LO=".navbar",MO=".navbar-nav",kO=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",$O=pt()?"top-end":"top-start",FO=pt()?"top-start":"top-end",VO=pt()?"bottom-end":"bottom-start",BO=pt()?"bottom-start":"bottom-end",HO=pt()?"left-start":"right-start",WO=pt()?"right-start":"left-start",UO="top",jO="bottom",KO={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},GO={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Pt extends At{constructor(e,n){super(e,n),this._popper=null,this._parent=this._element.parentNode,this._menu=W.next(this._element,vr)[0]||W.prev(this._element,vr)[0]||W.findOne(vr,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return KO}static get DefaultType(){return GO}static get NAME(){return cf}toggle(){return this._isShown()?this.hide():this.show()}show(){if(bn(this._element)||this._isShown())return;const e={relatedTarget:this._element};if(!S.trigger(this._element,SO,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(MO))for(const s of[].concat(...document.body.children))S.on(s,"mouseover",zr);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(_s),this._element.classList.add(_s),S.trigger(this._element,AO,e)}}hide(){if(bn(this._element)||!this._isShown())return;const e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!S.trigger(this._element,CO,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(const s of[].concat(...document.body.children))S.off(s,"mouseover",zr);this._popper&&this._popper.destroy(),this._menu.classList.remove(_s),this._element.classList.remove(_s),this._element.setAttribute("aria-expanded","false"),zt.removeDataAttribute(this._menu,"popper"),S.trigger(this._element,TO,e)}}_getConfig(e){if(e=super._getConfig(e),typeof e.reference=="object"&&!Gt(e.reference)&&typeof e.reference.getBoundingClientRect!="function")throw new TypeError(`${cf.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){if(typeof Dm>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let e=this._element;this._config.reference==="parent"?e=this._parent:Gt(this._config.reference)?e=yn(this._config.reference):typeof this._config.reference=="object"&&(e=this._config.reference);const n=this._getPopperConfig();this._popper=Hc(e,this._menu,n)}_isShown(){return this._menu.classList.contains(_s)}_getPlacement(){const e=this._parent;if(e.classList.contains(OO))return HO;if(e.classList.contains(RO))return WO;if(e.classList.contains(DO))return UO;if(e.classList.contains(xO))return jO;const n=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return e.classList.contains(NO)?n?FO:$O:n?BO:VO}_detectNavbar(){return this._element.closest(LO)!==null}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(n=>Number.parseInt(n,10)):typeof e=="function"?n=>e(n,this._element):e}_getPopperConfig(){const e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(zt.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,...Ge(this._config.popperConfig,[e])}}_selectMenuItem({key:e,target:n}){const s=W.find(kO,this._menu).filter(i=>Qs(i));s.length&&Wc(s,n,e===hf,!s.includes(n)).focus()}static jQueryInterface(e){return this.each(function(){const n=Pt.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e]()}})}static clearMenus(e){if(e.button===wO||e.type==="keyup"&&e.key!==uf)return;const n=W.find(PO);for(const s of n){const i=Pt.getInstance(s);if(!i||i._config.autoClose===!1)continue;const r=e.composedPath(),o=r.includes(i._menu);if(r.includes(i._element)||i._config.autoClose==="inside"&&!o||i._config.autoClose==="outside"&&o||i._menu.contains(e.target)&&(e.type==="keyup"&&e.key===uf||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;const a={relatedTarget:i._element};e.type==="click"&&(a.clickEvent=e),i._completeHide(a)}}static dataApiKeydownHandler(e){const n=/input|textarea/i.test(e.target.tagName),s=e.key===yO,i=[bO,hf].includes(e.key);if(!i&&!s||n&&!s)return;e.preventDefault();const r=this.matches(kn)?this:W.prev(this,kn)[0]||W.next(this,kn)[0]||W.findOne(kn,e.delegateTarget.parentNode),o=Pt.getOrCreateInstance(r);if(i){e.stopPropagation(),o.show(),o._selectMenuItem(e);return}o._isShown()&&(e.stopPropagation(),o.hide(),r.focus())}}S.on(document,Ym,kn,Pt.dataApiKeydownHandler);S.on(document,Ym,vr,Pt.dataApiKeydownHandler);S.on(document,qm,Pt.clearMenus);S.on(document,IO,Pt.clearMenus);S.on(document,qm,kn,function(t){t.preventDefault(),Pt.getOrCreateInstance(this).toggle()});mt(Pt);const Qm="backdrop",zO="fade",ff="show",df=`mousedown.bs.${Qm}`,qO={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},YO={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Xm extends qi{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return qO}static get DefaultType(){return YO}static get NAME(){return Qm}show(e){if(!this._config.isVisible){Ge(e);return}this._append();const n=this._getElement();this._config.isAnimated&&zi(n),n.classList.add(ff),this._emulateAnimation(()=>{Ge(e)})}hide(e){if(!this._config.isVisible){Ge(e);return}this._getElement().classList.remove(ff),this._emulateAnimation(()=>{this.dispose(),Ge(e)})}dispose(){this._isAppended&&(S.off(this._element,df),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add(zO),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=yn(e.rootElement),e}_append(){if(this._isAppended)return;const e=this._getElement();this._config.rootElement.append(e),S.on(e,df,()=>{Ge(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(e){km(e,this._getElement(),this._config.isAnimated)}}const QO="focustrap",XO="bs.focustrap",Yr=`.${XO}`,JO=`focusin${Yr}`,ZO=`keydown.tab${Yr}`,eR="Tab",tR="forward",pf="backward",nR={autofocus:!0,trapElement:null},sR={autofocus:"boolean",trapElement:"element"};class Jm extends qi{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return nR}static get DefaultType(){return sR}static get NAME(){return QO}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),S.off(document,Yr),S.on(document,JO,e=>this._handleFocusin(e)),S.on(document,ZO,e=>this._handleKeydown(e)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,S.off(document,Yr))}_handleFocusin(e){const{trapElement:n}=this._config;if(e.target===document||e.target===n||n.contains(e.target))return;const s=W.focusableChildren(n);s.length===0?n.focus():this._lastTabNavDirection===pf?s[s.length-1].focus():s[0].focus()}_handleKeydown(e){e.key===eR&&(this._lastTabNavDirection=e.shiftKey?pf:tR)}}const _f=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",mf=".sticky-top",lr="padding-right",gf="margin-right";class El{constructor(){this._element=document.body}getWidth(){const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){const e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,lr,n=>n+e),this._setElementAttributes(_f,lr,n=>n+e),this._setElementAttributes(mf,gf,n=>n-e)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,lr),this._resetElementAttributes(_f,lr),this._resetElementAttributes(mf,gf)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,n,s){const i=this.getWidth(),r=o=>{if(o!==this._element&&window.innerWidth>o.clientWidth+i)return;this._saveInitialAttribute(o,n);const a=window.getComputedStyle(o).getPropertyValue(n);o.style.setProperty(n,`${s(Number.parseFloat(a))}px`)};this._applyManipulationCallback(e,r)}_saveInitialAttribute(e,n){const s=e.style.getPropertyValue(n);s&&zt.setDataAttribute(e,n,s)}_resetElementAttributes(e,n){const s=i=>{const r=zt.getDataAttribute(i,n);if(r===null){i.style.removeProperty(n);return}zt.removeDataAttribute(i,n),i.style.setProperty(n,r)};this._applyManipulationCallback(e,s)}_applyManipulationCallback(e,n){if(Gt(e)){n(e);return}for(const s of W.find(e,this._element))n(s)}}const iR="modal",rR="bs.modal",_t=`.${rR}`,oR=".data-api",aR="Escape",lR=`hide${_t}`,cR=`hidePrevented${_t}`,Zm=`hidden${_t}`,eg=`show${_t}`,uR=`shown${_t}`,hR=`resize${_t}`,fR=`click.dismiss${_t}`,dR=`mousedown.dismiss${_t}`,pR=`keydown.dismiss${_t}`,_R=`click${_t}${oR}`,vf="modal-open",mR="fade",Ef="show",va="modal-static",gR=".modal.show",vR=".modal-dialog",ER=".modal-body",yR='[data-bs-toggle="modal"]',bR={backdrop:!0,focus:!0,keyboard:!0},wR={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Hs extends At{constructor(e,n){super(e,n),this._dialog=W.findOne(vR,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new El,this._addEventListeners()}static get Default(){return bR}static get DefaultType(){return wR}static get NAME(){return iR}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||S.trigger(this._element,eg,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(vf),this._adjustDialog(),this._backdrop.show(()=>this._showElement(e)))}hide(){!this._isShown||this._isTransitioning||S.trigger(this._element,lR).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(Ef),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){S.off(window,_t),S.off(this._dialog,_t),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Xm({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Jm({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const n=W.findOne(ER,this._dialog);n&&(n.scrollTop=0),zi(this._element),this._element.classList.add(Ef);const s=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,S.trigger(this._element,uR,{relatedTarget:e})};this._queueCallback(s,this._dialog,this._isAnimated())}_addEventListeners(){S.on(this._element,pR,e=>{if(e.key===aR){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),S.on(window,hR,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),S.on(this._element,dR,e=>{S.one(this._element,fR,n=>{if(!(this._element!==e.target||this._element!==n.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(vf),this._resetAdjustments(),this._scrollBar.reset(),S.trigger(this._element,Zm)})}_isAnimated(){return this._element.classList.contains(mR)}_triggerBackdropTransition(){if(S.trigger(this._element,cR).defaultPrevented)return;const n=this._element.scrollHeight>document.documentElement.clientHeight,s=this._element.style.overflowY;s==="hidden"||this._element.classList.contains(va)||(n||(this._element.style.overflowY="hidden"),this._element.classList.add(va),this._queueCallback(()=>{this._element.classList.remove(va),this._queueCallback(()=>{this._element.style.overflowY=s},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const e=this._element.scrollHeight>document.documentElement.clientHeight,n=this._scrollBar.getWidth(),s=n>0;if(s&&!e){const i=pt()?"paddingLeft":"paddingRight";this._element.style[i]=`${n}px`}if(!s&&e){const i=pt()?"paddingRight":"paddingLeft";this._element.style[i]=`${n}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,n){return this.each(function(){const s=Hs.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof s[e]>"u")throw new TypeError(`No method named "${e}"`);s[e](n)}})}}S.on(document,_R,yR,function(t){const e=W.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&t.preventDefault(),S.one(e,eg,i=>{i.defaultPrevented||S.one(e,Zm,()=>{Qs(this)&&this.focus()})});const n=W.findOne(gR);n&&Hs.getInstance(n).hide(),Hs.getOrCreateInstance(e).toggle(this)});Oo(Hs);mt(Hs);const CR="offcanvas",TR="bs.offcanvas",Zt=`.${TR}`,tg=".data-api",SR=`load${Zt}${tg}`,AR="Escape",yf="show",bf="showing",wf="hiding",IR="offcanvas-backdrop",ng=".offcanvas.show",NR=`show${Zt}`,OR=`shown${Zt}`,RR=`hide${Zt}`,Cf=`hidePrevented${Zt}`,sg=`hidden${Zt}`,DR=`resize${Zt}`,xR=`click${Zt}${tg}`,PR=`keydown.dismiss${Zt}`,LR='[data-bs-toggle="offcanvas"]',MR={backdrop:!0,keyboard:!0,scroll:!1},kR={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class wn extends At{constructor(e,n){super(e,n),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return MR}static get DefaultType(){return kR}static get NAME(){return CR}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){if(this._isShown||S.trigger(this._element,NR,{relatedTarget:e}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new El().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(bf);const s=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(yf),this._element.classList.remove(bf),S.trigger(this._element,OR,{relatedTarget:e})};this._queueCallback(s,this._element,!0)}hide(){if(!this._isShown||S.trigger(this._element,RR).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(wf),this._backdrop.hide();const n=()=>{this._element.classList.remove(yf,wf),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new El().reset(),S.trigger(this._element,sg)};this._queueCallback(n,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const e=()=>{if(this._config.backdrop==="static"){S.trigger(this._element,Cf);return}this.hide()},n=!!this._config.backdrop;return new Xm({className:IR,isVisible:n,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:n?e:null})}_initializeFocusTrap(){return new Jm({trapElement:this._element})}_addEventListeners(){S.on(this._element,PR,e=>{if(e.key===AR){if(this._config.keyboard){this.hide();return}S.trigger(this._element,Cf)}})}static jQueryInterface(e){return this.each(function(){const n=wn.getOrCreateInstance(this,e);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e](this)}})}}S.on(document,xR,LR,function(t){const e=W.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&t.preventDefault(),bn(this))return;S.one(e,sg,()=>{Qs(this)&&this.focus()});const n=W.findOne(ng);n&&n!==e&&wn.getInstance(n).hide(),wn.getOrCreateInstance(e).toggle(this)});S.on(window,SR,()=>{for(const t of W.find(ng))wn.getOrCreateInstance(t).show()});S.on(window,DR,()=>{for(const t of W.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(t).position!=="fixed"&&wn.getOrCreateInstance(t).hide()});Oo(wn);mt(wn);const $R=/^aria-[\w-]*$/i,ig={"*":["class","dir","id","lang","role",$R],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},FR=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),VR=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,BR=(t,e)=>{const n=t.nodeName.toLowerCase();return e.includes(n)?FR.has(n)?!!VR.test(t.nodeValue):!0:e.filter(s=>s instanceof RegExp).some(s=>s.test(n))};function HR(t,e,n){if(!t.length)return t;if(n&&typeof n=="function")return n(t);const i=new window.DOMParser().parseFromString(t,"text/html"),r=[].concat(...i.body.querySelectorAll("*"));for(const o of r){const a=o.nodeName.toLowerCase();if(!Object.keys(e).includes(a)){o.remove();continue}const l=[].concat(...o.attributes),c=[].concat(e["*"]||[],e[a]||[]);for(const u of l)BR(u,c)||o.removeAttribute(u.nodeName)}return i.body.innerHTML}const WR="TemplateFactory",UR={allowList:ig,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},jR={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},KR={entry:"(string|element|function|null)",selector:"(string|element)"};class GR extends qi{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return UR}static get DefaultType(){return jR}static get NAME(){return WR}getContent(){return Object.values(this._config.content).map(e=>this._resolvePossibleFunction(e)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content={...this._config.content,...e},this}toHtml(){const e=document.createElement("div");e.innerHTML=this._maybeSanitize(this._config.template);for(const[i,r]of Object.entries(this._config.content))this._setContent(e,r,i);const n=e.children[0],s=this._resolvePossibleFunction(this._config.extraClass);return s&&n.classList.add(...s.split(" ")),n}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(const[n,s]of Object.entries(e))super._typeCheckConfig({selector:n,entry:s},KR)}_setContent(e,n,s){const i=W.findOne(s,e);if(i){if(n=this._resolvePossibleFunction(n),!n){i.remove();return}if(Gt(n)){this._putElementInTemplate(yn(n),i);return}if(this._config.html){i.innerHTML=this._maybeSanitize(n);return}i.textContent=n}}_maybeSanitize(e){return this._config.sanitize?HR(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return Ge(e,[this])}_putElementInTemplate(e,n){if(this._config.html){n.innerHTML="",n.append(e);return}n.textContent=e.textContent}}const zR="tooltip",qR=new Set(["sanitize","allowList","sanitizeFn"]),Ea="fade",YR="modal",cr="show",QR=".tooltip-inner",Tf=`.${YR}`,Sf="hide.bs.modal",oi="hover",ya="focus",XR="click",JR="manual",ZR="hide",e0="hidden",t0="show",n0="shown",s0="inserted",i0="click",r0="focusin",o0="focusout",a0="mouseenter",l0="mouseleave",c0={AUTO:"auto",TOP:"top",RIGHT:pt()?"left":"right",BOTTOM:"bottom",LEFT:pt()?"right":"left"},u0={allowList:ig,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},h0={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Js extends At{constructor(e,n){if(typeof Dm>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(e,n),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return u0}static get DefaultType(){return h0}static get NAME(){return zR}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),S.off(this._element.closest(Tf),Sf,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const e=S.trigger(this._element,this.constructor.eventName(t0)),s=(Lm(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!s)return;this._disposePopper();const i=this._getTipElement();this._element.setAttribute("aria-describedby",i.getAttribute("id"));const{container:r}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(r.append(i),S.trigger(this._element,this.constructor.eventName(s0))),this._popper=this._createPopper(i),i.classList.add(cr),"ontouchstart"in document.documentElement)for(const a of[].concat(...document.body.children))S.on(a,"mouseover",zr);const o=()=>{S.trigger(this._element,this.constructor.eventName(n0)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(o,this.tip,this._isAnimated())}hide(){if(!this._isShown()||S.trigger(this._element,this.constructor.eventName(ZR)).defaultPrevented)return;if(this._getTipElement().classList.remove(cr),"ontouchstart"in document.documentElement)for(const i of[].concat(...document.body.children))S.off(i,"mouseover",zr);this._activeTrigger[XR]=!1,this._activeTrigger[ya]=!1,this._activeTrigger[oi]=!1,this._isHovered=null;const s=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),S.trigger(this._element,this.constructor.eventName(e0)))};this._queueCallback(s,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){const n=this._getTemplateFactory(e).toHtml();if(!n)return null;n.classList.remove(Ea,cr),n.classList.add(`bs-${this.constructor.NAME}-auto`);const s=XI(this.constructor.NAME).toString();return n.setAttribute("id",s),this._isAnimated()&&n.classList.add(Ea),n}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new GR({...this._config,content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[QR]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Ea)}_isShown(){return this.tip&&this.tip.classList.contains(cr)}_createPopper(e){const n=Ge(this._config.placement,[this,e,this._element]),s=c0[n.toUpperCase()];return Hc(this._element,e,this._getPopperConfig(s))}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(n=>Number.parseInt(n,10)):typeof e=="function"?n=>e(n,this._element):e}_resolvePossibleFunction(e){return Ge(e,[this._element])}_getPopperConfig(e){const n={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:s=>{this._getTipElement().setAttribute("data-popper-placement",s.state.placement)}}]};return{...n,...Ge(this._config.popperConfig,[n])}}_setListeners(){const e=this._config.trigger.split(" ");for(const n of e)if(n==="click")S.on(this._element,this.constructor.eventName(i0),this._config.selector,s=>{this._initializeOnDelegatedTarget(s).toggle()});else if(n!==JR){const s=n===oi?this.constructor.eventName(a0):this.constructor.eventName(r0),i=n===oi?this.constructor.eventName(l0):this.constructor.eventName(o0);S.on(this._element,s,this._config.selector,r=>{const o=this._initializeOnDelegatedTarget(r);o._activeTrigger[r.type==="focusin"?ya:oi]=!0,o._enter()}),S.on(this._element,i,this._config.selector,r=>{const o=this._initializeOnDelegatedTarget(r);o._activeTrigger[r.type==="focusout"?ya:oi]=o._element.contains(r.relatedTarget),o._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},S.on(this._element.closest(Tf),Sf,this._hideModalHandler)}_fixTitle(){const e=this._element.getAttribute("title");e&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(e,n){clearTimeout(this._timeout),this._timeout=setTimeout(e,n)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){const n=zt.getDataAttributes(this._element);for(const s of Object.keys(n))qR.has(s)&&delete n[s];return e={...n,...typeof e=="object"&&e?e:{}},e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=e.container===!1?document.body:yn(e.container),typeof e.delay=="number"&&(e.delay={show:e.delay,hide:e.delay}),typeof e.title=="number"&&(e.title=e.title.toString()),typeof e.content=="number"&&(e.content=e.content.toString()),e}_getDelegateConfig(){const e={};for(const[n,s]of Object.entries(this._config))this.constructor.Default[n]!==s&&(e[n]=s);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each(function(){const n=Js.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e]()}})}}mt(Js);const f0="popover",d0=".popover-header",p0=".popover-body",_0={...Js.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},m0={...Js.DefaultType,content:"(null|string|element|function)"};class Kc extends Js{static get Default(){return _0}static get DefaultType(){return m0}static get NAME(){return f0}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[d0]:this._getTitle(),[p0]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each(function(){const n=Kc.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e]()}})}}mt(Kc);const g0="scrollspy",v0="bs.scrollspy",Gc=`.${v0}`,E0=".data-api",y0=`activate${Gc}`,Af=`click${Gc}`,b0=`load${Gc}${E0}`,w0="dropdown-item",cs="active",C0='[data-bs-spy="scroll"]',ba="[href]",T0=".nav, .list-group",If=".nav-link",S0=".nav-item",A0=".list-group-item",I0=`${If}, ${S0} > ${If}, ${A0}`,N0=".dropdown",O0=".dropdown-toggle",R0={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},D0={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class xo extends At{constructor(e,n){super(e,n),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return R0}static get DefaultType(){return D0}static get NAME(){return g0}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const e of this._observableSections.values())this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=yn(e.target)||document.body,e.rootMargin=e.offset?`${e.offset}px 0px -30%`:e.rootMargin,typeof e.threshold=="string"&&(e.threshold=e.threshold.split(",").map(n=>Number.parseFloat(n))),e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(S.off(this._config.target,Af),S.on(this._config.target,Af,ba,e=>{const n=this._observableSections.get(e.target.hash);if(n){e.preventDefault();const s=this._rootElement||window,i=n.offsetTop-this._element.offsetTop;if(s.scrollTo){s.scrollTo({top:i,behavior:"smooth"});return}s.scrollTop=i}}))}_getNewObserver(){const e={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(n=>this._observerCallback(n),e)}_observerCallback(e){const n=o=>this._targetLinks.get(`#${o.target.id}`),s=o=>{this._previousScrollData.visibleEntryTop=o.target.offsetTop,this._process(n(o))},i=(this._rootElement||document.documentElement).scrollTop,r=i>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=i;for(const o of e){if(!o.isIntersecting){this._activeTarget=null,this._clearActiveClass(n(o));continue}const a=o.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(r&&a){if(s(o),!i)return;continue}!r&&!a&&s(o)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const e=W.find(ba,this._config.target);for(const n of e){if(!n.hash||bn(n))continue;const s=W.findOne(decodeURI(n.hash),this._element);Qs(s)&&(this._targetLinks.set(decodeURI(n.hash),n),this._observableSections.set(n.hash,s))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(cs),this._activateParents(e),S.trigger(this._element,y0,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains(w0)){W.findOne(O0,e.closest(N0)).classList.add(cs);return}for(const n of W.parents(e,T0))for(const s of W.prev(n,I0))s.classList.add(cs)}_clearActiveClass(e){e.classList.remove(cs);const n=W.find(`${ba}.${cs}`,e);for(const s of n)s.classList.remove(cs)}static jQueryInterface(e){return this.each(function(){const n=xo.getOrCreateInstance(this,e);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e]()}})}}S.on(window,b0,()=>{for(const t of W.find(C0))xo.getOrCreateInstance(t)});mt(xo);const x0="tab",P0="bs.tab",rs=`.${P0}`,L0=`hide${rs}`,M0=`hidden${rs}`,k0=`show${rs}`,$0=`shown${rs}`,F0=`click${rs}`,V0=`keydown${rs}`,B0=`load${rs}`,H0="ArrowLeft",Nf="ArrowRight",W0="ArrowUp",Of="ArrowDown",wa="Home",Rf="End",$n="active",Df="fade",Ca="show",U0="dropdown",rg=".dropdown-toggle",j0=".dropdown-menu",Ta=`:not(${rg})`,K0='.list-group, .nav, [role="tablist"]',G0=".nav-item, .list-group-item",z0=`.nav-link${Ta}, .list-group-item${Ta}, [role="tab"]${Ta}`,og='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Sa=`${z0}, ${og}`,q0=`.${$n}[data-bs-toggle="tab"], .${$n}[data-bs-toggle="pill"], .${$n}[data-bs-toggle="list"]`;class Ws extends At{constructor(e){super(e),this._parent=this._element.closest(K0),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),S.on(this._element,V0,n=>this._keydown(n)))}static get NAME(){return x0}show(){const e=this._element;if(this._elemIsActive(e))return;const n=this._getActiveElem(),s=n?S.trigger(n,L0,{relatedTarget:e}):null;S.trigger(e,k0,{relatedTarget:n}).defaultPrevented||s&&s.defaultPrevented||(this._deactivate(n,e),this._activate(e,n))}_activate(e,n){if(!e)return;e.classList.add($n),this._activate(W.getElementFromSelector(e));const s=()=>{if(e.getAttribute("role")!=="tab"){e.classList.add(Ca);return}e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),S.trigger(e,$0,{relatedTarget:n})};this._queueCallback(s,e,e.classList.contains(Df))}_deactivate(e,n){if(!e)return;e.classList.remove($n),e.blur(),this._deactivate(W.getElementFromSelector(e));const s=()=>{if(e.getAttribute("role")!=="tab"){e.classList.remove(Ca);return}e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),S.trigger(e,M0,{relatedTarget:n})};this._queueCallback(s,e,e.classList.contains(Df))}_keydown(e){if(![H0,Nf,W0,Of,wa,Rf].includes(e.key))return;e.stopPropagation(),e.preventDefault();const n=this._getChildren().filter(i=>!bn(i));let s;if([wa,Rf].includes(e.key))s=n[e.key===wa?0:n.length-1];else{const i=[Nf,Of].includes(e.key);s=Wc(n,e.target,i,!0)}s&&(s.focus({preventScroll:!0}),Ws.getOrCreateInstance(s).show())}_getChildren(){return W.find(Sa,this._parent)}_getActiveElem(){return this._getChildren().find(e=>this._elemIsActive(e))||null}_setInitialAttributes(e,n){this._setAttributeIfNotExists(e,"role","tablist");for(const s of n)this._setInitialAttributesOnChild(s)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);const n=this._elemIsActive(e),s=this._getOuterElement(e);e.setAttribute("aria-selected",n),s!==e&&this._setAttributeIfNotExists(s,"role","presentation"),n||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){const n=W.getElementFromSelector(e);n&&(this._setAttributeIfNotExists(n,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(n,"aria-labelledby",`${e.id}`))}_toggleDropDown(e,n){const s=this._getOuterElement(e);if(!s.classList.contains(U0))return;const i=(r,o)=>{const a=W.findOne(r,s);a&&a.classList.toggle(o,n)};i(rg,$n),i(j0,Ca),s.setAttribute("aria-expanded",n)}_setAttributeIfNotExists(e,n,s){e.hasAttribute(n)||e.setAttribute(n,s)}_elemIsActive(e){return e.classList.contains($n)}_getInnerElement(e){return e.matches(Sa)?e:W.findOne(Sa,e)}_getOuterElement(e){return e.closest(G0)||e}static jQueryInterface(e){return this.each(function(){const n=Ws.getOrCreateInstance(this);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e]()}})}}S.on(document,F0,og,function(t){["A","AREA"].includes(this.tagName)&&t.preventDefault(),!bn(this)&&Ws.getOrCreateInstance(this).show()});S.on(window,B0,()=>{for(const t of W.find(q0))Ws.getOrCreateInstance(t)});mt(Ws);const Y0="toast",Q0="bs.toast",An=`.${Q0}`,X0=`mouseover${An}`,J0=`mouseout${An}`,Z0=`focusin${An}`,eD=`focusout${An}`,tD=`hide${An}`,nD=`hidden${An}`,sD=`show${An}`,iD=`shown${An}`,rD="fade",xf="hide",ur="show",hr="showing",oD={animation:"boolean",autohide:"boolean",delay:"number"},aD={animation:!0,autohide:!0,delay:5e3};class Po extends At{constructor(e,n){super(e,n),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return aD}static get DefaultType(){return oD}static get NAME(){return Y0}show(){if(S.trigger(this._element,sD).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(rD);const n=()=>{this._element.classList.remove(hr),S.trigger(this._element,iD),this._maybeScheduleHide()};this._element.classList.remove(xf),zi(this._element),this._element.classList.add(ur,hr),this._queueCallback(n,this._element,this._config.animation)}hide(){if(!this.isShown()||S.trigger(this._element,tD).defaultPrevented)return;const n=()=>{this._element.classList.add(xf),this._element.classList.remove(hr,ur),S.trigger(this._element,nD)};this._element.classList.add(hr),this._queueCallback(n,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(ur),super.dispose()}isShown(){return this._element.classList.contains(ur)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(e,n){switch(e.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=n;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=n;break}}if(n){this._clearTimeout();return}const s=e.relatedTarget;this._element===s||this._element.contains(s)||this._maybeScheduleHide()}_setListeners(){S.on(this._element,X0,e=>this._onInteraction(e,!0)),S.on(this._element,J0,e=>this._onInteraction(e,!1)),S.on(this._element,Z0,e=>this._onInteraction(e,!0)),S.on(this._element,eD,e=>this._onInteraction(e,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each(function(){const n=Po.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e](this)}})}}Oo(Po);mt(Po);let ag=EE(WA);ag.use(aI);ag.mount("#app");
